{"version":3,"file":"static/js/680.cf447d93.chunk.js","mappings":"gXAyCA,EAvCmB,WACjB,OACE,gBAAKA,UAAW,sBAAuBC,MAAO,CAACC,SAAU,QAASC,IAAK,EAAGC,KAAK,EAAGC,QAAS,OAAQC,eAAgB,SAAWC,WAAY,SAAUC,QAAS,EAAGC,MAAO,QAAQ,UAC3K,iBAEAC,MAAM,6BACNC,oBAAoB,iBACpBC,QAAQ,eACRX,MAAO,CAAEY,UAAW,QAASJ,MAAO,QAAS,WAE7C,iBACIK,KAAK,UACLC,EAAE,+JAEN,iBACID,KAAK,UACLC,EAAE,8JAEN,iBACID,KAAK,UACLC,EAAE,8GAEN,iBACID,KAAK,UACLC,EAAE,2QAEN,iBACID,KAAK,UACLC,EAAE,uGAEN,iBACID,KAAK,UACLC,EAAE,8KAKd,ECtCA,GAAgB,UAAY,0BAA0B,SAAW,yBAAyB,IAAM,oBAAoB,QAAU,wBAAwB,MAAQ,uB,sBCGxJC,EAAK,yCAAE,WAAOC,EAAaC,GAAQ,+FACpBC,EAAAA,EAAAA,IAAM,CACnBC,IAAI,GAAD,OAAKC,EAAAA,GAAU,eAClBC,OAAQ,OACRC,KAAM,CACFN,YAAAA,EAAaC,SAAAA,KAEnB,OANO,OAAHM,EAAI,EAAD,cAOWA,EAAID,KAAI,OAK3B,OALKE,EAAO,EAAD,KACgB,MAAzBC,SAASF,EAAIG,UAAqC,KAAZ,OAANF,QAAM,IAANA,OAAM,EAANA,EAAQT,SACvCY,EAAAA,EAAAA,IAAY,MAAOH,EAAOI,KAAKC,KAC/BF,EAAAA,EAAAA,IAAY,cAAeH,EAAOM,aAClCC,OAAOC,SAASC,KAAMF,OAAOC,SAASE,QACzC,kBACMV,GAAM,2CAChB,gBAfU,wCAiBX,I,WCyEA,EAnFc,SAACW,GACb,IAAMC,GAAWC,EAAAA,EAAAA,MAGjB,GAAuCC,EAAAA,EAAAA,WAAS,GAAM,eAA/CC,EAAY,KAAEC,EAAe,KACpC,GAAsCF,EAAAA,EAAAA,WAAS,iBAAM,EAAE,IAAC,eAAjDtB,EAAW,KAAEyB,EAAc,KAClC,GAAgCH,EAAAA,EAAAA,WAAS,iBAAM,EAAE,IAAC,eAA3CrB,EAAQ,KAAEyB,EAAW,KAErBC,GAAmBC,EAAAA,EAAAA,MAAnBD,gBAEP,OACE,iBAAK5C,UAAW8C,EAAAA,UAAiB,WAC/B,gBAAK9C,UAAW8C,EAAAA,SAAgB,UAE5B,iCACE,iBAAK9C,UAAW8C,EAAAA,eAAuB7C,MAAO,CAAE8C,aAAc,GAAIC,SAAU,IAAK,6EAC5C,kBAAS,0FAG9C,kBAAMC,OAAO,IAAG,WACd,iBAAKjD,UAAW8C,EAAAA,oBAA2B,WACzC,kBACEI,KAAK,OACLC,YAAY,oDACZC,SAAU,SAACC,GAAC,OAAKX,EAAeW,EAAEC,OAAOC,MAAM,EAC/CC,aAAc,SAEhB,2BACE,SAAC,MAAW,UAGhB,iBAAKvD,MAAO,CAACC,SAAU,YAAaF,UAAW8C,EAAAA,oBAA2B,WACxE,kBACEI,MAAsB,IAAhBV,EAAuB,OAAS,WACtCW,YAAY,qBACZM,UAAQ,EACRL,SAAU,SAACC,GAAC,OAAKV,EAAYU,EAAEC,OAAOC,MAAM,EAC5CC,aAAc,SAEhB,4BACG,KACD,SAAC,MAAa,QAEhB,kBAAMvD,MAAO,CAACC,SAAU,WAAYE,KAAM,OAAQD,IAAK,MAAOuD,UAAW,0BAA0B,WAE/E,IAAhBlB,IAAyB,SAAC,MAAM,CAACmB,QAAS,kBAAKlB,GAAgB,EAAK,KAGpD,IAAhBD,IACA,SAAC,MAAS,CAACmB,QAAS,kBAAKlB,GAAgB,EAAM,WAKrD,mBACEkB,SAAO,uBAAE,yGACa3C,EAAMC,EAAaC,GAAS,OAA1CO,EAAO,EAAD,KACoB,MAA7BC,SAAe,OAAND,QAAM,IAANA,OAAM,EAANA,EAAQE,SAA+C,MAA5BD,SAAe,OAAND,QAAM,IAANA,OAAM,EAANA,EAAQE,SACtDiB,EAAuB,OAANnB,QAAM,IAANA,OAAM,EAANA,EAAQmC,IAAK,CAC5BC,QAAS,UAEZ,2CAEH7D,UAAW8C,EAAAA,IAAY7C,MAAO,CAAC+C,SAAU,IAAI,uCAI/C,gBAAKW,QAAS,kBAAKtB,EAAS,mBAAmB,EAAEpC,MAAO,CAAEQ,MAAO,OAAQqD,UAAW,QAASd,SAAU,GAAIe,OAAQ,WAAW,yCAI9H,gBAAK/D,UAAW8C,EAAAA,QAAe,UAC7B,SAAC,KAAI,CAAC7C,MAAO,CAAC+C,SAAU,IAAKgB,GAAG,UAAS,6CAMnD,SAAC,EAAU,MAGjB,E,WCzFMC,G,SAAM,yCAAE,WAAOC,EAAUjD,EAAaC,EAAUiD,EAAOC,GAAO,+FAC/CjD,EAAAA,EAAAA,IAAM,CACnBC,IAAI,GAAD,OAAKC,EAAAA,GAAU,kBAClBC,OAAQ,OACRC,KAAM,CACF2C,SAAAA,EAAUjD,YAAAA,EAAaC,SAAAA,EAAUiD,MAAAA,KAGvC,OAPO,OAAH3C,EAAI,EAAD,cAQWA,EAAID,KAAI,OAG3B,OAHKE,EAAO,EAAD,KACK,MAAdD,EAAIG,SACHK,OAAOC,SAASC,KAAMF,OAAOC,SAASE,OAAO,UAChD,kBACMiC,EAAQ3C,IAAO,2CACzB,gBAdW,+CAgBZ,IChBM4C,EAAU,yCAAG,WAAOF,EAAOlD,GAAW,+FACvBE,EAAAA,EAAAA,IAAM,CACnBC,IAAKC,EAAAA,GAAY,uBACjBC,OAAQ,OACRC,KAAM,CACF4C,MAAAA,EAAOlD,YAAwB,OAAXA,QAAW,IAAXA,OAAW,EAAXA,EAAaqD,cAEvC,OANO,OAAH9C,EAAI,EAAD,cAOWA,EAAID,KAAI,OAAhB,OAANE,EAAO,EAAD,uBACLA,GAAM,2CAChB,gBAVe,wCAYhB,ICZM8C,EAAe,yCAAE,WAAOJ,EAAOC,EAASlB,GAAI,+FAC7B/B,EAAAA,EAAAA,IAAM,CACnBC,IAAKC,EAAAA,GAAY,qBACjBC,OAAQ,OACRC,KAAM,CACF4C,MAAAA,EACAjB,KAAMA,IAAQ,KAGpB,OARO,OAAH1B,EAAI,EAAD,cASWA,EAAID,KAAI,OAAhB,OAANE,EAAO,EAAD,uBACL2C,EAAQ3C,IAAO,2CACzB,gBAZoB,0CAcrB,I,WCdM+C,EAAY,yCAAE,WAAOL,EAAOM,EAAaC,GAAS,+FACnCvD,EAAAA,EAAAA,IAAM,CACnBC,IAAKC,EAAAA,GAAY,yBACjBC,OAAQ,OACRC,KAAM,CACF4C,MAAAA,EAAOM,YAAwB,OAAXA,QAAW,IAAXA,OAAW,EAAXA,EAAaH,cAEvC,OANO,OAAH9C,EAAI,EAAD,cAOWA,EAAID,KAAI,OAAhB,OAANE,EAAO,EAAD,uBACLiD,EAAUjD,IAAO,2CAC3B,gBAViB,0CAYlB,ICZMkD,EAAc,yCAAE,WAAOR,EAAOjD,EAAUmB,GAAQ,+FACjClB,EAAAA,EAAAA,IAAM,CACnBC,IAAKC,EAAAA,GAAY,2BACjBC,OAAQ,OACRC,KAAM,CACF4C,MAAAA,EAAOjD,SAAkB,OAARA,QAAQ,IAARA,OAAQ,EAARA,EAAUoD,cAEjC,OANO,OAAH9C,EAAI,EAAD,cAOWA,EAAID,KAAI,OAAhB,OAANE,EAAO,EAAD,uBACLA,GAAM,2CAChB,gBAVmB,0CAYpB,I,oBCfe,SAASmD,EAAiB1D,GAKrC,QAHsB,yDAGJ2D,KAAK3D,EAKzB,CCMF,IA2Ja4D,GAAWC,EAAAA,EAAAA,OAAK,YAAc,IAAZpD,EAAM,EAANA,OACtBiB,GAAmBC,EAAAA,EAAAA,MAAnBD,gBAEP,OACE,gBAAK3C,MAAO,CAACI,QAAS,QAAQ,UACR,KAAb,OAANsB,QAAM,IAANA,OAAM,EAANA,EAAQqD,SAAoBpC,EAAgB,kDAA+B,CAC1EiB,QAAS,WAIjB,IAEA,EAvKuB,SAACzB,GAEtB,IAAMC,GAAWC,EAAAA,EAAAA,MACVM,GAAmBC,EAAAA,EAAAA,MAAnBD,gBAEP,GAA4BL,EAAAA,EAAAA,YAAU,eAA/Bd,EAAM,KAAEwD,EAAS,KACxB,GAAsC1C,EAAAA,EAAAA,YAAU,eAAzC2C,EAAW,KAAEC,EAAc,KAElC,GAAsC5C,EAAAA,EAAAA,WAAS,iBAAM,EAAE,IAAC,eAAjDtB,EAAW,KAAEyB,EAAc,KAClC,GAA4BH,EAAAA,EAAAA,YAAU,eAA/BZ,EAAM,KAAE+C,EAAS,KACxB,GAAgCnC,EAAAA,EAAAA,YAAU,eAAnCrB,EAAQ,KAAEyB,EAAW,KAE5B,GAA8CJ,EAAAA,EAAAA,YAAU,eAAjD6C,EAAe,KAAEC,EAAkB,KAE1C,OACE,iBAAKrF,UAAW8C,EAAAA,UAAiB,WAC/B,gBAAK9C,UAAW8C,EAAAA,SAAgB,UAE5B,iCACE,iBACE9C,UAAW8C,EAAAA,eACX7C,MAAO,CAAE8C,aAAc,GAAIC,SAAU,IAAK,yCAE5B,sBAEhB,kBAAMC,OAAO,IAAG,WACZxB,IACA,iCACE,iBAAKzB,UAAW8C,EAAAA,oBAA2B,WACzC,kBACEI,KAAK,QACLC,YAAY,sFACZC,SAAU,SAACC,GAAC,OAAKX,EAAeW,EAAEC,OAAOC,MAAM,EAC/CC,aAAc,SAEhB,2BACE,SAAC,MAAW,UAGhB,gBAAKxD,UAAW,oBAAoB,UAClC,SAACsF,EAAA,EAAM,CACL3B,QAAS,WAAO,IAAD,EACb,IAAc,OAAX1C,QAAW,IAAXA,GAAmB,QAAR,EAAXA,EAAasE,cAAM,WAAR,EAAX,EAAqBC,SAAU,EAChC,OAAOC,IAAK,kBAAa,0EAAmC,SAE9DlB,EAAgBtD,EAAagE,EAC/B,EAAE,2BAOTxD,IACC,iBAAKzB,UAAW,kBAAkB,WAChC,gBAAKA,UAAW,oBAAqBC,MAAO,CAAE+C,SAAU,IAAK,SACpD,OAANvB,QAAM,IAANA,OAAM,EAANA,EAAQiE,WAEX,iBAAK1F,UAAW8C,EAAAA,oBAA2B,WACzC,kBACEI,KAAK,OACLC,YAAY,qFACZC,SAAU,SAACC,GAAC,OAAK8B,EAAe9B,EAAEC,OAAOC,MAAM,EAC/CC,aAAc,SAEhB,2BACE,SAAC,MAAM,UAGX,gBACExD,UAAS,UAAK8C,EAAAA,oBAA0B,sBAAqB,UAE7D,SAACwC,EAAA,EAAM,CACL3B,QAAS,kBACPa,EAAavD,EAAaiE,EAAaR,EAAU,EAEnDiB,MAAO,UAAU,yBAKD,KAAb,OAANhE,QAAM,IAANA,OAAM,EAANA,EAAQqD,UACP,iCACE,gBAAK/E,MAAO,CAAC+C,SAAU,GAAIc,UAAW,QAAQ,kOAC9C,iBAAK9D,UAAW8C,EAAAA,oBAA2B,WACzC,kBACEI,KAAK,WACLC,YAAY,qBACZM,UAAQ,EACRL,SAAU,SAACC,GAAC,OAAKV,EAAYU,EAAEC,OAAOC,MAAM,KAE9C,4BACG,KACD,SAAC,MAAa,WAGlB,iBAAKvD,UAAW8C,EAAAA,oBAA2B,WACzC,kBACEI,KAAK,WACLC,YAAY,wCACZM,UAAQ,EACRL,SAAU,SAACC,GAAC,OAAKgC,EAAmBhC,EAAEC,OAAOC,MAAM,KAErD,4BACG,KACD,SAAC,MAAa,WAGlB,gBAAKvD,UAAW,oBAAoB,UAClC,SAACsF,EAAA,EAAM,CACL3B,SAAO,uBAAE,+FAEM,OAARzC,QAAQ,IAARA,GAAgB,QAAR,EAARA,EAAUqE,cAAM,WAAR,EAAR,EAAkBC,SAAU,GAAC,gBAC9B5C,EAAgB,0EAAgC,CAC9CiB,QAAS,UACT,0BAEI3C,IAAakE,EAAe,gBAG9B,OAFFxC,EAAgB,yDAAgC,CAC9CiB,QAAS,UACT,8BAGwC,IAAtCe,EAAyB,OAAR1D,QAAQ,IAARA,OAAQ,EAARA,EAAUqE,QAAgB,iBAG7C,OAFF3C,EAAgB,oNAAyG,CACvHiB,QAAS,UACT,4CAGAc,EAAe1D,EAAaC,EAAUmB,GAAS,QACrDoD,IAAK,kBAAa,6EAAuC,WACxDG,MAAK,kBAAKvD,EAAS,SAAS,IAAC,4CAIlCrC,UAAW,oBACX2F,MAAO,UAAU,sCAOzB,SAACb,EAAS,CAACnD,OAAQA,gBAO/B,SAAC,EAAU,MAGjB,EC/IA,IA+NA,EA/Ne,WAGb,IAAQiB,GAAoBC,EAAAA,EAAAA,MAApBD,gBACR,GAAgCL,EAAAA,EAAAA,WAAS,iBAAM,EAAE,IAAC,eAA3C2B,EAAQ,KAAE2B,EAAW,KAC5B,GAAsCtD,EAAAA,EAAAA,WAAS,iBAAM,EAAE,IAAC,eAAjDtB,EAAW,KAAEyB,EAAc,KAClC,GAAgCH,EAAAA,EAAAA,WAAS,iBAAM,EAAE,IAAC,eAA3CrB,EAAQ,KAAEyB,EAAW,KAC5B,GAA0BJ,EAAAA,EAAAA,WAAS,iBAAM,EAAE,IAAC,eAArC4B,EAAK,KAAE2B,EAAQ,KAEtB,GAA8CvD,EAAAA,EAAAA,WAAS,iBAAM,EAAE,IAAC,eAAzD6C,EAAe,KAAEC,EAAkB,KAE1C,GAAwB9C,EAAAA,EAAAA,YAAU,eAArB6B,GAAF,KAAS,MAEpB,GAA8B7B,EAAAA,EAAAA,YAAU,eAAjCmD,EAAO,KAAEK,EAAU,KAC1B,GAAoCxD,EAAAA,EAAAA,YAAU,eAAvCyD,EAAU,KAAEC,EAAa,KAChC,GAAoC1D,EAAAA,EAAAA,YAAU,eAAvC2D,GAAU,KAAEC,GAAa,KAChC,IAA4B5D,EAAAA,EAAAA,YAAU,iBAA/BZ,GAAM,MAAE+C,GAAS,MACxB,IAAuCnC,EAAAA,EAAAA,WAAS,GAAM,iBAA/CC,GAAY,MAAEC,GAAe,MACpC,IAAqDF,EAAAA,EAAAA,WAAS,GAAM,iBAA7D6D,GAAmB,MAAEC,GAAsB,MAC5CC,GAAkB,yCAAG,yGACLjC,EAAWF,EAAOlD,GAAa,KAAD,GAC/B,KAAV,QADHsF,EAAK,cACF,IAALA,OAAK,EAALA,EAAO3C,MACTmC,GAAW,GACXxB,EAAgBJ,EAAO8B,GAAe,IAEtCF,GAAW,GACZ,2CACF,kBARuB,mCAUxB,OACE,iBAAK/F,UAAW8C,EAAAA,UAAiB,WAC/B,gBAAK9C,UAAW8C,EAAAA,SAAgB,UAE5B,iCACE,iBAAK9C,UAAW8C,EAAAA,eAAuB7C,MAAO,CAAE8C,aAAc,GAAIC,SAAU,IAAK,yEAC9C,kBAAS,qFAE5C,kBAAMC,OAAO,IAAG,WACD,IAAZyC,IACC,8BACGM,IACC,iCACE,gBAAK/F,MAAO,CAAE6D,UAAW,SAAUd,SAAU,IAAK,iQAKlD,kBACEI,SAAU,SAACC,GAAC,OAAK8C,GAAc9C,EAAEC,OAAOC,MAAM,EAC9CL,KAAK,OACLC,YAAY,sCAEd,mBACA,SAACmC,EAAA,EAAM,CACLK,MAAO,UACPhC,QAAS,kBACPa,EAAaL,EAAO+B,GAAYxB,GAAU,EAC3C,+BAIH,SAACI,EAAS,CAACnD,OAAQA,MACC,KAAb,OAANA,SAAM,IAANA,QAAM,EAANA,GAAQqD,UACP,SAACwB,EAAU,CACTtC,SAAUA,EACVjD,YAAaA,EACbC,SAAUA,EACViD,MAAOA,EACPC,QAASA,UAOnBsB,IACA,iCACE,iBAAK1F,UAAW8C,EAAAA,oBAA2B,WACzC,kBACEM,SAAU,SAACC,GAAC,OAAKwC,EAAYxC,EAAEC,OAAOC,MAAM,EAC5CL,KAAK,OACLC,YAAY,0BAEd,4BACG,KACD,SAAC,MAAS,WAGd,iBAAKnD,UAAW8C,EAAAA,oBAA2B,WACzC,kBACEM,SAAU,SAACC,GAAC,OAAKX,EAAeW,EAAEC,OAAOC,MAAM,EAC/CL,KAAK,OACLC,YAAY,uCAEd,2BACE,SAAC,MAAW,UAGhB,iBAAKnD,UAAW8C,EAAAA,oBAA2B,WACzC,kBACEM,SAAU,SAACC,GAAC,OAAKyC,EAASzC,EAAEC,OAAOC,MAAM,EACzCL,KAAK,QACLC,YAAY,WAEd,2BACE,SAAC,MAAa,UAGlB,gBAAKlD,MAAO,CAAC+C,SAAU,GAAIc,UAAW,QAAQ,sOAC9C,iBAAK7D,MAAO,CAACC,SAAU,YAAaF,UAAW8C,EAAAA,oBAA2B,WACxE,kBACEI,MAAsB,IAAhBV,GAAuB,OAAS,WACtCW,YAAY,qBACZM,UAAQ,EACRL,SAAU,SAACC,GAAC,OAAKV,EAAYU,EAAEC,OAAOC,MAAM,KAE9C,4BACG,KACD,SAAC,MAAa,QAEhB,kBAAMtD,MAAO,CAACC,SAAU,WAAYE,KAAM,OAAQD,IAAK,MAAOuD,UAAW,0BAA0B,WAEnF,IAAhBlB,KAAyB,SAAC,MAAM,CAACmB,QAAS,kBAAKlB,IAAgB,EAAK,KAGpD,IAAhBD,KACA,SAAC,MAAS,CAACmB,QAAS,kBAAKlB,IAAgB,EAAM,WAKjD,iBAAKzC,UAAW8C,EAAAA,oBAA2B,WACzC,kBACEI,MAA6B,IAAvBkD,GAA8B,OAAS,WAC7CjD,YAAY,wCACZM,UAAQ,EACRL,SAAU,SAACC,GAAC,OAAKgC,EAAmBhC,EAAEC,OAAOC,MAAM,KAErD,4BACG,KACD,SAAC,MAAa,QAEhB,kBAAMtD,MAAO,CAACC,SAAU,WAAYE,KAAM,OAAQD,IAAK,MAAOuD,UAAW,0BAA0B,WAE5E,IAAvB0C,KAAgC,SAAC,MAAM,CAACzC,QAAS,kBAAK0C,IAAuB,EAAK,KAG3D,IAAvBD,KACA,SAAC,MAAS,CAACzC,QAAS,kBAAK0C,IAAuB,EAAM,WAKxD,0BACe,IAAZX,IACC,gBAAKzF,MAAO,CAAE0F,MAAO,MAAO3C,SAAU,IAAK,6HAK/C,mBACEW,QAAS,YACK,OAARO,QAAQ,IAARA,OAAQ,EAARA,EAAUsB,SAAU,EACtB5C,EAAgB,iEAAkC,CAChDiB,QAAS,WAIkC,IClMtD,SAA6B5C,GAKxC,QAHmB,6BAGJ4D,KAAK5D,EAKtB,CDwL8BwF,CAAoBxF,GAC1B2B,EACE,mGACA,CACEiB,QAAS,WAIgB,IE1MxC,SAAuBM,GAKlC,QAHmB,6BAGJU,KAAKV,EAKtB,CFgM4BuC,CAAcvC,GACpBvB,EACI,kCACA,CACEiB,QAAS,WAIsB,IAA/Be,EAAiB1D,GACvB0B,EACI,gLACA,CACEiB,QAAS,WAI6C,IG1NrE,SAAiC3C,EAAUkE,GAGtD,OAAIlE,IAAakE,CAKnB,CHkN4BuB,CAAwBzF,EAAUkE,GACxCxC,EACI,wCACA,CACEiB,QAAS,UAKfyC,IAEJ,EACAtG,UAAW8C,EAAAA,IAAW,sCAO5B,gBAAK9C,UAAW8C,EAAAA,QAAe,UAC7B,SAAC,KAAI,CAAC7C,MAAO,CAAC+C,SAAU,IAAKgB,GAAG,SAAQ,kDAMlD,SAAC,EAAU,MAGjB,EAIMwC,EAAa,SAACpE,GAClB,IAAMC,GAAWC,EAAAA,EAAAA,MAejB,OAdAsE,EAAAA,EAAAA,YAAU,WACJxE,IACF,uBAAC,mGACO6B,EACC,OAAL7B,QAAK,IAALA,OAAK,EAALA,EAAO8B,SACF,OAAL9B,QAAK,IAALA,OAAK,EAALA,EAAOnB,YACF,OAALmB,QAAK,IAALA,OAAK,EAALA,EAAOlB,SACF,OAALkB,QAAK,IAALA,OAAK,EAALA,EAAO+B,MACF,OAAL/B,QAAK,IAALA,OAAK,EAALA,EAAOgC,SACP,KAAD,EACD/B,EAAS,UAAU,0CARrB,EAWJ,GAAG,CAACA,EAAUD,KACP,uBACT,E,qBIrQayE,GAAwBC,EAAAA,EAAAA,iBAoBrC,EAnBwB,SAAH,GAAoB,IAAfC,EAAQ,EAARA,SACxB,GAAqCxE,EAAAA,EAAAA,YAAU,eAAxCyE,EAAW,KAAEC,EAAc,KAClC,GAA+B1E,EAAAA,EAAAA,UAAS,IAAG,eAApC2E,EAAQ,KAAEC,EAAW,KAU5B,OATAP,EAAAA,EAAAA,YAAU,WACR,IAAMQ,GAAQC,EAAAA,EAAAA,IAAG,GAAD,OAAIhG,EAAAA,IAAc,CAAC,CAACiG,WAAY,CAAC,gBAMjD,OAJAF,EAAOG,GAAG,MAAM,SAACC,GACfL,EAAYK,EACd,IACAP,EAAeG,GACR,kBAAKA,EAAOK,YAAY,CACjC,GAAG,KAED,SAACZ,EAAuBa,SAAQ,CAACnE,MAAO,CAACyD,YAAAA,EAAaE,SAAAA,GAAU,SAC3DH,GAGT,ECqCA,EAvDqB,SAAC3E,GACpB,IAAO4E,GAAeW,EAAAA,EAAAA,YAAWd,GAA1BG,YAUP,OATAJ,EAAAA,EAAAA,YAAU,WACR,IAAMgB,EAAmBC,SAASC,cAAc,SAIhD,OAHAF,EAAkBG,UAAU,EAC5BH,EAAkBI,IAAK,yGACvBJ,EAAkBK,MAAM,EACjB,WACHL,EAAkBI,SAAKE,CAC3B,CACF,GAAG,KAED,gBAAKlI,UAAW,gBAAiBC,MAAO,CAACQ,MAAO,OAAQP,SAAU,QAASC,IAAI,EAAIC,KAAM,EAAG+H,OAAQ,OAAQ3H,OAAQ,IAAK4H,WAAY,qBAAqB,UACtJ,iBAAKnI,MAAO,CAACoI,QAAS,GAAIC,aAAc,GAAIC,OAAQ,oBAAqBH,WAAY,QAAQ,WACzF,gBAAKnI,MAAO,CAACQ,MAAO,QAAST,UAAW,gBAAgB,UACpD,gBAAKgI,IAAU,OAAL5F,QAAK,IAALA,OAAK,EAALA,EAAOoG,eAAgBvI,MAAO,CAACQ,MAAO,GAAI0H,OAAQ,GAAIG,aAAc,MAAOG,UAAW,SAAUC,IAAI,QAElH,gBAAKzI,MAAO,CAAC0I,UAAW,EAAG7E,UAAW,SAAUd,SAAU,GAAI4F,WAAY,KAAK,SACrE,OAALxG,QAAK,IAALA,OAAK,EAALA,EAAO8B,YAEZ,gBAAKjE,MAAO,CAAC0I,UAAW,EAAG7E,UAAW,SAAUd,SAAU,IAAI,iGAG9D,iBAAK/C,MAAO,CAAC0I,UAAW,GAAIE,IAAK,IAAK7I,UAAW,gBAAgB,WAE7D,iBAAK2D,QAAS,WACL,OAALvB,QAAK,IAALA,GAAAA,EAAO0G,iBAAgB,kBAAK,CAAK,IACjC9B,EAAY+B,KAAK,eAAgB,CAACC,QAAc,OAAL5G,QAAK,IAALA,OAAK,EAALA,EAAO4G,SAEtD,EAAGhJ,UAAW,gBAAiBC,MAAO,CAACgJ,cAAe,SAAUlF,OAAQ,WAAW,WAC/E,gBAAK9D,MAAO,CAACQ,MAAO,GAAI0H,OAAQ,GAAIG,aAAc,MAAOF,WAAY,WAAYpI,UAAW,gBAAgB,UACxG,SAAC,MAAc,CAACC,MAAO,CAAC0F,MAAO,OAAQlF,MAAO,GAAI0H,OAAQ,SAE9D,gBAAKlI,MAAO,CAAC+C,SAAU,GAAI2F,UAAW,GAAG,mCAK7C,iBAAKhF,QAAS,WACL,OAALvB,QAAK,IAALA,GAAAA,EAAO0G,iBAAgB,kBAAK,CAAK,IACjC9B,EAAY+B,KAAK,cAAe,CAACC,QAAc,OAAL5G,QAAK,IAALA,OAAK,EAALA,EAAO4G,SACrD,EAAGhJ,UAAW,gBAAiBC,MAAO,CAACgJ,cAAe,SAAUlF,OAAQ,WAAW,WAC/E,gBAAK9D,MAAO,CAACQ,MAAO,GAAI0H,OAAQ,GAAIG,aAAc,MAAOF,WAAY,WAAYpI,UAAW,gBAAgB,UACxG,SAAC,MAAqB,CAACC,MAAO,CAAC0F,MAAO,OAAQlF,MAAO,GAAI0H,OAAQ,SAErE,gBAAKlI,MAAO,CAAC+C,SAAU,GAAI2F,UAAW,GAAG,2CAQ7D,EC/CA,EAViB,WACf,OACE,iBAAK3I,UAAU,YAAW,WACxB,mEACA,gHACA,SAAC,KAAI,CAACgE,GAAG,IAAG,4CAGlB,ECPMkF,EAAsB,yCAAE,WAAOC,EAAgB/E,GAAO,+FACvCjD,EAAAA,EAAAA,IAAM,CACnBC,IAAKC,EAAAA,GAAY,gCAAkC8H,EACnD7H,OAAQ,MACR8H,QAAS,CACL,cAAiB,UAAWxH,EAAAA,EAAAA,IAAY,kBAE9C,OANO,OAAHJ,EAAI,EAAD,cAOWA,EAAID,KAAI,OAAhB,OAANE,EAAO,EAAD,uBACL2C,EAAQ3C,IAAO,2CACzB,gBAV2B,wCAY5B,ICZM4H,EAA4B,yCAAG,WAAOC,EAAgBlF,GAAO,+FAChDjD,EAAAA,EAAAA,IAAM,CACrBC,IAAKC,EAAAA,GAAY,6BAA8BiI,EAC/ChI,OAAQ,MACR8H,QAAS,CACL,cAAiB,UAAWxH,EAAAA,EAAAA,IAAY,kBAE5C,OANO,OAAHJ,EAAI,EAAD,cAOWA,EAAID,KAAI,OAAhB,OAANE,EAAO,EAAD,uBACL2C,EAAQ3C,IAAO,2CACvB,gBAViC,wCAYlC,I,iCCZM8H,GAAmB,yCAAG,WAAOJ,EAAgBK,EAAWpF,GAAO,+FAChDjD,EAAAA,EAAAA,IAAM,CACnBC,IAAKC,EAAAA,GAAY,uCAAwC8H,EACzD7H,OAAQ,OACR8H,QAAS,CACL,cAAiB,UAAWxH,EAAAA,EAAAA,IAAY,gBAE5CL,KAAM,CACFkI,OAAQD,KAEd,OATO,OAAHhI,EAAI,EAAD,cAUWA,EAAID,KAAI,OAAhB,OAANE,EAAO,EAAD,uBACL2C,EAAQ3C,IAAO,2CACzB,gBAbwB,0CAezB,MCfMiI,GAAwB,yCAAG,WAAOC,EAAUvF,GAAO,+FACpCjD,EAAAA,EAAAA,IAAM,CACnBC,IAAKC,EAAAA,GAAY,6BAA8BsI,EAC/CrI,OAAQ,OACRC,KAAM,CACFqI,OAAQhI,EAAAA,EAAAA,IAAY,QAExBwH,QAAS,CACL,cAAiB,UAAWxH,EAAAA,EAAAA,IAAY,kBAE9C,OATO,OAAHJ,EAAI,EAAD,cAUWA,EAAID,KAAI,OAAhB,OAANE,EAAO,EAAD,uBACL2C,EAAQ3C,IAAO,2CACzB,gBAb6B,wCAe9B,MCfMoI,GAAS,yCAAE,WAAOC,EAAiB1F,GAAO,+FAC3BjD,EAAAA,EAAAA,IAAM,CACnBC,IAAKC,EAAAA,GAAY,gCAAiCyI,EAClDxI,OAAQ,OACR8H,QAAS,CACL,cAAiB,UAAWxH,EAAAA,EAAAA,IAAY,gBAE5CL,KAAM,CACFqI,OAAQhI,EAAAA,EAAAA,IAAY,UAE1B,OATO,OAAHJ,EAAI,EAAD,cAUWA,EAAID,KAAI,OAEgB,OAFtCE,EAAO,EAAD,KACZsI,QAAQC,IAAIvI,GACZO,OAAOC,SAASC,KAAMF,OAAOC,SAASE,OAAM,kBACrCiC,GAAQ,SAAA6F,GAAI,OAAIA,CAAI,KAAC,2CAE/B,gBAhBc,wCAkBf,MClBMC,GAA8B,yCAAG,WAAO1C,EAAIpD,GAAO,+FACtCjD,EAAAA,EAAAA,IAAM,CACrBC,IAAI,GAAD,OAAKC,EAAAA,GAAU,yCAAiCmG,GACnDlG,OAAQ,OACR8H,QAAS,CACL,cAAiB,UAAWxH,EAAAA,EAAAA,IAAY,gBAE5CL,KAAM,CACFqI,OAAQhI,EAAAA,EAAAA,IAAY,UAExB,OATO,OAAHJ,EAAI,EAAD,cAUWA,EAAID,KAAI,OAAhB,OAANE,EAAO,EAAD,uBACL2C,EAAQ3C,IAAO,2CACvB,gBAbmC,wCAepC,MCfM0I,GAA0B,yCAAG,WAAOhB,EAAgB/E,EAASgG,GAAK,+FACnDjJ,EAAAA,EAAAA,IAAM,CACnBC,IAAKC,EAAAA,GAAY,iBAAkB8H,EACnC7H,OAAQ,MACR8H,QAAS,CACL,cAAiB,UAAWxH,EAAAA,EAAAA,IAAY,gBAE5CyI,QAAO,UACAD,KAET,OATO,OAAH5I,EAAI,EAAD,cAWWA,EAAID,KAAI,OAAhB,OAANE,EAAO,EAAD,uBACL2C,EAAQ3C,EAAOF,OAAK,2CAC9B,gBAd+B,0CAgBhC,MCjBM+I,GAAoB,yCAAE,WAAOrJ,EAAamD,GAAO,+FAClCjD,EAAAA,EAAAA,IAAM,CACnBC,IAAI,GAAD,OAAKC,EAAAA,GAAU,4BAAoBJ,GACtCmI,QAAS,CACL,cAAiB,UAAUxH,EAAAA,EAAAA,IAAY,gBAE3CN,OAAQ,QACV,OANO,OAAHE,EAAI,EAAD,cAOWA,EAAID,KAAI,OAAhB,OAANE,EAAO,EAAD,uBACL2C,EAAQ3C,IAAO,2CACzB,gBAVyB,wCAY1B,MCXM8I,GAAS,SAACnI,GACd,OAAqCG,EAAAA,EAAAA,YAAU,eAAxCiI,EAAU,KAAEC,EAAe,KAC5BlE,IAAOiE,EAQb,OACE,gBAAKxK,UAAW,iBAAkBC,MAAO,CAACQ,MAAO,OAAQJ,QAAS,OAAQC,eAAgB,SAAUC,WAAY,UAAU,UACtH,iBAAKoD,QAAS,kBAAKvB,EAAMsI,SAAQ,SAAAT,GAAI,OAAIA,CAAI,GAAC,EAAEjK,UAAW,kBAAmBC,MAAO,CAACQ,MAAO,GAAI0H,OAAQ,GAAI9H,QAAS,OAAQC,eAAgB,SAAUC,WAAY,SAAU+H,aAAc,MAAOF,WAAY,OAAQlI,SAAU,WAAY6D,OAAQ,WAAW,WAEnP,IAATwC,GAAgB,gBAAKyB,IAAKwC,EAAWG,SAAW,uFAAwFjC,IAAI,OAAO1I,UAAW,oBAAqBC,MAAO,CAACI,QAAS,OAAQC,eAAgB,SAAUC,WAAY,SAAUkI,UAAW,QAAShI,MAAO,OAAQ0H,OAAQ,OAAOjI,SAAU,WAAYM,OAAQ,GAAI8H,aAAc,UAE9V,gBAAKN,IAAK5F,EAAMwI,QAAU,uFAAwFlC,IAAI,OAAO1I,UAAW,oBAAqBC,MAAO,CAACI,QAAS,OAAQC,eAAgB,SAAUC,WAAY,SAAUkI,UAAW,QAAShI,MAAO,OAAQ0H,OAAQ,OAAOjI,SAAU,WAAYM,OAAQ,GAAI8H,aAAc,UAGtT,KAAb,OAALlG,QAAK,IAALA,OAAK,EAALA,EAAOyI,WACP,iBAAK7K,UAAW,iBAAkBC,MAAO,CAACI,QAAS,OAAQC,eAAgB,SAAUC,WAAY,SAAUL,SAAU,WAAY4K,MAAO,EAAGC,OAAQ,EAAGvK,OAAQ,GAAIuD,OAAQ,WAAY,WACpL,SAAC,MAAY,KACb,kBAAOX,SAnBO,SAACC,GACzBoH,EAAgB,CAACO,IAAK3H,EAAEC,OAAO2H,MAAM,GAAIN,QAASO,IAAIC,gBAAgB9H,EAAEC,OAAO2H,MAAM,IAAKG,IAAK/H,EAAEC,OAAO2H,MAAM,GAAGI,eACjHjJ,EAAMkJ,qBAAqBjI,EAAEC,OAAO2H,MAAM,IAClC,OAAL7I,QAAK,IAALA,GAAAA,EAAOmJ,kBACH,OAALnJ,QAAK,IAALA,GAAAA,EAAOmJ,iBAAgB,kBAAK,CAAI,IAEpC,EAaiDrI,KAAM,OAAQsI,MAAO,+DAA6BvL,MAAO,CAACQ,MAAO,OAAQ0H,OAAQ,OAAQjI,SAAU,WAAYuL,QAAS,EAAGjL,OAAQ,GAAIuD,OAAQ,oBAMlM,EAEA,IAAegB,EAAAA,EAAAA,MAAKwF,ICQpB,GAtCmB,SAACnI,GAAW,IAAD,EAC5B,GAAqCG,EAAAA,EAAAA,YAAU,eAAxCiI,EAAU,KAAEC,EAAe,KAC5BlE,IAAOiE,EACPkB,EAAoB,SAACrI,GACzBoH,EAAgB,CAACO,IAAK3H,EAAEC,OAAO2H,MAAM,GAAIN,QAASO,IAAIC,gBAAgB9H,EAAEC,OAAO2H,MAAM,IAAKG,IAAK/H,EAAEC,OAAO2H,MAAM,GAAGI,eAC5G,OAALjJ,QAAK,IAALA,GAAAA,EAAOuJ,iBAAiBtI,EAAEC,OAAO2H,MAAM,IAC/B,OAAL7I,QAAK,IAALA,GAAAA,EAAOwJ,sBACH,OAALxJ,QAAK,IAALA,GAAAA,EAAOwJ,qBAAoB,GAK/B,EACA,OACE,gBAAK5L,UAAW,qBAAsBC,MAAO,CAACQ,MAAO,OAAQP,SAAU,WAAWiI,OAAQ,KAAK,UAEhF,IAAT5B,GAAgB,gBAAKvG,UAAW,wBAAwBC,MAAO,CAACQ,MAAO,OAAQ0H,OAAQ,IAAK0D,gBAAgB,OAAD,OAAmB,OAAVrB,QAAU,IAAVA,OAAU,EAAVA,EAAYG,QAAO,KAAKmB,iBAAkB,YAAaC,eAAgB,QAASC,mBAAoB,SAAU9L,SAAU,WAAYC,IAAK,EAAGC,KAAM,GAAG,UAGnP,KAAb,OAALgC,QAAK,IAALA,OAAK,EAALA,EAAOyI,WAAmB,iBAAK7K,UAAW,iBAAkBC,MAAO,CAACI,QAAS,OAAQC,eAAgB,SAAUC,WAAY,SAAUL,SAAU,WAAY4K,MAAO,EAAGC,OAAQ,EAAGvK,OAAQ,GAAIuD,OAAQ,WAAY,WAC5M,SAAC,MAAY,CAACkI,KAAM,GAAIhM,MAAO,CAACoI,QAAS,EAAG6D,gBAAiB,OAAQ5D,aAAc,UACnF,kBAAOlF,SAAUsI,EAAoBxI,KAAM,OAAQsI,MAAO,8CAAwBvL,MAAO,CAACQ,MAAO,OAAQ0H,OAAQ,OAAQjI,SAAU,WAAYuL,QAAS,EAAGjL,OAAQ,GAAIuD,OAAQ,mBAG5K,gBAAK/D,UAAW,wBAAwBC,MAAO,CAACQ,MAAO,OAAQ0H,OAAQ,IAAK0D,gBAAgB,OAAD,QAAc,OAALzJ,QAAK,IAALA,GAAiB,QAAZ,EAALA,EAAO+J,kBAAU,WAAZ,EAAL,EAAmB3G,QAAS,EAAS,OAALpD,QAAK,IAALA,OAAK,EAALA,EAAO+J,WAAa,qCAAoC,KAAKL,iBAAkB,YAAaC,eAAgB,QAASC,mBAAoB,SAAU9L,SAAU,WAAYC,IAAK,EAAGC,KAAM,GAAG,UAGnT,KAAb,OAALgC,QAAK,IAALA,OAAK,EAALA,EAAOyI,WAAmB,iBAAK7K,UAAW,iBAAkBC,MAAO,CAACI,QAAS,OAAQC,eAAgB,SAAUC,WAAY,SAAUL,SAAU,WAAY4K,MAAO,EAAGC,OAAQ,EAAGvK,OAAQ,GAAIuD,OAAQ,WAAY,WAC5M,SAAC,MAAY,CAACkI,KAAM,GAAIhM,MAAO,CAACoI,QAAS,EAAG6D,gBAAiB,OAAQ5D,aAAc,UACnF,kBAAOlF,SAAUsI,EAAoBxI,KAAM,OAAQsI,MAAO,4DAA4BvL,MAAO,CAACQ,MAAO,OAAQ0H,OAAQ,OAAQjI,SAAU,WAAYuL,QAAS,EAAGjL,OAAQ,GAAIuD,OAAQ,mBAOrM,E,wBCZaqI,KAJDC,EAAAA,GAAAA,IAXW,CACrBC,OAAQ,0CACRC,WAAY,6BACZC,UAAW,aACXC,cAAe,yBACfC,kBAAmB,eACnBC,MAAO,4CACPC,cAAe,iBAQa,yCAAG,WAAOC,GAAI,gFAKkB,OALlB,SAGlCC,GAAUC,EAAAA,GAAAA,MACVC,GAAaC,EAAAA,GAAAA,IAAIH,EAAS,UAAYD,EAAKK,MAC3CC,GAAaC,EAAAA,GAAAA,IAAqBJ,EAAYH,GAAK,kBAClD,IAAIQ,SAAQ,SAACC,EAASC,GAC3BJ,EAAW5F,GACT,iBACA,SAACiG,GAEC,IAAMC,EAAYD,EAASE,iBAAmBF,EAASG,WAAc,IAErE,OADA5D,QAAQC,IAAI,aAAeyD,EAAW,UAC9BD,EAASI,OACf,IAAK,SACH7D,QAAQC,IAAI,oBACZ,MACF,IAAK,UACHD,QAAQC,IAAI,qBACZ,MACF,QACED,QAAQC,IAAIwD,GAGlB,IACA,SAACK,GAGSA,EAAMC,IAgBhB,IACA,YAEEC,EAAAA,GAAAA,IAAeZ,EAAWK,SAASP,KAAKrH,MAAK,SAACoI,GAC3C,OAAOV,EAAQU,EAClB,GACF,GAEJ,KAAE,wHAKL,gBAzD6B,uCCtBxBC,GAAgB,yCAAG,WACvBzG,EACA0G,EACAC,EACAC,EACArI,EACA3B,EACAiK,EACAC,EACAC,EACAC,GAAU,sFAIoB,GAD1BC,EAAaN,EACbO,EAAYJ,GACG,IAAhBD,EAAoB,gCACGjC,GAAkB+B,GAAmB,KAAD,EAAtDQ,EAAS,OACfF,EAAaE,EAAS,WAED,IAApBJ,EAAwB,kCACFnC,GAAkBkC,GAAe,KAAD,GAAjDM,EAAQ,OACdF,EAAYE,EAAQ,0BAGJzN,EAAAA,EAAAA,IAAM,CACtBC,IAAI,GAAD,OAAKC,EAAAA,GAAU,iCAAyBmG,GAC3ClG,OAAQ,OACR8H,QAAS,CACPyF,cAAc,UAAD,OAAYjN,EAAAA,EAAAA,IAAY,iBAEvCL,KAAM,CACJ2M,YAAaA,EACbC,kBAAmBM,EACnBL,UAAAA,EACAE,cAAeI,EACfF,WAAAA,KAED,KAAD,GAbO,OAAHhN,EAAG,iBAcYA,EAAID,KAAK,KAAD,GAEV,OAFbE,EAAM,OACZ2C,EAAc,OAAN3C,QAAM,IAANA,OAAM,EAANA,EAAQI,MAChBkE,EAAWtE,GAAQ,kBACZA,GAAM,4CACd,gBA1CqB,wDA4CtB,M,YC9CMqN,I,SAAS,yCAAE,WAAOC,GAAI,+FACP5N,EAAAA,EAAAA,IAAM,CACnBC,IAAKC,EAAAA,GAAY,kBACjBC,OAAQ,OACR8H,QAAS,CACL,cAAiB,UAAWxH,EAAAA,EAAAA,IAAY,gBAE5CL,KAAM,CACFwN,KAAAA,EACAC,QAASpN,EAAAA,EAAAA,IAAY,UAE3B,OAVO,OAAHJ,EAAI,EAAD,cAWWA,EAAID,KAAI,OAAhB,OAANE,EAAO,EAAD,uBACLA,GAAM,2CAChB,gBAdc,uCAgBf,MCFMwN,GAAgB,SAAC7M,GACnB,IAAQQ,GAAmBC,EAAAA,EAAAA,MAAnBD,gBACAoE,GAAcW,EAAAA,EAAAA,YAAWd,GAAzBG,YACR,GAAmCW,EAAAA,EAAAA,YAAWuH,IAAvC3N,EAAI,EAAJA,KAAM6C,EAAO,EAAPA,QACb,GAD+B,EAAT+K,WACa5M,EAAAA,EAAAA,WAAS,IAAM,eAA3C6M,EAAU,KAAEC,EAAa,KAChC,GAAqC9M,EAAAA,EAAAA,YAAU,eAAxC2L,EAAW,KAAEoB,EAAc,KAClC,GAAuC/M,EAAAA,EAAAA,WAAS,GAAM,eAA/C8L,EAAY,KAAE9C,EAAe,KACpC,GAAiDhJ,EAAAA,EAAAA,YAAU,eAApD4L,EAAiB,KAAE7C,EAAoB,KAC9C,GAAiC/I,EAAAA,EAAAA,YAAU,eAApC6L,EAAS,KAAEmB,EAAY,KAC9B,GAAmChN,EAAAA,EAAAA,YAAU,eAAtCiN,EAAU,KAAEC,EAAa,KAChC,GAAmClN,EAAAA,EAAAA,YAAU,eAAtCiM,EAAU,KAAEkB,EAAa,KAChC,GAA+CnN,EAAAA,EAAAA,WAAS,GAAM,eAAvDgM,EAAgB,KAAE3C,EAAmB,KAE5C,GAA2CrJ,EAAAA,EAAAA,UAAS,IAAG,eAAhCoN,GAAF,KAAmB,MACxC,GAAyCpN,EAAAA,EAAAA,YAAU,eAA5C+L,GAAa,KAAE3C,GAAgB,KAuBxC,OArBE/E,EAAAA,EAAAA,YAAU,WACN2I,GAAa,wBAAS,OAAJhO,QAAI,IAAJA,GAAY,QAAR,EAAJA,EAAMqO,cAAM,WAAR,EAAJ,EAActL,UAAU,IAC1CgL,GAAe,kBAAS,OAAJ/N,QAAI,IAAJA,OAAI,EAAJA,EAAM2C,QAAQ,IAClCoH,GAAqB,kBAAS,OAAJ/J,QAAI,IAAJA,OAAI,EAAJA,EAAMiH,cAAc,IAC9CmH,GAAkB,kBAAS,OAAJpO,QAAI,IAAJA,OAAI,EAAJA,EAAMsO,WAAW,IACxCH,GAAc,kBAAS,OAAJnO,QAAI,IAAJA,OAAI,EAAJA,EAAMuO,OAAO,IAChCnE,IAAiB,kBAAS,OAAJpK,QAAI,IAAJA,OAAI,EAAJA,EAAMwO,YAAY,GAC5C,GAAG,CAAK,OAAJxO,QAAI,IAAJA,OAAI,EAAJA,EAAMqO,OAAY,OAAJrO,QAAI,IAAJA,OAAI,EAAJA,EAAM2C,SAAc,OAAJ3C,QAAI,IAAJA,OAAI,EAAJA,EAAMiH,eAAoB,OAAJjH,QAAI,IAAJA,OAAI,EAAJA,EAAMsO,YAAiB,OAAJtO,QAAI,IAAJA,OAAI,EAAJA,EAAMuO,QAAa,OAAJvO,QAAI,IAAJA,OAAI,EAAJA,EAAMwO,gBAChGnJ,EAAAA,EAAAA,YAAU,WAC6B,MAAhClF,SAAmB,OAAV8N,QAAU,IAAVA,OAAU,EAAVA,EAAY7N,QACpBiB,EAA0B,OAAV4M,QAAU,IAAVA,OAAU,EAAVA,EAAY5L,IAAK,CAC7BC,QAAS,YAGuB,MAAhCnC,SAAmB,OAAV8N,QAAU,IAAVA,OAAU,EAAVA,EAAY7N,SACzBiB,EAA0B,OAAV4M,QAAU,IAAVA,OAAU,EAAVA,EAAY5L,IAAK,CAC7BC,QAAS,SAGrB,GAAG,CAAC2L,EAAY5M,KAGhB,gBAAK5C,UAAW,sBAAuBC,MAAO,CAACQ,MAAO,OAAQ0H,OAAQ,OAAQ9H,QAAS,OAAQC,eAAgB,SAAUC,WAAY,SAAUL,SAAU,QAASE,KAAM,EAAGD,IAAK,EAAGiI,WAAY,qBAAsB5H,OAAQ,KAAK,UAC9N,UAAC,UAAmB,CAACwP,eAAgB,kBAAK5N,EAAMsI,SAAQ,kBAAK,CAAK,GAAC,EAAC,WAG9C,IAAd0E,IACA,iBAAKpP,UAAW,oBAAqBC,MAAO,CAACgQ,SAAU,IAAKxP,MAAO,QAAS2H,WAAY,OAAQC,QAAS,GAAIC,aAAc,IAAI,WAC3H,iBAAKtI,UAAW,iBAAkBC,MAAO,CAACQ,MAAO,OAAQ0H,OAAQ,GAAI9H,QAAS,OAAQC,eAAgB,gBAAiBC,WAAY,UAAU,WACzI,gEACA,gBAAKN,MAAO,CAACI,QAAS,OAAQC,eAAgB,SAAUC,WAAY,SAAUwD,OAAQ,WAAYJ,QAAS,kBAAKvB,EAAMsI,SAAQ,kBAAK,CAAK,GAAC,EAAC,UACtI,SAAC,MAAO,UAGhB,SAAC,GAAU,CAACyB,WAAgB,OAAJ5K,QAAI,IAAJA,OAAI,EAAJA,EAAMwO,gBAC9B,SAAC,GAAM,CAACxE,gBAAiBA,EAAiBb,QAAS,WAAM,EAAGE,OAAQuD,KACpE,SAAC+B,GAAW,CAAChM,SAAc,OAAJ3C,QAAI,IAAJA,OAAI,EAAJA,EAAM2C,YAC7B,SAACiM,GAAW,CAACtO,KAAMN,KACnB,SAAC6O,GAAgB,CAACvO,KAAMN,KACxB,mBACA,iBAAKvB,UAAW,uBAAwBC,MAAO,CAACQ,MAAO,OAAQJ,QAAS,OAAQC,eAAgB,SAAUC,WAAY,SAAU0I,cAAe,UAAU,WACrJ,SAAC3D,EAAA,EAAM,CAACzB,QAAS,UAAWF,QAAS,kBAAK0L,GAAc,kBAAK,CAAI,GAAC,EAAErP,UAAW,oBAAqBC,MAAO,CAACI,QAAS,OAAQC,eAAe,SAAUC,WAAY,SAAU6H,WAAY,UAAWrE,OAAQ,UAAW4B,MAAO,OAAQiD,WAAY,IAAKL,OAAQ,OAAQ8H,QAAS,OAAQ/H,aAAc,EAAGD,QAAS,YAAa5H,MAAO,QAAQ,8CAG7U,yBAMM,IAAd2O,IACA,iBAAKpP,UAAW,sBAAuBC,MAAO,CAACgQ,SAAU,IAAKxP,MAAO,QAAS2H,WAAY,OAAQC,QAAS,GAAIC,aAAc,IAAI,WAC7H,iBAAKtI,UAAW,iBAAkBC,MAAO,CAACQ,MAAO,OAAQ0H,OAAQ,GAAI9H,QAAS,OAAQC,eAAgB,gBAAiBC,WAAY,UAAU,WACzI,mFACA,gBAAKN,MAAO,CAACI,QAAS,OAAQC,eAAgB,SAAUC,WAAY,SAAUwD,OAAQ,WAAYJ,QAAS,kBAAKvB,EAAMsI,SAAQ,kBAAK,CAAK,GAAC,EAAC,UACtI,SAAC,MAAO,UAGhB,SAAC,GAAU,CAACkB,oBAAqBA,EAAqB0C,cAAeA,GAAe3C,iBAAkBA,GAAkBd,SAAS,EAAMsB,WAAgB,OAAJ5K,QAAI,IAAJA,OAAI,EAAJA,EAAMwO,gBAEzJ,SAAC,GAAM,CAACxE,gBAAiBA,EAAiBb,QAAS,WAAM,EAAGE,OAAQuD,EAAmBA,kBAAmBA,EAAmB7C,qBAAsBA,EAAsBT,SAAS,KAElL,SAACyF,GAAc,CAACpC,YAAaA,EAAaoB,eAAgBA,EAAgBpL,SAAc,OAAJ3C,QAAI,IAAJA,OAAI,EAAJA,EAAM2C,YAE1F,SAACqM,GAAU,CAACnC,UAAWA,EAAWmB,aAAcA,EAAcf,WAAYA,EAAYkB,cAAeA,KACrG,mBACA,gBAAK1P,UAAW,uBAAwBC,MAAO,CAACQ,MAAO,OAAQJ,QAAS,OAAQC,eAAgB,SAAUC,WAAY,SAAUsI,IAAK,IAAI,SAEvH,OAAV2G,QAAU,IAAVA,GAAAA,EAAY5L,KAAM,+BACd,mBAAQD,QAAS,kBAAKvB,EAAMsI,SAAQ,kBAAK,CAAK,GAAC,EAAE1K,UAAW,oBAAqBC,MAAO,CAACI,QAAS,OAAQC,eAAe,SAAUC,WAAY,SAAU6H,WAAY,QAASrE,OAAQ,UAAW4B,MAAO,OAAQiD,WAAY,IAAKL,OAAQ,OAAQ8H,QAAS,OAAQ/H,aAAc,EAAGD,QAAS,aAAa,6BAM7S,iCACI,mBAAQ1E,QAAS,kBAAKvB,EAAMsI,SAAQ,kBAAK,CAAK,GAAC,EAAE1K,UAAW,oBAAqBC,MAAO,CAACI,QAAS,OAAQC,eAAe,SAAUC,WAAY,SAAU6H,WAAY,QAASrE,OAAQ,UAAW4B,MAAO,OAAQiD,WAAY,IAAKL,OAAQ,OAAQ8H,QAAS,OAAQ/H,aAAc,EAAGD,QAAS,aAAa,uBAGzS,mBAAQ1E,SAAO,uBAAE,yGACOsK,GAAiBrM,EAAAA,EAAAA,IAAY,OAAQsM,EAAaC,EAAmBC,EAAWqB,EAAerL,EAASiK,EAAcC,GAAeC,EAAkBC,GAAW,OACjK,OAAZ,QADH/M,EAAO,EAAD,YACH,IAANA,OAAM,EAANA,EAAQE,UACI,OAAXqF,QAAW,IAAXA,GAAAA,EAAa+B,KAAK,sBAAuB,CAACyH,KAAM5O,EAAAA,EAAAA,IAAY,UAC/D,2CACF5B,UAAW,oBAAqBC,MAAO,CAACI,QAAS,OAAQC,eAAe,SAAUC,WAAY,SAAU6H,WAAY,UAAWrE,OAAQ,UAAW4B,MAAO,OAAQiD,WAAY,IAAKL,OAAQ,OAAQ8H,QAAS,OAAQ/H,aAAc,EAAGD,QAAS,aAAa,4CAW7R,EAEM+H,GAAkB,SAAChO,GAAU,IAAD,EAC9B,GAAyBG,EAAAA,EAAAA,WAAS,GAAM,eAAjCgE,EAAK,KAAEkK,EAAQ,KACftB,GAAaxH,EAAAA,EAAAA,YAAWuH,IAAxBC,UAIP,OAHAvI,EAAAA,EAAAA,YAAU,WAAM,IAAD,EACX6J,GAAc,OAALrO,QAAK,IAALA,GAAW,QAAN,EAALA,EAAOP,YAAI,WAAN,EAAL,EAAa6O,UAAU,EACpC,GAAG,CAAM,OAALtO,QAAK,IAALA,GAAW,QAAN,EAALA,EAAOP,YAAI,WAAN,EAAL,EAAa6O,UAEb,iBAAKzQ,MAAO,CAACQ,MAAO,OAAQ4H,QAAS,IAAI,WACrC,gBAAKpI,MAAO,CAAC+C,SAAU,GAAI4F,WAAY,IAAI7F,aAAc,IAAK,0BAC9D,iBAAK9C,MAAO,CAACI,QAAS,OAAQE,WAAY,UAAU,WACpD,SAAC,KAAM,CACHiH,GAAG,gBACHmJ,QAASpK,EACTnD,SAAU,WACN+L,GAAU,SAAAlF,GAAI,OAAIA,CAAI,IACtBwG,GAAS,SAAAxG,GAAI,OAAIA,CAAI,IACrB6E,IAAWvI,EACf,KAEJ,kBAAOtG,MAAO,CAAC2Q,WAAY,GAAIC,QAAQ,gBAAe,4EAIlE,EAEaX,GAAa,SAAC9N,GACvB,OACI,gBAAKpC,UAAW,wBAAyBC,MAAO,CAACQ,MAAO,OAAOJ,QAAS,OAAOC,eAAgB,SAAUC,WAAY,SAAU8H,QAAS,IAAI,UACxI,gBAAKrI,UAAW,oBAAqBC,MAAO,CAAC2I,WAAY,IAAK5F,SAAU,IAAI,SACvEZ,EAAM8B,YAIvB,EAEaiM,GAAa,SAAC/N,GAAU,IAAD,MAChC,OACI,iBAAKpC,UAAW,sBAAwBC,MAAO,CAACQ,MAAO,OAAQ4H,QAAS,IAAI,WACxE,gBAAKpI,MAAO,CAAC2I,WAAY,IAAK7F,aAAc,IAAI,yCAChD,SAAC+N,GAAe,CAACtF,MAAO,6BAAeuF,KAAW,OAAL3O,QAAK,IAALA,GAAW,QAAN,EAALA,EAAOP,YAAI,WAAN,EAAL,EAAaZ,eAC1D,SAAC6P,GAAe,CAACtF,MAAO,qBAAcuF,MAA6B,KAAlB,OAAL3O,QAAK,IAALA,GAAW,QAAN,EAALA,EAAOP,YAAI,WAAN,EAAL,EAAa+N,QAAgB,MAAQ,aACjF,SAACkB,GAAe,CAACtF,MAAO,0BAAYuF,KAAW,OAAL3O,QAAK,IAALA,GAAW,QAAN,EAALA,EAAOP,YAAI,WAAN,EAAL,EAAaiO,YAGnE,EAEMgB,GAAiB,SAAC1O,GACpB,OACI,iBAAKpC,UAAW,qBAAsBC,MAAO,CAACQ,MAAO,OAAQJ,QAAS,OAAQE,WAAY,SAAUwC,aAAc,IAAI,WAClH,gBAAK/C,UAAW,oBAAqBC,MAAO,CAACQ,MAAO,KAAK,SACpD2B,EAAMoJ,SAEX,gBAAKxL,UAAW,wBAAyBC,MAAO,CAAC+C,SAAU,IAAI,SAC1DZ,EAAM2O,SAIvB,EAIMT,GAAgB,SAAClO,GACnB,OACI,iBAAKpC,UAAW,qBAAsBC,MAAO,CAACK,eAAgB,SAAUC,WAAY,SAAUE,MAAO,OAAQuQ,OAAQ,SAAU3I,QAAS,UAAY,WAChJ,gBAAKrI,UAAW,mBAAoBC,MAAO,CAAC8C,aAAc,GAAI,wCAC9D,kBAAOK,SAAU,SAACC,GAAC,OAAIjB,EAAMkN,eAAejM,EAAEC,OAAOC,MAAM,EAAEA,MAAOnB,EAAM8L,YAAahL,KAAK,OAAOjD,MAAO,CAACQ,MAAO,OAAQ0H,OAAQ,GAAIE,QAAS,GAAIE,OAAQ,oBAAqBD,aAAc,EAAG2I,aAAc,cAC/M,gBAAKjR,UAAW,oBAAqBC,MAAO,CAAC+C,SAAU,GAAI2F,UAAW,GAAG,2HAGrF,EAEM4H,GAAY,SAACnO,GACf,OACI,iBAAKpC,UAAW,uBAAwBC,MAAO,CAAC0I,UAAW,GAAIN,QAAS,IAAI,WACxE,gBAAKrI,UAAW,qBAAsBC,MAAO,CAAC2I,WAAY,IAAK7F,aAAc,IAAI,yCAGjF,SAACmO,IAAY,UAAK9O,KAClB,mBACA,SAAC+O,IAAa,UAAK/O,MAG/B,EAEM8O,GAAc,SAAC9O,GACjB,OACI,iBAAKpC,UAAW,qBAAsBC,MAAO,CAAC,EAAE,WAC5C,gBAAKD,UAAW,qBAAsBC,MAAO,CAAC8C,aAAc,GAAG,gCAC/D,iBAAK/C,UAAW,sBAAuBC,MAAO,CAACI,QAAS,OAAQE,WAAY,SAAUsI,IAAK,IAAI,WAC3F,iBAAK7I,UAAW,iBAAkBC,MAAO,CAACI,QAAS,OAAQE,WAAY,SAAUsI,IAAK,GAAG,WACrF,kBAAO8H,QAA4B,SAAnBvO,EAAMgM,UAAoChL,SAAU,SAACC,GAAC,OAAIjB,EAAMmN,aAAalM,EAAEC,OAAOC,MAAM,EAAEL,KAAK,QAAQgK,KAAM,SAAU3J,OAAO,EAAMtD,MAAO,CAACQ,MAAO,GAAI0H,OAAQ,OACnL,gBAAKnI,UAAW,gBAAgB,qBAGpC,iBAAKA,UAAW,iBAAkBC,MAAO,CAACI,QAAS,OAAQE,WAAY,SAAUsI,IAAK,GAAG,WACrF,kBAAO8H,QAA4B,UAAnBvO,EAAMgM,UAAqChL,SAAU,SAACC,GAAC,OAAIjB,EAAMmN,aAAalM,EAAEC,OAAOC,MAAM,EAAEL,KAAK,QAAQgK,KAAM,SAAU3J,OAAO,EAAOtD,MAAO,CAACQ,MAAO,GAAI0H,OAAQ,OACrL,gBAAKnI,UAAW,gBAAgB,6BAKpD,EAEMmR,GAAe,SAAC/O,GAClB,OACI,iBAAKpC,UAAW,qBAAsBC,MAAO,CAAC,EAAE,WAC5C,gBAAKD,UAAW,qBAAsBC,MAAO,CAAC8C,aAAc,GAAG,qCAC/D,gBAAK/C,UAAW,sBAAuBC,MAAO,CAACI,QAAS,OAAQE,WAAY,SAAUsI,IAAK,IAAI,UAC3F,kBAAOtF,MAAY,OAALnB,QAAK,IAALA,OAAK,EAALA,EAAOoM,WAAYpL,SAAU,SAACC,GAAC,OAAS,OAALjB,QAAK,IAALA,OAAK,EAALA,EAAOsN,cAAcrM,EAAEC,OAAOC,MAAM,EAAEL,KAAK,OAAOjD,MAAO,CAACQ,MAAO,OAAQ0H,OAAQ,GAAIE,QAAS,GAAIC,aAAc,EAAG2I,aAAc,iBAIlM,EAaA,IAAelM,EAAAA,EAAAA,MAAKkK,IC5PdmC,GAAgB,yCAAG,WAAOC,EAAUlI,EAAe/E,GAAO,+FAC3CjD,EAAAA,EAAAA,IAAM,CACnBC,IAAKC,EAAAA,GAAY,oCAAqCgQ,EACtD/P,OAAQ,OACR8H,QAAS,CACL,cAAiB,UAAWxH,EAAAA,EAAAA,IAAY,gBAE5CL,KAAM,CACFqI,OAAQhI,EAAAA,EAAAA,IAAY,OACpBuH,eAAAA,KAEN,OAVO,OAAH3H,EAAI,EAAD,cAWWA,EAAID,KAAI,OACT,OADbE,EAAO,EAAD,KACZsI,QAAQC,IAAIvI,GAAO,kBACZ2C,GAAQ,SAAA6F,GAAI,OAAIA,CAAI,KAAC,2CAC/B,gBAfqB,0CAiBtB,MCjBMqH,GAAiB,yCAAE,WAAOC,EAAO9H,EAAQ+H,EAAWC,EAAWrN,EAAS/B,GAAQ,+FACjElB,EAAAA,EAAAA,IAAM,CACnBC,IAAI,GAAD,OAAKC,EAAAA,GAAU,sBAClBC,OAAQ,OACR8H,QAAS,CACL,cAAiB,UAAUxH,EAAAA,EAAAA,IAAY,gBAE1CL,KAAM,CACHgQ,MAAAA,EAAO9H,OAAAA,EAAQ+H,UAAAA,EAAWC,WAAAA,KAEhC,OATO,OAAHjQ,EAAI,EAAD,cAUWA,EAAID,KAAI,OACG,OADzBE,EAAO,EAAD,KACZY,EAAS,UAAgB,OAANZ,QAAM,IAANA,OAAM,EAANA,EAAQK,MAAI,kBACxBsC,EAAQ3C,IAAO,2CAEzB,gBAfsB,gDAiBvB,MCjBMiQ,GAAuB,yCAAG,WAAOtN,GAAO,+FACzBjD,EAAAA,EAAAA,IAAM,CACnBC,IAAKC,EAAAA,GAAY,sBAAuBO,EAAAA,EAAAA,IAAY,OACpDN,OAAQ,MACR8H,QAAS,CACL,cAAiB,UAAWxH,EAAAA,EAAAA,IAAY,kBAE9C,OANO,OAAHJ,EAAI,EAAD,cAOWA,EAAID,KAAI,OAAhB,OAANE,EAAO,EAAD,uBACL2C,EAAQ3C,IAAO,2CACzB,gBAV4B,sCAY7B,MCZMkQ,GAAQ,yCAAE,WAAOhI,EAAUvF,GAAO,+FACnBjD,EAAAA,EAAAA,IAAM,CACnBC,IAAKC,EAAAA,GAAY,uBAAwBsI,EACzCrI,OAAQ,OACRC,KAAM,CACFqI,OAAQhI,EAAAA,EAAAA,IAAY,QAExBwH,QAAS,CACL,cAAiB,UAAWxH,EAAAA,EAAAA,IAAY,kBAE9C,OATO,OAAHJ,EAAI,EAAD,cAUWA,EAAID,KAAI,OAAhB,OAANE,EAAO,EAAD,uBACL2C,EAAQ3C,IAAO,2CACzB,gBAba,wCAed,MCfMmQ,GAAqB,yCAAC,WAAOxN,GAAO,+FACtBjD,EAAAA,EAAAA,IAAM,CAClBC,IAAI,GAAD,OAAKC,EAAAA,GAAU,8BAAsBO,EAAAA,EAAAA,IAAY,QACpDN,OAAQ,MACR8H,QAAS,CACL,cAAiB,UAAWxH,EAAAA,EAAAA,IAAY,kBAE9C,OANO,OAAHJ,EAAI,EAAD,cAOWA,EAAID,KAAI,OAAhB,OAANE,EAAO,EAAD,uBACL2C,EAAQ3C,IAAO,2CACzB,gBAV0B,sCAY3B,M,gFCJMoQ,GAAO,SAACzP,GAAW,IAAD,UACpB,GAA0BG,EAAAA,EAAAA,UAAS,IAAIuP,MAAM,8DAA6D,eAAnGC,EAAK,KAELzI,GAFe,MAEE0I,EAAAA,EAAAA,MAAjB1I,gBACAtC,GAAeW,EAAAA,EAAAA,YAAWd,GAA1BG,YACP,GAAuBzE,EAAAA,EAAAA,UAAS,IAAG,eAA5BhB,EAAI,KAAE6C,EAAO,MAGpBwC,EAAAA,EAAAA,YAAU,WACNgL,GAAsBxN,EAC1B,GAAG,CAAM,OAALhC,QAAK,IAALA,OAAK,EAALA,EAAO6P,OAAQ7P,EAAM8P,kBA8BzBtL,EAAAA,EAAAA,YAAU,WACHrF,EAAKiE,OAAS,IACbwB,EAAYO,GAAG,kBAAkB,SAAC4K,GAC9B,IAAMC,EAAO7Q,EAAK8Q,WAAU,SAAAC,GAAI,OAAGA,EAAKxI,mBAAyB,OAALqI,QAAK,IAALA,OAAK,EAALA,EAAOI,OAAM,IACzE,GAAGH,GAAS,EAAG,CACX,IAAM5C,EAAW,GAAD,eAAMjO,EAAKiR,MAAM,EAAGJ,IAAM,oBAAM7Q,EAAK6Q,IAAM,IAAEK,WAAiB,OAALN,QAAK,IAALA,OAAK,EAALA,EAAOM,eAAU,OAAMlR,EAAKiR,MAAMJ,EAAQ,KACnHhO,GAAQ,kBAAKoL,CAAU,GAC3B,CACJ,IACAxI,EAAYO,GAAG,wBAAwB,SAAC4K,GACvB5Q,EAAK8Q,WAAU,SAAAC,GAAI,OAAGA,EAAKxI,mBAAyB,OAALqI,QAAK,IAALA,OAAK,EAALA,EAAOI,OAAM,KAC7D,GACRR,EAAMW,MAEd,IAER,GAAG,CAAC1L,EAAazF,IACjB,IAOQoR,EAAO,IAAIC,GAAAA,EAAKrR,EAPR,CACZsR,KAAM,CACF,CAAE3F,KAAM,QAAS4F,MAAO,SAACC,GAAI,OAAKA,EAAKxB,KAAK,GAC5C,CAAErE,KAAM,WAAY4F,MAAO,SAACC,GAAI,aAAgB,QAAhB,EAAKA,EAAKtJ,cAAM,aAAX,EAAauJ,KAAI,SAAAV,GAAI,OAAGA,EAAKpO,QAAQ,GAAC,MAMrF,OACE,iBAAKlE,UAAW,kBAAkBC,MAAO,CAACQ,MAAM,QAAS0H,OAAQ,oBAAqB8K,SAAU,QAAQ,WAEpG,gBAAKhT,MAAO,CAAC6D,UAAW,UAAU,UACP,KAAjB,OAAL1B,QAAK,IAALA,OAAK,EAALA,EAAO8Q,eAA4B,OAAL9Q,QAAK,IAALA,GAAW,QAAN,EAALA,EAAOb,YAAI,WAAN,EAAL,EAAaiE,SAAS,IAAmC,KAAzB,OAALpD,QAAK,IAALA,OAAK,EAALA,EAAO+Q,sBAA+B,iEAIpG,gBAAKlT,MAAO,CAAC6D,UAAW,UAAU,UACP,KAAjB,OAAL1B,QAAK,IAALA,OAAK,EAALA,EAAO8Q,eAA4B,OAAL9Q,QAAK,IAALA,GAAW,QAAN,EAALA,EAAOb,YAAI,WAAN,EAAL,EAAaiE,SAAS,IAAmC,KAAzB,OAALpD,QAAK,IAALA,OAAK,EAALA,EAAO+Q,sBAA+BR,EAAKS,OAAY,OAALhR,QAAK,IAALA,OAAK,EAALA,EAAOiR,aAAa7N,QAAU,GAAI,iEAKxH,KAAjB,OAALpD,QAAK,IAALA,OAAK,EAALA,EAAO8Q,eAA4B,OAAL9Q,QAAK,IAALA,GAAkB,QAAb,EAALA,EAAOiR,mBAAW,WAAb,EAAL,EAAoB7N,QAAS,IAAS,OAAJjE,QAAI,IAAJA,OAAI,EAAJA,EAAMiE,QAAS,IAAoC,QAAnC,EAAImN,EAAKS,OAAY,OAALhR,QAAK,IAALA,OAAK,EAALA,EAAOiR,oBAAY,aAA/B,EAAiCL,KAAI,SAACV,EAAMlH,GAAG,OAAI,SAACkI,IAAQ,UAAehB,EAAKA,MAAdlH,EAAsB,MAGhL,gBAAKnL,MAAO,CAAC6D,UAAW,UAAU,UACP,KAAjB,OAAL1B,QAAK,IAALA,OAAK,EAALA,EAAO8Q,eAA4B,OAAJ3R,QAAI,IAAJA,OAAI,EAAJA,EAAMiE,SAAS,GAAK,mEAK9B,KAAjB,OAALpD,QAAK,IAALA,OAAK,EAALA,EAAO8Q,eAA4B,OAAJ3R,QAAI,IAAJA,OAAI,EAAJA,EAAMiE,QAAQ,IAC7C,SAAC+N,GAAA,EAAe,UAE2F,QAF3F,EAERC,KAAAA,QAAUjS,GAAM,SAAS8B,GAAI,OAAOoQ,KAAOpQ,EAAEoP,WAAY,uBAAuBiB,SAAS,GAAG,eAAO,aAAnG,EAAqGV,KAAI,SAACV,EAAMlH,GAAG,OAC/G,SAACuI,GAAA,EAAa,CAEVC,QAAS,IACTC,WAAW,OAAM,UAGjB,SAACP,IAAQ,QAAChK,eAAgBA,EAAgBtC,YAAaA,GAAiBsL,KAL/D,OAAJA,QAAI,IAAJA,OAAI,EAAJA,EAAMxI,gBAMC,QAUxC,EAEMwJ,IAAUvO,EAAAA,EAAAA,OAAK,SAAC3C,GAClB,IAAO4E,EAA8B5E,EAA9B4E,YAAasC,EAAiBlH,EAAjBkH,eACpB,GAA+C/G,EAAAA,EAAAA,WAAS,GAAM,eAAvDuR,EAAgB,KAAEC,EAAmB,KAe5C,OAbAnN,EAAAA,EAAAA,YAAU,WACH0C,GAAkBtC,GAAoB,OAAL5E,QAAK,IAALA,GAAAA,EAAO0H,iBACpCR,KAAsB,OAALlH,QAAK,IAALA,OAAK,EAALA,EAAO0H,kBACvB9C,EAAYO,GAAG,gCAAgC,SAAChG,IAErC,OAAJA,QAAI,IAAJA,OAAI,EAAJA,EAAM+H,mBAAwB,OAALlH,QAAK,IAALA,OAAK,EAALA,EAAO0H,mBAAuB,OAAJvI,QAAI,IAAJA,OAAI,EAAJA,EAAM+H,kBAAkBA,GAAkBA,KAAsB,OAALlH,QAAK,IAALA,OAAK,EAALA,EAAO0H,kBACpHiK,GAAoB,kBAAK,CAAI,GAErC,GAGZ,GAAG,CAACzK,EAAqB,OAALlH,QAAK,IAALA,OAAK,EAALA,EAAO0H,mBAGvB,SAAC,KAAO,CAACnG,QAAS,WACdoQ,GAAoB,kBAAK,CAAK,GAClC,EAAG9T,MAAO,CAAC+T,eAAgB,OAAQrO,MAAO,QAAS3F,UAAW,YAAU,SAARiU,SAAwB,sCAAwC,wCAAwC,EAAEjQ,GAAI,UAAe,OAAL5B,QAAK,IAALA,OAAK,EAALA,EAAON,KAAI,UAC/L,iBAAK9B,UAAS,+BAA6C,IAApB8T,EAA2B,qBAAuB,kBAAiB,aAAS,OAAL1R,QAAK,IAALA,OAAK,EAALA,EAAO0H,mBAAmBR,EAAiB,sBAAwB,qBAAuBrJ,MAAO,CAACQ,MAAO,OAAQ4H,QAAS,GAAIhI,QAAS,OAAQC,eAAgB,gBAAiBC,WAAY,SAAUwD,OAAQ,WAAW,WAEnU,iBAAK/D,UAAW,kBAAmBC,MAAO,CAACI,QAAS,OAAQC,eAAgB,gBAAiBC,WAAY,SAAUsI,IAAK,IAAI,WACxH,SAACqL,IAAa,UAAK9R,KACnB,SAAC+R,IAAI,UAAK/R,QAGd,gBAAKpC,UAAW,oBAAqBC,MAAO,CAACI,QAAS,OAAQC,eAAgB,SAAUC,WAAY,UAAU,UAElF,IAApBuT,IAA4B,gBAAK7T,MAAO,CAACQ,MAAO,GAAI0H,OAAQ,GAAIG,aAAc,MAAOF,WAAY,mBAMzH,IAGa8L,GAAe,SAAC9R,GAAU,IAAD,cAClC,OACI,gBAAKpC,UAAW,oBAAqBC,MAAO,CAACI,QAAS,OAAQC,eAAgB,SAAUC,WAAY,UAAU,UAC1G,gBAAKyH,IAAU,OAAL5F,QAAK,IAALA,GAAAA,EAAOqP,WAAkB,OAALrP,QAAK,IAALA,OAAK,EAALA,EAAOqP,YAAmB,OAALrP,QAAK,IAALA,GAAa,QAAR,EAALA,EAAOqH,cAAM,OAAiD,QAAjD,EAAb,EAAe2K,QAAO,SAAA9B,GAAI,OAAO,OAAJA,QAAI,IAAJA,OAAI,EAAJA,EAAMxQ,OAAQF,EAAAA,EAAAA,IAAY,MAAM,WAAC,OAAK,QAAL,EAA9D,EAAiE,UAAE,OAAgB,QAAhB,EAAnE,EAAqE4G,sBAAc,WAA9E,EAAL,EAAqFhD,QAAS,EAAS,OAALpD,QAAK,IAALA,GAAa,QAAR,EAALA,EAAOqH,cAAM,OAAiD,QAAjD,EAAb,EAAe2K,QAAO,SAAA9B,GAAI,OAAO,OAAJA,QAAI,IAAJA,OAAI,EAAJA,EAAMxQ,OAAQF,EAAAA,EAAAA,IAAY,MAAM,WAAC,OAAK,QAAL,EAA9D,EAAiE,UAAE,WAA9D,EAAL,EAAqE4G,eAAiB,uFAAyFE,IAAI,GAAGzI,MAAO,CAACQ,MAAO,GAAI0H,OAAQ,GAAIM,UAAW,QAASH,aAAc,UAGxZ,EAEa6L,GAAM,SAAC/R,GAAU,IAAD,cACzB,OACI,gBAAKpC,UAAW,sBAAuBC,MAAO,CAACI,QAAS,OAAQE,WAAY,UAAU,UAClF,gBAAKP,UAAW,oBAAqBC,MAAO,CAAC+C,SAAU,IAAI,SACjD,OAALZ,QAAK,IAALA,GAAAA,EAAOmP,MAAa,OAALnP,QAAK,IAALA,OAAK,EAALA,EAAOmP,OAAc,OAALnP,QAAK,IAALA,GAAa,QAAR,EAALA,EAAOqH,cAAM,OAAiD,QAAjD,EAAb,EAAe2K,QAAO,SAAA9B,GAAI,OAAO,OAAJA,QAAI,IAAJA,OAAI,EAAJA,EAAMxQ,OAAQF,EAAAA,EAAAA,IAAY,MAAM,WAAC,OAAK,QAAL,EAA9D,EAAiE,UAAE,OAAU,QAAV,EAAnE,EAAqEsC,gBAAQ,WAAxE,EAAL,EAA+EsB,QAAS,EAAS,OAALpD,QAAK,IAALA,GAAa,QAAR,EAALA,EAAOqH,cAAM,OAAiD,QAAjD,EAAb,EAAe2K,QAAO,SAAA9B,GAAI,OAAO,OAAJA,QAAI,IAAJA,OAAI,EAAJA,EAAMxQ,OAAQF,EAAAA,EAAAA,IAAY,MAAM,WAAC,OAAK,QAAL,EAA9D,EAAiE,UAAE,WAA9D,EAAL,EAAqEsC,SAAW,eAI5N,EAEA,IAAea,EAAAA,EAAAA,MAAK8M,IC3JdwC,GAAa,SAACjS,GAClB,IAAMC,GAAUC,EAAAA,EAAAA,MAEhB,OACE,iBAAKqB,QAAS,kBAAKtB,EAAS,yBAAyB,EAAErC,UAAW,6CAA8CC,MAAO,CAACQ,MAAO,OAAQ4H,QAAS,GAAIhI,QAAS,OAAQE,WAAY,SAAUsI,IAAK,GAAI9E,OAAQ,WAAW,WACrN,gBAAKiE,IAAK,4EAA6EU,IAAI,GAAGzI,MAAO,CAACQ,MAAO,GAAI0H,OAAQ,GAAIM,UAAW,QAASH,aAAc,UAC/J,gBAAKtI,UAAW,gBAAiBC,MAAO,CAAC+C,SAAU,IAAI,8CAG7D,EAEMsR,GAAmB,SAAClS,GACxB,IAAMC,GAAUC,EAAAA,EAAAA,MAEhB,OACE,iBAAKqB,QAAS,kBAAKtB,EAAS,yBAAyB,EAAErC,UAAW,6CAA8CC,MAAO,CAACQ,MAAO,OAAQ4H,QAAS,GAAIhI,QAAS,OAAQE,WAAY,SAAUsI,IAAK,GAAI9E,OAAQ,WAAW,WACrN,gBAAKiE,IAAK,4EAA6EU,IAAI,GAAGzI,MAAO,CAACQ,MAAO,GAAI0H,OAAQ,GAAIM,UAAW,QAASH,aAAc,UAC/J,gBAAKtI,UAAW,gBAAiBC,MAAO,CAAC+C,SAAU,IAAI,8DAG7D,EAEauR,GAAgB,SAACnS,GAAU,IAAD,IACrC,GAAuBG,EAAAA,EAAAA,YAAU,eAA1BhB,EAAI,KAAE6C,EAAO,KAKpB,OAJAwC,EAAAA,EAAAA,YAAU,WACR8K,GAAwBtN,EAC1B,GAAG,KAGD,iCACE,gBAAKpE,UAAW,6CAA8CC,MAAO,CAACQ,MAAO,OAAQ4H,QAAS,GAAIhI,QAAS,OAAQE,WAAY,SAAUsI,IAAK,GAAI9E,OAAQ,WAAW,UACnK,gBAAK9D,MAAO,CAAC+C,SAAU,IAAI,2CAGvB,OAAJzB,QAAI,IAAJA,GAAU,QAAN,EAAJA,EAAMA,YAAI,OAAS,QAAT,EAAV,EAAYiT,eAAO,WAAf,EAAJ,EAAqBxB,KAAI,SAACV,EAAMlH,GAAG,OAAI,SAACqJ,IAAmB,QAAEC,eAAqB,OAALtS,QAAK,IAALA,OAAK,EAALA,EAAOsS,eAAgBC,YAAkB,OAALvS,QAAK,IAALA,OAAK,EAALA,EAAOuS,YAAaC,UAAgB,OAALxS,QAAK,IAALA,OAAK,EAALA,EAAOwS,WAAyBtC,GAATlH,EAAiB,MAIhM,EAGaqJ,GAAqB,SAACrS,GAAU,IAAD,MAC1C,GAAuBG,EAAAA,EAAAA,WAAS,kBAAK,CAAK,IAAC,eAApCsS,EAAI,KAAEnK,EAAO,KACpB,OACE,iBAAK/G,QAAS,kBAAK+G,GAAQ,SAAAT,GAAI,OAAIA,CAAI,GAAC,EAAEjK,UAAW,sBAAuBC,MAAO,CAACQ,MAAO,OAAQ4H,QAAS,GAAIhI,QAAS,OAAQC,eAAgB,gBAAiBC,WAAY,SAAUwD,OAAQ,WAAW,WAEvM,iBAAK/D,UAAW,kBAAmBC,MAAO,CAACI,QAAS,OAAQC,eAAgB,gBAAiBC,WAAY,SAAUsI,IAAK,IAAI,WACxH,SAACqL,IAAa,kBAAK9R,GAAK,IAAGqP,YAAiB,OAALrP,QAAK,IAALA,GAAqB,QAAhB,EAALA,EAAOoG,sBAAc,WAAhB,EAAL,EAAuBhD,QAAS,EAAS,OAALpD,QAAK,IAALA,OAAK,EAALA,EAAOoG,eAAiB,gIACnG,SAAC2L,IAAI,kBAAK/R,GAAK,IAAEmP,MAAY,OAALnP,QAAK,IAALA,OAAK,EAALA,EAAO8B,aAEV,KAAd,OAAL9B,QAAK,IAALA,OAAK,EAALA,EAAO0S,YAAoB,iCAED,KAAjB,OAAL1S,QAAK,IAALA,OAAK,EAALA,EAAO2S,eAA6B,OAAL3S,QAAK,IAALA,OAAK,EAALA,EAAON,QAAa,OAALM,QAAK,IAALA,OAAK,EAALA,EAAO4S,SAAU,yCAGzC,KAAjB,OAAL5S,QAAK,IAALA,OAAK,EAALA,EAAO2S,eAA8B,OAAL3S,QAAK,IAALA,OAAK,EAALA,EAAON,QAAa,OAALM,QAAK,IAALA,OAAK,EAALA,EAAO4S,SAAU,+CAM1E,iBAAKhV,UAAW,oBAAqBC,MAAO,CAACI,QAAS,OAAQC,eAAgB,SAAUC,WAAY,UAAU,WAEpF,KAAf,OAAL6B,QAAK,IAALA,OAAK,EAALA,EAAOwS,aAAqB,SAACtP,EAAA,EAAM,CAAC3B,QAAS,SAACN,GAC5CA,EAAE4R,kBACG,OAAL7S,QAAK,IAALA,GAAAA,EAAOsS,gBAAe,SAAAzK,GAAI,wBAAOA,GAAI,CAAO,OAAL7H,QAAK,IAALA,OAAK,EAALA,EAAON,KAAG,GACnD,EAAGoT,WAAe,OAAL9S,QAAK,IAALA,GAAkB,QAAb,EAALA,EAAOuS,mBAAW,QAAlB,EAAoBQ,SAAc,OAAL/S,QAAK,IAALA,OAAK,EAALA,EAAON,MAAqB+B,QAAS,UAAU,SAAO,OAALzB,QAAK,IAALA,GAAkB,QAAb,EAALA,EAAOuS,mBAAW,OAAlB,EAAoBQ,SAAc,OAAL/S,QAAK,IAALA,OAAK,EAALA,EAAON,KAAO,qBAAY,aAG/H,KAAd,OAALM,QAAK,IAALA,OAAK,EAALA,EAAO0S,YAA0C,KAAjB,OAAL1S,QAAK,IAALA,OAAK,EAALA,EAAO2S,eAA8B,OAAL3S,QAAK,IAALA,OAAK,EAALA,EAAON,QAAa,OAALM,QAAK,IAALA,OAAK,EAALA,EAAO4S,SAAU,+BACzF,SAAC1P,EAAA,EAAM,CAAC3B,QAAO,yCAAE,WAAON,GAAC,sEACJ,OAAnBA,EAAE4R,kBAAiB,SACb7D,GAAsB,OAALhP,QAAK,IAALA,OAAK,EAALA,EAAON,IAAU,OAALM,QAAK,IAALA,OAAK,EAALA,EAAO0H,gBAAsB,OAAL1H,QAAK,IAALA,OAAK,EAALA,EAAO6C,WAAU,2CAC3E,mDAHY,GAGVU,MAAO,UAAW1F,MAAO,CAACmV,WAAY,UAAU,2CAIpD,IAARP,IAAgB,SAACQ,IAAe,QAACR,KAAMA,EAAMnK,QAASA,GAAatI,MAG5E,EAGaiT,GAAiB,SAACjT,GAC7B,OAAuBG,EAAAA,EAAAA,YAAU,eAA1BhB,EAAI,KAAE6C,EAAO,KAEpB,GAAyB7B,EAAAA,EAAAA,YAAU,eAArB+S,GAAF,KAAU,MACtB,GAA6C/S,EAAAA,EAAAA,YAAU,eAA/BgT,GAAF,KAAoB,MACpClT,GAAUC,EAAAA,EAAAA,OAChBsE,EAAAA,EAAAA,YAAU,WACLxE,EAAMN,KACP4H,GAAyBtH,EAAMN,IAAKsC,EAExC,GAAG,CAAChC,EAAMN,MAEV,IAAM0T,EAAU,yCAAE,mGACV7D,GAAc,OAALvP,QAAK,IAALA,OAAK,EAALA,EAAON,IAAKwT,GAAS,OACpCtT,OAAOC,SAASwT,SAAQ,2CACzB,kBAHe,mCAIhB,OACI,gBAAKzV,UAAW,uBAAwBC,MAAO,CAACQ,MAAO,OAAQ0H,OAAQ,OAAQjI,SAAU,QAASC,IAAK,EAAGC,KAAM,EAAGgI,WAAY,oBAAqB5H,OAAQ,GAAIH,QAAS,OAAQC,eAAgB,SAAUC,WAAY,UAAU,UAC7N,SAAC,UAAmB,CAACyP,eAAgB,kBAAK5N,EAAMsI,SAAS,kBAAK,CAAK,GAAE,EAAC,UAClE,gBAAK1K,UAAW,sBAAuBC,MAAO,CAACoI,QAAS,GAAID,WAAY,OAAQE,aAAc,EAAG7H,MAAO,QAASwP,SAAU,KAAK,UAC5H,iBAAKhQ,MAAO,CAACQ,MAAO,OAAQ0H,OAAQ,QAAQ,WACxC,iBAAKnI,UAAW,iBAAkBC,MAAO,CAACQ,MAAO,OAAQ0H,OAAQ,GAAI9H,QAAS,OAAQC,eAAgB,gBAAiBC,WAAY,UAAU,WAC3I,gBAAKP,UAAW,oBAAqBC,MAAO,CAAC2I,WAAY,IAAK5F,SAAU,IAAI,SACzEZ,EAAM8B,YAET,gBAAKP,QAAS,kBAAKvB,EAAMsI,SAAS,kBAAK,CAAK,GAAE,EAAEzK,MAAO,CAACI,QAAS,OAAQC,eAAgB,SAAUC,WAAY,SAAUwD,OAAQ,UAAWsE,QAAS,IAAI,UACvJ,SAAC,MAAO,CAAC1E,QAAS,kBAAKvB,EAAMsI,SAAS,kBAAK,CAAK,GAAE,UAGtD,SAAC,GAAU,CAACyB,WAAiB,OAAL/J,QAAK,IAALA,OAAK,EAALA,EAAO+J,cAC/B,SAAC,GAAM,CAACvB,OAAa,OAALxI,QAAK,IAALA,OAAK,EAALA,EAAOoG,kBACvB,SAAC0H,GAAW,CAAChM,SAAe,OAAL9B,QAAK,IAALA,OAAK,EAALA,EAAO8B,YAC9B,iBAAKjE,MAAO,CAACQ,MAAO,OAAQJ,QAAS,OAAQC,eAAgB,SAAUC,WAAY,SAAUsI,IAAK,IAAI,WACpG,SAACvD,EAAA,EAAM,CAAC3B,SAAO,uBAAE,uFACZpC,EAAKuI,gBAAgB,CAAD,eACrBzH,EAAS,UAAc,OAAJd,QAAI,IAAJA,OAAI,EAAJA,EAAMuI,kBAAgB,sCAGnCwH,QAAkBpJ,EAAW,CAAM,OAAL9F,QAAK,IAALA,OAAK,EAALA,EAAON,IAAKF,EAAAA,EAAAA,IAAY,QAASA,EAAAA,EAAAA,IAAY,YAAQsG,EAAWqN,EAAoBlT,GAAS,2CAElIwB,QAAQ,UAAS,4BACpB,SAACyB,EAAA,EAAM,CAAC3B,QAAS6R,EAAY3R,QAAQ,YAAW,4CAElD,0BAMtB,EAGA,GAjJmB,SAACzB,GAClB,OACE,iBAAKpC,UAAW,kBAAkBC,MAAO,CAACQ,MAAM,QAAS0H,OAAQ,oBAAqB8K,SAAU,QAAQ,WACtG,SAACoB,GAAW,KACZ,SAACC,GAAiB,KAClB,SAACC,GAAc,MAGrB,E,wBCpBMmB,GAAc,yCAAG,WAAMC,EAAOjQ,GAAO,+FACtBvE,EAAAA,EAAAA,IAAM,CACnBC,IAAKC,EAAAA,GAAY,gCAAiCsU,EAClDrU,OAAQ,OACR8H,QAAS,CACL,cAAiB,UAAWxH,EAAAA,EAAAA,IAAY,gBAE5CL,KAAM,CACFmE,QAAAA,KAEN,OATO,OAAHlE,EAAI,EAAD,cAUWA,EAAID,KAAI,OAAhB,OAANE,EAAO,EAAD,uBACLA,GAAM,2CAChB,gBAbmB,wCAepB,MCfMmU,GAAc,yCAAG,WAAMD,EAAOjQ,GAAO,+FACtBvE,EAAAA,EAAAA,IAAM,CACnBC,IAAKC,EAAAA,GAAY,gCAAiCsU,EAClDrU,OAAQ,OACR8H,QAAS,CACL,cAAiB,UAAWxH,EAAAA,EAAAA,IAAY,gBAE5CL,KAAM,CACFmE,QAAAA,KAEN,OATO,OAAHlE,EAAI,EAAD,cAUWA,EAAID,KAAI,OAAhB,OAANE,EAAO,EAAD,uBACLA,GAAM,2CAChB,gBAbmB,wCAepB,M,YCJMoU,GAAsB,SAACzT,GAAW,IAAD,IAC5BkH,GAAkB0I,EAAAA,EAAAA,MAAlB1I,eACAtC,GAAcW,EAAAA,EAAAA,YAAWd,GAAzBG,YACP,OACE,gBACEhH,UAAW,uBACXC,MAAO,CAAEQ,MAAO,OAAQ0H,OAAQ,2BAA4B,UAE5D,gBACEX,GAAG,6BACHxH,UAAW,uBACXC,MAAO,CAAEQ,MAAO,OAAQ0H,OAAQ,OAAQ8K,SAAU,OAAQ5K,QAAS,GAAG,UAEpE,UAAC,MAAc,CAACrI,UAAW,uBAAwB8V,KAAK,SAAQ,UAEe,QAFf,EAExDtC,KAAAA,QAAe,OAALpR,QAAK,IAALA,OAAK,EAALA,EAAO2T,aAAa,SAAAC,GAAC,OAAGvC,KAAOuC,EAAEC,WAAWvC,SAAS,GAAE,cAAM,OAA+C,QAA/C,EAAvE,EAAyEU,QAAO,SAAA9B,GAAI,OAAGA,EAAKC,SAAWjJ,CAAc,WAAC,WAA/C,EAAvE,EAAwH0J,KAAI,SAACV,GAAI,OAAI,SAAC4D,IAAgB,gBAAClP,YAAaA,GAAiCsL,GAAI,IAAEqD,MAAW,OAAJrD,QAAI,IAAJA,OAAI,EAAJA,EAAMlH,IAAK9B,eAAgBA,IAAnD,OAAJgJ,QAAI,IAAJA,OAAI,EAAJA,EAAMlH,IAAmE,KAEnQ,gBAAKpL,UAAU,YAAYkN,KAAK,YAAYjN,MAAO,CAACC,SAAU,oBAK5E,EAEA,IAAe6E,EAAAA,EAAAA,MAAK8Q,IAEhBK,GAAkB,SAAC9T,GAAU,IAAD,MACvBkH,EAAkBlH,EAAlBkH,eACP,GAAuB/G,EAAAA,EAAAA,WAAS,GAAM,eAA/BsS,EAAI,KAAEnK,EAAO,KACpB,GAA6BnI,EAAAA,EAAAA,eAAS2F,GAAU,eAAzCiO,EAAO,KAAEC,EAAU,MAC1BxP,EAAAA,EAAAA,YAAU,WAAM,IAAD,IACN,OAALxE,QAAK,IAALA,GAAkB,QAAb,EAALA,EAAO4E,mBAAW,OAAlB,EAAoBO,GAAG,yBAAyB,SAAChG,IACrC,OAALa,QAAK,IAALA,OAAK,EAALA,EAAOuT,UAAc,OAAJpU,QAAI,IAAJA,OAAI,EAAJA,EAAMoU,SACtBS,EAAW7U,GACXmU,GAAoB,OAALtT,QAAK,IAALA,OAAK,EAALA,EAAOuT,MAAW,OAAJpU,QAAI,IAAJA,OAAI,EAAJA,EAAMmE,SAE3C,IACK,OAALtD,QAAK,IAALA,GAAkB,QAAb,EAALA,EAAO4E,mBAAW,OAAlB,EAAoBO,GAAG,yBAAyB,SAAChG,IACrC,OAALa,QAAK,IAALA,OAAK,EAALA,EAAOuT,UAAc,OAAJpU,QAAI,IAAJA,OAAI,EAAJA,EAAMoU,SACtBS,EAAW7U,GACXqU,GAAoB,OAALxT,QAAK,IAALA,OAAK,EAALA,EAAOuT,MAAW,OAAJpU,QAAI,IAAJA,OAAI,EAAJA,EAAMmE,SAE3C,GACJ,GAAG,CAAM,OAALtD,QAAK,IAALA,OAAK,EAALA,EAAOuT,QAeX,OACI,gBAAKU,aAAc,kBAAK3L,GAAQ,EAAK,EAAE4L,aAAc,kBAAK5L,GAAQ,EAAM,EAAE1K,UAAS,gCAA+B,OAALoC,QAAK,IAALA,GAAa,QAAR,EAALA,EAAOmU,cAAM,WAAR,EAAL,EAAezU,OAAQF,EAAAA,EAAAA,IAAY,OAAS,uBAAyB,qBAAsB,UACpM,iBAAK5B,UAAW,uBAAwBC,MAAO,CAACC,SAAU,YAAY,WAClE,SAAC,IAAM,UAAKkC,KACZ,SAACoU,IAAI,kBAAKpU,GAAK,IAAEsI,QAASA,EAASyL,QAASA,MAEnC,OAAL/T,QAAK,IAALA,GAAa,QAAR,EAALA,EAAOmU,cAAM,WAAR,EAAL,EAAezU,OAAQF,EAAAA,EAAAA,IAAY,SACnC,gBAAK3B,MAAO,CAACC,SAAU,YAAY,UACtB,IAAR2U,IAAgB,SAAC4B,GAAsB,CAACC,cArBxC,WAAM,IAAD,EACjB,OAALtU,QAAK,IAALA,GAAkB,QAAb,EAALA,EAAO4E,mBAAW,OAAlB,EAAoB+B,KAAK,iBAAkB,CAACO,eAAgBA,EAAgBqN,OAAQ,SAAUC,UAAgB,OAALxU,QAAK,IAALA,OAAK,EAALA,EAAON,IAAK6T,MAAY,OAALvT,QAAK,IAALA,OAAK,EAALA,EAAOuT,OAEvI,EAkB2FkB,cAhBtE,WAAM,IAAD,IACjB,OAALzU,QAAK,IAALA,GAAkB,QAAb,EAALA,EAAO4E,mBAAW,OAAlB,EAAoB+B,KAAK,iBAAkB,CAACO,eAAgBA,EAAgBqN,OAAQ,SAAUC,UAAgB,OAALxU,QAAK,IAALA,OAAK,EAALA,EAAON,IAAK6T,MAAY,OAALvT,QAAK,IAALA,OAAK,EAALA,EAAOuT,QAC9H,OAALvT,QAAK,IAALA,GAAkB,QAAb,EAALA,EAAO4E,mBAAW,OAAlB,EAAoBO,GAAG,yBAAyB,SAAChG,GAC7C6U,EAAW7U,GACXqU,GAAoB,OAALxT,QAAK,IAALA,OAAK,EAALA,EAAOuT,MAAW,OAAJpU,QAAI,IAAJA,OAAI,EAAJA,EAAMmE,QACvC,GACJ,EAUyH6Q,OAAa,OAALnU,QAAK,IAALA,GAAa,QAAR,EAALA,EAAOmU,cAAM,WAAR,EAAL,EAAezU,IAAKgV,GAAIlV,EAAAA,EAAAA,IAAY,eAOzK,EAEM6U,GAAwB,SAACrU,GAC3B,OAAQ,OAALA,QAAK,IAALA,OAAK,EAALA,EAAOmU,WAAgB,OAALnU,QAAK,IAALA,OAAK,EAALA,EAAO0U,KAEpB,iBAAK9W,UAAW,iBAAkBC,MAAO,CAAC8W,UAAW,SAAU3O,WAAY,UAAWE,aAAc,EAAGD,QAAS,GAAGQ,IAAK,GAAIxI,QAAS,OAAQC,eAAe,UAAWC,WAAY,SAAUL,SAAU,WAAW4K,MAAO,OAAQ3K,IAAK,MAAOuD,UAAW,sBAAsB,WAC1Q,gBAAKC,QAAc,OAALvB,QAAK,IAALA,OAAK,EAALA,EAAOsU,cAAelL,MAAO,eAAWvL,MAAO,CAACI,QAAS,OAAQC,eAAgB,SAAUC,WAAY,SAAUwD,OAAQ,WAAW,UAC9I,SAAC,OAAiB,CAAC9D,MAAO,CAACQ,MAAO,GAAI0H,OAAQ,SAElD,gBAAKxE,QAAc,OAALvB,QAAK,IAALA,OAAK,EAALA,EAAOyU,cAAerL,MAAO,kBAASvL,MAAO,CAACI,QAAS,OAAQC,eAAgB,SAAUC,WAAY,SAAUwD,OAAQ,WAAW,UAC5I,SAAC,OAAQ,CAAC9D,MAAO,CAACQ,MAAO,GAAI0H,OAAQ,YAQ7C,iBAAKnI,UAAW,iBAAkBC,MAAO,CAAC8W,UAAW,SAAU3O,WAAY,UAAWE,aAAc,EAAGD,QAAS,GAAGQ,IAAK,GAAIxI,QAAS,OAAQC,eAAe,UAAWC,WAAY,SAAUL,SAAU,WAAWE,KAAM,OAAQD,IAAK,MAAOuD,UAAW,qBAAqB,WACxQ,gBAAKC,QAAc,OAALvB,QAAK,IAALA,OAAK,EAALA,EAAOsU,cAAelL,MAAO,eAAWvL,MAAO,CAACI,QAAS,OAAQC,eAAgB,SAAUC,WAAY,SAAUwD,OAAQ,WAAW,UAC9I,SAAC,OAAiB,CAAC9D,MAAO,CAACQ,MAAO,GAAI0H,OAAQ,SAElD,gBAAKxE,QAAc,OAALvB,QAAK,IAALA,OAAK,EAALA,EAAOyU,cAAerL,MAAO,kBAASvL,MAAO,CAACI,QAAS,OAAQC,eAAgB,SAAUC,WAAY,SAAUwD,OAAQ,WAAW,UAC5I,SAAC,OAAQ,CAAC9D,MAAO,CAACQ,MAAO,GAAI0H,OAAQ,UAKzD,EAEMoC,GAAQ,SAACnI,GAAU,IAAD,EACpB,OACI,gBAAKpC,UAAW,uBAAwBC,MAAO,CAACI,QAAS,OAAQC,eAAgB,SAAUC,WAAY,UAAU,UAC7G,gBAAKyH,KAAU,OAAL5F,QAAK,IAALA,GAAa,QAAR,EAALA,EAAOmU,cAAM,WAAR,EAAL,EAAe/N,iBAAkB,uFAAwFE,IAAI,GAAGzI,MAAO,CAACQ,MAAO,GAAI0H,OAAQ,GAAIG,aAAc,MAAOG,UAAW,YAGrN,EAEM+N,GAAM,SAACpU,GAAU,IAAD,MAClB,OACI,gBAAKpC,UAAS,+BAA8B,OAALoC,QAAK,IAALA,GAAa,QAAR,EAALA,EAAOmU,cAAM,WAAR,EAAL,EAAezU,OAAQF,EAAAA,EAAAA,IAAY,OAAS,yBAA2B,wBAAyB,SAE1H,OAALQ,QAAK,IAALA,GAAAA,EAAO+T,UAAgB,OAAL/T,QAAK,IAALA,OAAK,EAALA,EAAOuT,UAAe,OAALvT,QAAK,IAALA,GAAc,QAAT,EAALA,EAAO+T,eAAO,WAAT,EAAL,EAAgBR,QAAQ,+BAEvD,gBAAK3V,UAAW,sBAAuBC,MAAO,CAACgQ,SAAU,OAAQ+G,UAAW,cAAc,SAAO,OAAL5U,QAAK,IAALA,GAAc,QAAT,EAALA,EAAO+T,eAAO,WAAT,EAAL,EAAgBzQ,aAIhH,gCAE2B,UAAlB,OAALtD,QAAK,IAALA,OAAK,EAALA,EAAO6U,gBAA0B,gBAAKjX,UAAW,sBAAuBC,MAAO,CAACgQ,SAAU,OAAQ+G,UAAW,cAAc,SAAO,OAAL5U,QAAK,IAALA,OAAK,EAALA,EAAOsD,UAG7G,WAAlB,OAALtD,QAAK,IAALA,OAAK,EAALA,EAAO6U,gBAA2B,SAAC,KAAI,CAACjT,GAAI,WAAgB,OAAL5B,QAAK,IAALA,OAAK,EAALA,EAAOuT,OAAM,UAChE,gBAAKjN,IAAK,GAAIV,IAAU,OAAL5F,QAAK,IAALA,OAAK,EAALA,EAAOsD,QAAS1F,UAAW,sBAAuBC,MAAO,CAACgQ,SAAU,OAAQ9H,OAAQ,OAAQ+O,YAAa,GAAK,EAAG5O,aAAc,OAI/H,UAAlB,OAALlG,QAAK,IAALA,OAAK,EAALA,EAAO6U,gBAA0B,cAAGhX,MAAO,CAAC+T,eAAgB,QAASmD,IAAI,aAAc7T,OAAQ,SAAUpB,KAAW,OAALE,QAAK,IAALA,OAAK,EAALA,EAAOsD,QAAQ,UAC1H,gBAAKzF,MAAO,CAAC+W,UAAW,YAAarR,MAAO,OAAQ7B,UAAW,OAAQkQ,eAAgB,aAAa,SAAO,OAAL5R,QAAK,IAALA,OAAK,EAALA,EAAOgV,cAI1F,WAAlB,OAALhV,QAAK,IAALA,OAAK,EAALA,EAAO6U,gBAA2B,kBAAOjP,IAAU,OAAL5F,QAAK,IAALA,OAAK,EAALA,EAAOsD,QAAS2R,UAAU,IAGjD,UAAlB,OAALjV,QAAK,IAALA,OAAK,EAALA,EAAO6U,gBAA0B,SAAC,MAAU,CAAChL,KAAM,IAAKtG,MAAO,YAGxC,mBAAlB,OAALvD,QAAK,IAALA,OAAK,EAALA,EAAO6U,gBAAmC,SAACK,IAAuB,UAAKlV,QAM3F,EAEMkV,GAAyB,SAAClV,GAC5B,IAAMmV,GAAUC,EAAAA,EAAAA,UAChB,GAA+BjV,EAAAA,EAAAA,UAAc,OAALH,QAAK,IAALA,OAAK,EAALA,EAAOqV,aAAY,eAApD1P,EAAQ,KAAE2P,EAAW,KAqB5B,OApBA9Q,EAAAA,EAAAA,YAAU,WACN8Q,GAAY,kBAAU,OAALtV,QAAK,IAALA,OAAK,EAALA,EAAOqV,WAAW,GACvC,GAAG,CAAM,OAALrV,QAAK,IAALA,OAAK,EAALA,EAAOqV,eAEX7Q,EAAAA,EAAAA,YAAU,WAAM,IAAD,EAEX,GAAe,IAAZmB,IAAsB,OAAL3F,QAAK,IAALA,GAAa,QAAR,EAALA,EAAOmU,cAAM,WAAR,EAAL,EAAezU,OAAQF,EAAAA,EAAAA,IAAY,OAAQ,CAC3D,IAAMgS,EAAS+D,YAAW,WACtBJ,EAASK,QAAQlF,MACrB,GAAG,KACGmF,EAAUF,YAAW,WACvBD,GAAY,kBAAK,CAAC,GACtB,GAAG,KACH,OAAO,WACHI,aAAalE,GACbkE,aAAaD,EACjB,CACJ,CAEJ,GAAG,KAEC,iCACI,gBAAKlU,QAAS,kBAAK4T,EAASK,QAAQlF,MAAM,EAAE1S,UAAW,qBAAsBC,MAAO,CAACgQ,SAAU,OAAQ+G,UAAW,aAAc5O,WAAY,UAAWC,QAAS,EAAGC,aAAc,EAAGvE,OAAQ,WAAW,SAAO,OAAL3B,QAAK,IAALA,OAAK,EAALA,EAAO2V,eAChN,kBAAO9K,IAAKsK,EAAUF,UAAU,EAAOrP,IAAU,OAAL5F,QAAK,IAALA,OAAK,EAALA,EAAOsD,YAG/D,E,YChLA,GAfqB,SAACtD,GACpB,OACE,iBAAKpC,UAAW,oBAAqBC,MAAO,CAACI,QAAS,OAAQE,WAAY,SAAUsI,IAAK,GAAK3I,SAAU,WAAY6K,OAAQ,OAAQ3K,KAAM,EAAGI,OAAQ,GAAI6H,QAAS,EAAGD,WAAY,QAAQ,WACrL,2BAAMhG,EAAM4V,WAAU,2BACxB,gBAAKhY,UAAU,cAAa,UAC1B,iBAAKA,UAAU,UAAS,WACpB,gBAAKA,UAAU,WACf,gBAAKA,UAAU,WACf,gBAAKA,UAAU,iBAK3B,ECZMiY,GAAY,yCAAE,WAAO1B,EAAQ2B,EAAc9M,EAAK1F,EAAS6M,EAAQ0E,EAAcG,EAAWW,GAAW,+FACtF5W,EAAAA,EAAAA,IAAM,CACnBC,IAAKC,EAAAA,GAAY,gBACjBC,OAAQ,OACRC,KAAM,CACFgV,OAAAA,EAAQ2B,aAAAA,EAAc9M,IAAAA,EAAK1F,QAAAA,EAAS6M,OAAAA,EAAQ0E,aAAAA,EAAcG,UAAAA,EAAWW,YAAAA,GAEzE3O,QAAS,CACL,cAAiB,UAAWxH,EAAAA,EAAAA,IAAY,kBAE9C,OATO,OAAHJ,EAAI,EAAD,cAUWA,EAAID,KAAI,OAAhB,OAANE,EAAO,EAAD,uBACJA,GAAM,2CAEjB,gBAdiB,oDAgBlB,MChBM0W,GAA2B,yCAAG,WAAO7O,GAAc,+FACpCnI,EAAAA,EAAAA,IAAM,CACnBC,IAAKC,EAAAA,GAAY,uCAAwCO,EAAAA,EAAAA,IAAY,OACrEL,KAAM,CACF+H,eAAAA,GAEJhI,OAAQ,OACR8H,QAAS,CACL,cAAiB,UAAWxH,EAAAA,EAAAA,IAAY,kBAE9C,OATO,OAAHJ,EAAI,EAAD,cAUWA,EAAID,KAAI,OAAhB,OAANE,EAAO,EAAD,uBACLA,GAAM,2CAChB,gBAbgC,sCAejC,M,YCfM2W,GAAU,yCAAE,WAAO7W,GAAI,+FACRJ,EAAAA,EAAAA,IAAM,CACnBC,IAAKC,EAAAA,GAAY,kCACjBC,OAAQ,OACR8H,QAAS,CACL,cAAiB,UAAWxH,EAAAA,EAAAA,IAAY,eACxC,eAAgB,uBAEpBL,KAAMA,IACR,OARO,OAAHC,EAAI,EAAD,cASWA,EAAID,KAAI,OAAhB,OAANE,EAAO,EAAD,uBACLA,GAAM,2CAChB,gBAZe,sCAchB,MCWA,GArBkB,SAACW,GAEjB,IAAMiW,EAAe,yCAAG,WAAOC,GAAI,gFAEH,OADxBC,EAAU,IAAIC,UACXC,OAAO,QAASH,GAAK,SACTF,GAAWG,GAAS,gBAAlCG,EAAK,EAALA,MACO7Q,SAASC,cAAc,SAC/BE,IAAM0Q,EACP,OAALtW,QAAK,IAALA,GAAAA,EAAOuW,iBAAiBD,GAAM,2CAC/B,gBAPoB,sCAQrB,OACE,gBAAKzY,MAAO,CAACC,SAAU,YAAY,UACjC,SAAC,KAAa,CACZ0Y,oBAAqB,SAACN,GAAI,OAAKD,EAAgBC,EAAK,EACpDO,iBAAuB,OAALzW,QAAK,IAALA,OAAK,EAALA,EAAOyW,iBACzBC,QAAS,kBAIjB,ECVMC,GAAa,SAAC3W,GAClB,IAAMyW,GAAmBG,EAAAA,GAAAA,KAClBhS,GAAcW,EAAAA,EAAAA,YAAWd,GAAzBG,YACAzF,GAAQoG,EAAAA,EAAAA,YAAWuH,IAAnB3N,KACA+H,GAAkB0I,EAAAA,EAAAA,MAAlB1I,eAED2P,EAAS,yCAAE,WAAO5V,GAAC,4FACC+I,GAAkB/I,EAAEC,OAAO2H,MAAM,IAAG,OAAtDiO,EAAW,EAAD,KAChBlS,EAAY+B,KAAK,sBAAuB,CAACrD,QAASwT,EAAY3G,OAAQjJ,EAAgBiN,OAAQhV,EAAM0V,aAAc,QAAS7L,KAAK+N,EAAAA,GAAAA,KAAMlD,UAAW,IAAImD,OACrJnB,GAAarW,EAAAA,EAAAA,IAAY,OAAQ0H,GAAgB6P,EAAAA,GAAAA,KAAMD,EAAY5P,EAAgB,SACnF6O,GAA4B7O,GAAe,2CAC5C,gBALc,sCAOT+P,EAAQ,yCAAE,WAAOhW,GAAC,4FACE+I,GAAkB/I,EAAEC,OAAO2H,MAAM,IAAG,OAAtDiO,EAAW,EAAD,KAChBlS,EAAY+B,KAAK,sBAAuB,CAACrD,QAASwT,EAAY3G,OAAQjJ,EAAgBiN,OAAQhV,EAAM0V,aAAc,OAAQ7L,KAAK+N,EAAAA,GAAAA,KAAK/B,UAAW/T,EAAEC,OAAO2H,MAAM,GAAGiC,KAAM+I,UAAW,IAAImD,OACtLnB,GAAarW,EAAAA,EAAAA,IAAY,OAAQ0H,GAAgB6P,EAAAA,GAAAA,KAAMD,EAAY5P,EAAgB,OAAQjG,EAAEC,OAAO2H,MAAM,GAAGiC,MAC7GiL,GAA4B7O,GAAe,2CAC5C,gBALa,sCAORqP,EAAgB,yCAAE,WAAMvX,GAAG,sEAC/B4F,EAAY+B,KAAK,sBAAuB,CAACrD,QAAStE,EAAKmR,OAAQjJ,EAAgBiN,OAAQhV,EAAM0V,aAAc,QAAS7L,KAAK+N,EAAAA,GAAAA,KAAMlD,UAAW,IAAImD,OAC9InB,GAAarW,EAAAA,EAAAA,IAAY,OAAQ0H,GAAgB6P,EAAAA,GAAAA,KAAM/X,EAAKkI,EAAgB,QAAS,IAAI,2CAE1F,gBAJqB,sCAKtB,OACE,iBAAKtJ,UAAW,qBAAsBC,MAAO,CAACI,QAAS,OAAQC,eAAgB,SAAUC,WAAY,SAAUsI,IAAK,GAAIyQ,aAAc,IAAI,WACtI,iBAAK9N,MAAO,qBAAYvL,MAAO,CAACQ,MAAO,GAAI0H,OAAQ,GAAIG,aAAc,MAAOC,OAAQ,oBAAqBlI,QAAS,OAAQC,eAAgB,SAAUC,WAAY,SAAUL,SAAU,YAAY,WAC9L,SAAC,MAAW,CAACyF,MAAO,UACpB,kBAAOvC,SAAU6V,EAAW/V,KAAK,OAAOlD,UAAW,qBAAsBC,MAAO,CAACQ,MAAO,OAAQ0H,OAAQ,OAAQsD,QAAS,EAAGvL,SAAU,WAAYC,IAAK,EAAGC,KAAM,EAAG2D,OAAQ,iBAE7K,iBAAKyH,MAAO,iBAAavL,MAAO,CAACQ,MAAO,GAAI0H,OAAQ,GAAIG,aAAc,MAAOC,OAAQ,oBAAqBlI,QAAS,OAAQC,eAAgB,SAAUC,WAAY,SAAUL,SAAU,YAAY,WAC/L,SAAC,MAAa,CAACyF,MAAO,UACtB,kBAAOvC,SAAUiW,EAAUnW,KAAK,OAAOlD,UAAW,qBAAsBC,MAAO,CAACQ,MAAO,OAAQ0H,OAAQ,OAAQsD,QAAS,EAAGvL,SAAU,WAAYC,IAAK,EAAGC,KAAM,EAAG2D,OAAQ,iBAE5K,iBAAKyH,MAAO,iBAAavL,MAAO,CAACQ,MAAO,GAAI0H,OAAQ,GAAIG,aAAc,MAAOC,OAAQ,oBAAqBlI,QAAS,OAAQC,eAAgB,SAAUC,WAAY,SAAUL,SAAU,YAAY,WAC/L,SAAC,OAAe,CAACyF,MAAO,OAAQ1F,MAAO,CAACQ,MAAO,GAAI0H,OAAQ,OAC3D,mBAAQxE,QAASkV,EAAiBU,eAAgBrW,KAAK,OAAOlD,UAAW,qBAAsBC,MAAO,CAACQ,MAAO,OAAQ0H,OAAQ,OAAQsD,QAAS,EAAGvL,SAAU,WAAYC,IAAK,EAAGC,KAAM,EAAG2D,OAAQ,cAEjM,SAAC,GAAS,CAAC4U,iBAAkBA,EAAkBE,iBAAkBA,SAI3E,EAEA,IAAe9T,EAAAA,EAAAA,MAAKgU,ICxDdS,GAAa,SAACpX,GAClB,IAAO4E,GAAcW,EAAAA,EAAAA,YAAWd,GAAzBG,YACAzF,GAAQoG,EAAAA,EAAAA,YAAWuH,IAAnB3N,KACA+H,GAAkB0I,EAAAA,EAAAA,MAAlB1I,eAWP,OACE,gBAAKtJ,UAAW,mBAAoBC,MAAO,CAACwZ,KAAM,QAASpZ,QAAS,OAAQC,eAAe,UAAWC,WAAY,UAAU,UAC1H,kBAAOmZ,QAAS,SAACrW,GACH,UAATA,EAAE+H,KACA/H,EAAEC,OAAOC,MAAMgC,OAAOC,OAAS,IAC3B,OAALpD,QAAK,IAALA,GAAAA,EAAOuX,cAGb,EAAGvW,SAlBE,SAACC,GAAM,IAAD,IACbjB,EAAMwX,eAAevW,EAAEC,OAAOC,OACA,KAAb,QAAd,EAAAF,EAAEC,OAAOC,aAAK,aAAd,EAAgBiC,QACjBwB,EAAY+B,KAAK,wBAAyB,CAACwJ,OAAQjJ,EAAgB/H,KAAAA,EAAMsY,QAAQ,KAE7D,QAAd,EAAAxW,EAAEC,OAAOC,aAAK,aAAd,EAAgBiC,SAAU,GAChCwB,EAAY+B,KAAK,yBAA0B,CAACwJ,OAAQjJ,EAAgB/H,KAAAA,EAAMsY,QAAQ,GAGtF,EASoBtW,MAAOnB,EAAM0X,YAAa5W,KAAK,OAAOjD,MAAO,CAACQ,MAAO,OAAQ0H,OAAQ,GAAI8I,aAAc,UAAW1I,OAAQ,oBAAqBD,aAAc,GAAID,QAAS,IAAKlF,YAAa,gCAGlM,EAEA,IAAe4B,EAAAA,EAAAA,MAAKyU,I,YC7BdO,GAAa,yCAAE,WAAOC,GAAI,+FACX7Y,EAAAA,EAAAA,IAAM,CACnBC,IAAKC,EAAAA,GAAY,wCACjBC,OAAQ,OACRC,KAAM,CACFyY,KAAAA,GAEJ5Q,QAAS,CACL,cAAiB,UAAWxH,EAAAA,EAAAA,IAAY,kBAE9C,OATO,OAAHJ,EAAI,EAAD,cAUWA,EAAID,KAAI,OAAhB,OAANE,EAAO,EAAD,uBACC,OAANA,QAAM,IAANA,OAAM,EAANA,EAAQiX,OAAK,2CACvB,gBAbkB,sCAenB,MCJMuB,GAAa,SAAC7X,GAAW,IAAD,EACrB4E,GAAcW,EAAAA,EAAAA,YAAWd,GAAzBG,YACAzF,GAAQoG,EAAAA,EAAAA,YAAWuH,IAAnB3N,KACA+H,GAAkB0I,EAAAA,EAAAA,MAAlB1I,eACDqQ,EAAa,WACjB3S,EAAY+B,KAAK,sBAAuB,CAACrD,QAAStD,EAAM0X,YAAavH,OAAQjJ,EAAgBiN,OAAQhV,EAAM0V,aAAc,OAAQ7L,KAAK+N,EAAAA,GAAAA,KAAMlD,UAAW,IAAImD,OAC3JpS,EAAY+B,KAAK,yBAA0B,CAACwJ,OAAQjJ,EAAgB/H,KAAAA,EAAMsY,QAAQ,IAClF5B,GAAarW,EAAAA,EAAAA,IAAY,OAAQ0H,GAAgB6P,EAAAA,GAAAA,KAAM/W,EAAM0X,YAAaxQ,EAAgB,QAC1F6O,GAA4B7O,GAC5BlH,EAAMwX,gBAAe,iBAAK,EAAE,IACvB,OAALxX,QAAK,IAALA,GAAAA,EAAO8X,gBACT,EACMC,EAAsB,yCAAE,+FACpB,OAAL/X,QAAK,IAALA,OAAK,EAALA,EAAO0X,YAAYtU,QAAS,GAAC,iCACLuU,GAAmB,OAAL3X,QAAK,IAALA,OAAK,EAALA,EAAO0X,aAAY,OAApDM,EAAY,EAAD,KACjBpT,EAAY+B,KAAK,sBAAuB,CAACrD,QAAS0U,EAAa7H,OAAQjJ,EAAgBiN,OAAQhV,EAAM0V,aAAc,gBAAiB7L,KAAK+N,EAAAA,GAAAA,KAAMlD,UAAW,IAAImD,KAAQrB,YAAkB,OAAL3V,QAAK,IAALA,OAAK,EAALA,EAAO0X,YAAarC,YAAa,IACpNzQ,EAAY+B,KAAK,yBAA0B,CAACwJ,OAAQjJ,EAAgB/H,KAAMA,EAAMsY,QAAQ,IACxF5B,GAAarW,EAAAA,EAAAA,IAAY,OAAQ0H,GAAgB6P,EAAAA,GAAAA,KAAMiB,EAAa9Q,EAAgB,gBAAiB,GAAS,OAALlH,QAAK,IAALA,OAAK,EAALA,EAAO0X,aAChH3B,GAA4B7O,GACvB,OAALlH,QAAK,IAALA,GAAAA,EAAOwX,gBAAe,iBAAK,EAAE,IACxB,OAALxX,QAAK,IAALA,GAAAA,EAAO8X,iBAAgB,4CAE5B,kBAV6B,mCAW5B,OACE,iCACE,SAAC,IAAU,kBAAK9X,GAAK,IAAEuX,YAAaA,MAElB,KAAZ,OAAJpY,QAAI,IAAJA,OAAI,EAAJA,EAAMmP,UACN,gBAAKlF,MAAO,kBAAmBxL,UAAW,2BAA6BC,MAAO,CAACI,QAAS,OAAQC,eAAgB,SAAUC,WAAY,SAAUsI,IAAK,GAAIwR,YAAa,IAAI,UACxK,SAAC/U,EAAA,EAAM,CAAC3B,QAAS,WACfwW,IACK,OAAL/X,QAAK,IAALA,GAAAA,EAAOkY,eACT,EAAGzW,QAAS,UAAU,UACpB,SAAC,OAAgB,SAIvB,gBAAK7D,UAAW,2BAA6BC,MAAO,CAACI,QAAS,OAAQC,eAAgB,SAAUC,WAAY,SAAUsI,IAAK,GAAIwR,YAAa,IAAI,UAC9I,SAAC/U,EAAA,EAAM,CAAC3B,QAAS,WACfgW,IACK,OAALvX,QAAK,IAALA,GAAAA,EAAOkY,eACT,EAAGpF,YAAe,OAAL9S,QAAK,IAALA,GAAkB,QAAb,EAALA,EAAO0X,mBAAW,WAAb,EAAL,EAAoBtU,QAAS,GAAmB3B,QAAS,UAAU,0BAKxF,EAEA,IAAekB,EAAAA,EAAAA,MAAKkV,ICdlB,IAzCoBlV,EAAAA,EAAAA,OAAK,SAAC3C,GACxB,IAAOkH,GAAkB0I,EAAAA,EAAAA,MAAlB1I,eACP,GAA4B/G,EAAAA,EAAAA,WAAS,GAAM,eAApCsX,EAAM,KAAEU,EAAS,KACxB,GAAoChY,EAAAA,EAAAA,YAAU,eAAvCyV,EAAU,KAAEwC,EAAa,KACxBxT,GAAgBW,EAAAA,EAAAA,YAAWd,GAA3BG,YACR,GAAyCzE,EAAAA,EAAAA,WAAS,kBAAK,CAAC,IAAC,eAAlDkY,EAAa,KAAEC,EAAgB,MACtC9T,EAAAA,EAAAA,YAAU,WACRI,EAAYO,GAAG,wCAAwC,SAAChG,GACtDgZ,EAAUhZ,EAAKA,KAAKsY,QACpBW,EAAcjZ,EAAKA,KAAKA,KAAK2C,SAC/B,GACF,GAAG,CAAC8C,IAQJ,OACE,iBACEhH,UAAW,mBACXC,MAAO,CACLQ,MAAO,OACP0H,OAAQ,GACRE,QAAS,GACTsS,UAAW,oBACXta,QAAS,OACTC,eAAgB,gBAChBC,WAAY,SACZL,SAAU,YACV,WAEF,SAAC,IAAU,UAAKkC,KAEhB,SAAC,IAAU,QAACkY,cAnBK,WACnBtT,EAAY+B,KAAK,wBAAyB,CAACwJ,OAAQjJ,EAAgBmJ,YAAY,IAAI2G,MAAOwB,eAAe,QAAS,CAAEC,SAAU,sBAChI,EAiB8CX,eAvBxB,WACpBQ,GAAiB,SAAAzQ,GAAI,OAAGvI,SAASuI,GAAQ,CAAC,IAC1CjD,EAAY+B,KAAK,mBAAoB,CAACwJ,OAAQjJ,EAAgBA,eAAAA,EAAgBmR,cAAe/Y,SAAS+Y,GAAiB,GACzH,GAoBkFrY,KAClE,IAAXyX,IAAmB,SAAC,GAAY,CAAC7B,WAAYA,MAGpD,IC3CI8C,GAAiB,yCAAE,WAAOC,GAAM,+FACjB5Z,EAAAA,EAAAA,IAAM,CACnBC,IAAK,UAAGC,EAAAA,GAAU,8BAA8B0Z,EAChDzZ,OAAQ,MACR+I,OAAQ,CACJT,OAAQhI,EAAAA,EAAAA,IAAY,QAExBwH,QAAS,CACL,cAAiB,UAAWxH,EAAAA,EAAAA,IAAY,kBAE9C,OATO,OAAHJ,EAAI,EAAD,cAUWA,EAAID,KAAI,OAAhB,OAANE,EAAO,EAAD,uBACLA,GAAM,2CAChB,gBAbsB,sCAevB,MCfMuZ,GAAkC,yCAAG,WAAOxT,EAAI2H,GAAS,6FAC1ChO,EAAAA,EAAAA,IAAM,CACnBC,IAAI,GAAD,OAAKC,EAAAA,GAAU,wCAAgCmG,GAClDlG,OAAQ,OACR8H,QAAS,CACL,cAAiB,UAAWxH,EAAAA,EAAAA,IAAY,gBAE5CL,KAAM,CACFqI,OAAQhI,EAAAA,EAAAA,IAAY,UAE1B,OATO,OAAHJ,EAAI,EAAD,cAUWA,EAAID,KAAI,OAAhB,OAAC,EAAD,uBACL4N,GAAU,SAAAlF,GAAI,OAAIA,CAAI,KAAC,2CACjC,gBAbuC,wCAexC,MCfMgR,GAAkB,yCAAG,WAAOzT,EAAIpD,GAAO,+FACxBjD,EAAAA,EAAAA,IAAM,CACnBC,IAAKC,EAAAA,GAAY,gCAAiCmG,EAClDlG,OAAQ,OACRC,KAAM,CACFqI,OAAQhI,EAAAA,EAAAA,IAAY,QAExBwH,QAAS,CACL,cAAiB,UAAWxH,EAAAA,EAAAA,IAAY,kBAE9C,OATO,OAAHJ,EAAG,gBAUWA,EAAID,KAAI,OACT,OADbE,EAAO,EAAD,KACZsI,QAAQC,IAAIvI,GAAO,kBACZ2C,EAAQ,wFAA4C,2CAC9D,gBAduB,wCAgBxB,MChBM8W,GAAsB,yCAAG,WAAO1T,EAAIpD,GAAO,+FAC5BjD,EAAAA,EAAAA,IAAM,CACnBC,IAAKC,EAAAA,GAAY,gCAAiCmG,EAClDlG,OAAQ,OACRC,KAAM,CACFqI,OAAQhI,EAAAA,EAAAA,IAAY,QAExBwH,QAAS,CACL,cAAiB,UAAWxH,EAAAA,EAAAA,IAAY,kBAE9C,OATO,OAAHJ,EAAG,gBAUWA,EAAID,KAAI,OACT,OADbE,EAAO,EAAD,KACZsI,QAAQC,IAAIvI,GAAO,kBACZ2C,EAAQ,qEAA6B,2CAC/C,gBAd2B,wCAgB5B,MC+Ea+W,IAAgBpW,EAAAA,EAAAA,OAAK,SAAC3C,GAAW,IAAD,oBAC3C,GAAwBG,EAAAA,EAAAA,WAAS,GAAM,eAAhCsS,EAAI,KAAEnK,EAAO,KACZ1D,GAAgBW,EAAAA,EAAAA,YAAWd,GAA3BG,YACA8B,GAAoBnB,EAAAA,EAAAA,YAAWyT,IAA/BtS,gBACFuS,GAASC,EAAAA,EAAAA,UAAQ,kBAAMnC,EAAAA,GAAAA,KAAKoC,WAAW,IAAK,GAAG,GAAE,IAC/Cha,GAASoG,EAAAA,EAAAA,YAAWuH,IAApB3N,KAMR,OALAqF,EAAAA,EAAAA,YAAU,WACRI,EAAYO,GAAG,wBAAwB,WACrCuB,GAAgB,kBAAM,CAAK,GAC7B,GACF,GAAG,CAAC9B,EAAa8B,KAEf,iBACE9I,UAAW,uBACXC,MAAO,CACLQ,MAAO,OACP0H,OAAQ,GACRqT,aAAc,oBACdnT,QAAS,SACThI,QAAS,OACTE,WAAY,SACZD,eAAgB,iBAChB,WAEF,iBACEN,UAAW,mBACXC,MAAO,CACLI,QAAS,OACTC,eAAgB,SAChBC,WAAY,SACZsI,IAAK,GACL9E,OAAQ,WAEVJ,QAAS,kBAAM+G,GAAQ,SAACT,GAAI,OAAMA,CAAI,GAAC,EAAC,WAExC,gBACEjC,IACE5F,EAAMqP,WACFrP,EAAMqP,YACD,OAALrP,QAAK,IAALA,GAAa,QAAR,EAALA,EAAOqH,cAAM,OAEZ,QAFY,EAAb,EAAe2K,QACb,SAAC9B,GAAI,OAAS,OAAJA,QAAI,IAAJA,OAAI,EAAJA,EAAMxQ,OAAQF,EAAAA,EAAAA,IAAY,MAAM,WAC3C,OAAK,QAAL,EAFD,EAEI,UAAE,OAAgB,QAAhB,EAFN,EAEQ4G,sBAAc,WAFjB,EAAL,EAEwBhD,QAAS,EAC5B,OAALpD,QAAK,IAALA,GAAa,QAAR,EAALA,EAAOqH,cAAM,OAEZ,QAFY,EAAb,EAAe2K,QACb,SAAC9B,GAAI,OAAS,OAAJA,QAAI,IAAJA,OAAI,EAAJA,EAAMxQ,OAAQF,EAAAA,EAAAA,IAAY,MAAM,WAC3C,OAAK,QAAL,EAFD,EAEI,UAAE,WAFD,EAAL,EAEQ4G,eACR,uFAENE,IAAI,aACJzI,MAAO,CACLQ,MAAO,GACP0H,OAAQ,GACRG,aAAc,MACdG,UAAW,QACXF,OAAQ,wBAGZ,gBACEvI,UAAW,kBACXC,MAAO,CAAE2I,WAAY,IAAK5F,SAAU,IAAK,SAExCZ,EAAMmP,MACHnP,EAAMmP,MACD,OAALnP,QAAK,IAALA,GAAa,QAAR,EAALA,EAAOqH,cAAM,OAEZ,QAFY,EAAb,EAAe2K,QACb,SAAC9B,GAAI,OAAS,OAAJA,QAAI,IAAJA,OAAI,EAAJA,EAAMxQ,OAAQF,EAAAA,EAAAA,IAAY,MAAM,WAC3C,OAAK,QAAL,EAFD,EAEI,UAAE,WAFD,EAAL,EAEQsC,YAEJ,IAAT2Q,IACC,SAAC,IAAe,QACd4G,oBAAoB,EACpB5G,KAAMA,EACNnK,QAASA,EACT1D,YAAaA,GACT5E,QAKV,iBACEpC,UAAW,kBACXC,MAAO,CACLI,QAAS,OACTC,eAAgB,SAChBC,WAAY,SACZsI,IAAK,IACL,WAGiB,KAAb,OAALzG,QAAK,IAALA,OAAK,EAALA,EAAOsZ,UACN,+BACE,gBACE/X,QAAS,WACF,OAALvB,QAAK,IAALA,GAAAA,EAAOuZ,WAAU,kBAAM,CAAK,IAC5B3U,EAAY+B,KAAK,kBAAmB,CAAEC,QAASqS,GACjD,EACA7P,MAAO,sCACPvL,MAAO,CACLI,QAAS,OACTC,eAAgB,SAChBC,WAAY,SACZE,MAAO,GACP0H,OAAQ,GACRC,WAAY,UACZE,aAAc,MACdvE,OAAQ,WACR,UAEF,SAAC,OAAS,CAAC9D,MAAO,CAAEQ,MAAO,GAAI0H,OAAQ,WAK1B,KAAb,OAAL/F,QAAK,IAALA,OAAK,EAALA,EAAOsZ,UACN,iCACE,gBACE/X,QAAS,WAAO,IAAD,MACR,OAALvB,QAAK,IAALA,GAAAA,EAAOwZ,UAAS,kBAAM,CAAI,IACrB,OAALxZ,QAAK,IAALA,GAAAA,EAAOyZ,UAAS,kBAAM,CAAK,IAC3B7U,EAAY+B,KAAK,aAAc,CAC7BC,QAASqS,EACTS,aAAmB,OAAL1Z,QAAK,IAALA,GAAa,QAAR,EAALA,EAAOqH,cAAM,OAE1B,QAF0B,EAAb,EAAe2K,QAC3B,SAAC9B,GAAI,OAAS,OAAJA,QAAI,IAAJA,OAAI,EAAJA,EAAMxQ,OAAQF,EAAAA,EAAAA,IAAY,MAAM,WAC3C,OAAK,QAAL,EAFa,EAEV,UAAE,WAFa,EAAL,EAENE,IACRia,WAAY,CACVvT,eAAoB,OAAJjH,QAAI,IAAJA,OAAI,EAAJA,EAAMiH,eACtBtE,SAAc,OAAJ3C,QAAI,IAAJA,OAAI,EAAJA,EAAM2C,YAGf,OAAL9B,QAAK,IAALA,GAAAA,EAAOuZ,WAAU,kBAAM,CAAI,IACtB,OAALvZ,QAAK,IAALA,GAAAA,EAAO4Z,WAAU,kBAAMX,CAAM,GAC/B,EACA7P,MAAO,2DACPvL,MAAO,CACLI,QAAS,OACTC,eAAgB,SAChBC,WAAY,SACZE,MAAO,GACP0H,OAAQ,GACRC,WAAY,UACZE,aAAc,MACdvE,OAAQ,WACR,UAEF,SAAC,OAAM,CAAC9D,MAAO,CAAEQ,MAAO,GAAI0H,OAAQ,SAEtC,gBACExE,QAAS,WAAO,IAAD,MACR,OAALvB,QAAK,IAALA,GAAAA,EAAOwZ,UAAS,kBAAM,CAAI,IACrB,OAALxZ,QAAK,IAALA,GAAAA,EAAOyZ,UAAS,kBAAM,CAAI,IAC1B7U,EAAY+B,KAAK,aAAc,CAC7BC,QAASqS,EACTS,aAAmB,OAAL1Z,QAAK,IAALA,GAAa,QAAR,EAALA,EAAOqH,cAAM,OAE1B,QAF0B,EAAb,EAAe2K,QAC3B,SAAC9B,GAAI,OAAS,OAAJA,QAAI,IAAJA,OAAI,EAAJA,EAAMxQ,OAAQF,EAAAA,EAAAA,IAAY,MAAM,WAC3C,OAAK,QAAL,EAFa,EAEV,UAAE,WAFa,EAAL,EAENE,IACRia,WAAY,CACVvT,eAAoB,OAAJjH,QAAI,IAAJA,OAAI,EAAJA,EAAMiH,eACtBtE,SAAc,OAAJ3C,QAAI,IAAJA,OAAI,EAAJA,EAAM2C,YAGf,OAAL9B,QAAK,IAALA,GAAAA,EAAOuZ,WAAU,kBAAM,CAAI,IACtB,OAALvZ,QAAK,IAALA,GAAAA,EAAO4Z,WAAU,kBAAMX,CAAM,GAC/B,EACA7P,MAAO,2DACPvL,MAAO,CACLI,QAAS,OACTC,eAAgB,SAChBC,WAAY,SACZE,MAAO,GACP0H,OAAQ,GACRC,WAAY,UACZE,aAAc,MACdvE,OAAQ,WACR,UAEF,SAAC,MAAqB,CAAC9D,MAAO,CAAEQ,MAAO,GAAI0H,OAAQ,YAIzD,gBACExE,QAAS,kBAAW,OAALvB,QAAK,IAALA,OAAK,EAALA,EAAO6Z,WAAU,SAAChS,GAAI,OAAMA,CAAI,GAAC,EAChDuB,MAAO,oBACPvL,MAAO,CACLI,QAAS,OACTC,eAAgB,SAChBC,WAAY,SACZE,MAAO,GACP0H,OAAQ,GACRC,WAAY,UACZE,aAAc,MACdvE,OAAQ,WACR,UAEF,SAAC,MAAW,CAAC9D,MAAO,CAAEQ,MAAO,GAAI0H,OAAQ,aAKnD,IAEA,GAnQiB,SAAC/F,GAAW,IAAD,IACpB8Z,GAAY1E,EAAAA,EAAAA,UACZpN,GAAQkR,EAAAA,EAAAA,UACZ,iBAAO,CACLa,KAAM,EACNC,MAAO,EACR,GACD,IAEMpV,GAAgBW,EAAAA,EAAAA,YAAWd,GAA3BG,YACAsC,GAAmB0I,EAAAA,EAAAA,MAAnB1I,eAKR,GAAsC/G,EAAAA,EAAAA,WAAS,iBAAM,EAAE,IAAC,eAAjDuX,EAAW,KAAEF,EAAc,KAClC,GAAsCrX,EAAAA,EAAAA,WAAS,iBAAM,EAAE,IAAC,eAAjDwT,EAAW,KAAEsG,EAAc,KAWlC,OAVAzV,EAAAA,EAAAA,YAAU,WACRuD,GAA2Bb,EAAgB+S,EAAgBjS,EAC7D,GAAG,CAACd,EAAgBc,KAEpBxD,EAAAA,EAAAA,YAAU,WACRI,EAAYO,GAAG,iCAAiC,SAAChG,GAC/C8a,GAAe,SAACpS,GAAI,wBAASA,GAAI,CAAE1I,GAAO,GAE5C,GACF,GAAG,CAACyF,KAEF,gBAAKhH,UAAW,uBAAwBC,MAAO,CAAEwZ,KAAM,SAAU,UAC/D,iBACEzZ,UAAW,sBACXC,MAAO,CAAEQ,MAAO,OAAQ0H,OAAQ,OAAQmU,UAAW,SAAU,WAE7D,SAACnB,IAAa,gBACZa,UAAgB,OAAL5Z,QAAK,IAALA,OAAK,EAALA,EAAO4Z,UAClBL,UAAgB,OAALvZ,QAAK,IAALA,OAAK,EAALA,EAAOuZ,UAClBD,OAAa,OAALtZ,QAAK,IAALA,OAAK,EAALA,EAAOsZ,OACfO,UAAgB,OAAL7Z,QAAK,IAALA,OAAK,EAALA,EAAO6Z,UAClB9M,UAAgB,OAAL/M,QAAK,IAALA,OAAK,EAALA,EAAO+M,WACT,OAAL/M,QAAK,IAALA,OAAK,EAALA,EAAO8V,cAAY,IACvBqE,QAAc,OAALna,QAAK,IAALA,GAAmB,QAAd,EAALA,EAAO8V,oBAAY,WAAd,EAAL,EAAqBzG,WAC9BvE,KAAW,OAAL9K,QAAK,IAALA,GAAmB,QAAd,EAALA,EAAO8V,oBAAY,WAAd,EAAL,EAAqB3G,MAC3BsK,SAAe,OAALzZ,QAAK,IAALA,OAAK,EAALA,EAAOyZ,SACjBD,SAAe,OAALxZ,QAAK,IAALA,OAAK,EAALA,EAAOwZ,aAInB,SAAC,GAAmB,CAACM,UAAWA,EAAWnG,YAAaA,KAIxD,SAAC,GAAa,CACZmG,UAAWA,EACXpC,YAAaA,EACbF,eAAgBA,QAK1B,EA0MavE,GAAkB,SAACjT,GAAW,IAAD,4DACxC,GAAgCG,EAAAA,EAAAA,YAAU,eAAnCia,EAAQ,KAAEC,EAAW,KAC5B,GAAsCla,EAAAA,EAAAA,YAAU,eAAzCwS,EAAW,KAAE2H,EAAc,KAElC,GAA0Bna,EAAAA,EAAAA,YAAU,eAA7B4P,EAAK,KAAEmD,EAAQ,KACtB,GAA4B3N,EAAAA,EAAAA,YAAWuH,IAA/BC,GAAS,EAATA,UAAW5N,GAAI,EAAJA,MACnBqF,EAAAA,EAAAA,YAAU,WACJxE,EAAMoP,YACJ5P,EAAAA,EAAAA,IAAY,UAAgB,OAALQ,QAAK,IAALA,OAAK,EAALA,EAAOoP,WAChCkL,GAAe,GAEfA,GAAe,GAGrB,GAAG,CAAM,OAALta,QAAK,IAALA,OAAK,EAALA,EAAOoP,aACX5K,EAAAA,EAAAA,YAAU,WACJxE,EAAMN,KACR4H,GAAyBtH,EAAMN,IAAKwT,EAExC,GAAG,CAAClT,EAAMN,OACV8E,EAAAA,EAAAA,YAAU,WACyB,IAAD,SAAP,KAAhB,OAALuL,QAAK,IAALA,OAAK,EAALA,EAAOwK,aACJ,OAALva,QAAK,IAALA,GAAkB,QAAb,EAALA,EAAO4E,mBAAW,OAAlB,EAAoB+B,KAAK,sBAAuB,CAC9C6T,oBAA0B,OAALxa,QAAK,IAALA,GAAa,QAAR,EAALA,EAAOqH,cAAM,OAEjC,QAFiC,EAAb,EAAe2K,QAClC,SAAC9B,GAAI,OAAS,OAAJA,QAAI,IAAJA,OAAI,EAAJA,EAAMxQ,OAAQF,EAAAA,EAAAA,IAAY,MAAM,WAC3C,OAAK,QAAL,EAFoB,EAEjB,UAAE,WAFoB,EAAL,EAEbE,IACR+a,eAAgBjb,EAAAA,EAAAA,IAAY,SAGlC,GAAG,CAAM,OAALuQ,QAAK,IAALA,OAAK,EAALA,EAAOwK,UAAgB,OAALva,QAAK,IAALA,OAAK,EAALA,EAAOqH,OAAa,OAALrH,QAAK,IAALA,OAAK,EAALA,EAAO4E,eAC5CJ,EAAAA,EAAAA,YAAU,WAAO,IAAD,SAKN,KAHF,OAAJrF,SAAI,IAAJA,IAAa,QAAT,EAAJA,GAAMiT,eAAO,WAAT,EAAJ,EAAeW,SACR,OAAL/S,QAAK,IAALA,GAAa,QAAR,EAALA,EAAOqH,cAAM,OAAoD,QAApD,EAAb,EAAe2K,QAAO,SAAC9B,GAAI,OAAS,OAAJA,QAAI,IAAJA,OAAI,EAAJA,EAAMxQ,OAAQF,EAAAA,EAAAA,IAAY,MAAM,WAAC,OAAK,QAAL,EAAjE,EAAoE,UAAE,WAAjE,EAAL,EACIE,MAGN2a,GAAY,kBAAM,CAAI,IAEtBA,GAAY,kBAAM,CAAK,GAE3B,GAAG,CAAK,OAAJlb,SAAI,IAAJA,QAAI,EAAJA,GAAMiT,QAAc,OAALpS,QAAK,IAALA,OAAK,EAALA,EAAOqH,SAC1B,QAAsClH,EAAAA,EAAAA,WAAS,GAAM,iBAA9Cua,GAAW,MAAEC,GAAc,MAClC,IAAwCxa,EAAAA,EAAAA,UAAS,IAAG,iBAA7Cya,GAAY,MAAEC,GAAe,MACpC,IAAgD1a,EAAAA,EAAAA,YAAU,iBAAnD2a,GAAgB,MAAEC,GAAmB,MAG5C,IAA8C5a,EAAAA,EAAAA,YAAU,iBAAhC6a,IAAF,MAAoB,OAE1C,IAAwC7a,EAAAA,EAAAA,UAAa,OAAJhB,SAAI,IAAJA,QAAI,EAAJA,GAAM8b,cAAa,iBAA7DA,GAAY,MACnB,IADoC,OACI9a,EAAAA,EAAAA,aAAU,iBAA3C+a,GAAY,MAAEC,GAAe,MACpC,IAAgDhb,EAAAA,EAAAA,WAAS,GAAM,iBAAxDib,GAAgB,MAAEC,GAAmB,MAC5C,IAA2Clb,EAAAA,EAAAA,UAAS,8BAAyB,OAAJhB,SAAI,IAAJA,QAAI,EAAJA,GAAM2C,WAAS,iBAAjFwZ,GAAc,MAAEC,GAAiB,MAExC,IAAqCpb,EAAAA,EAAAA,UAAc,OAALH,QAAK,IAALA,GAAa,QAAR,EAALA,EAAOqH,cAAM,OAAoD,QAApD,EAAb,EAAe2K,QAAO,SAAC9B,GAAI,OAAS,OAAJA,QAAI,IAAJA,OAAI,EAAJA,EAAMxQ,OAAQF,EAAAA,EAAAA,IAAY,MAAM,WAAC,WAA5D,EAAL,EAAoE,IAAG,iBAA9Ggc,GAAW,MAAgB,MAWlC,OATAhX,EAAAA,EAAAA,YAAU,YACR,uBAAC,+GACsBkU,GACd,OAAL1Y,QAAK,IAALA,GAAa,QAAR,EAALA,EAAOqH,cAAM,OAAoD,QAApD,EAAb,EAAe2K,QAAO,SAAC9B,GAAI,OAAS,OAAJA,QAAI,IAAJA,OAAI,EAAJA,EAAMxQ,OAAQF,EAAAA,EAAAA,IAAY,MAAM,WAAC,OAAK,QAAL,EAAjE,EAAoE,UAAE,WAAjE,EAAL,EACIE,KACJ,KAAD,EAHW,OAANL,EAAM,yBAIL8b,GAAgB9b,IAAO,0CALhC,EAOF,GAAG,CAAM,OAALW,QAAK,IAALA,OAAK,EAALA,EAAOqH,UAET,gBACEzJ,UAAW,uBACXC,MAAO,CACLQ,MAAO,OACP0H,OAAQ,OACRjI,SAAU,QACVC,IAAK,EACLC,KAAM,EACNgI,WAAY,oBACZ5H,OAAQ,GACRH,QAAS,OACTC,eAAgB,SAChBC,WAAY,UACZ,UAEF,SAAC,UAAmB,CAACyP,eAAgB,kBAAM5N,EAAMsI,SAAQ,kBAAM,CAAK,GAAC,EAAC,UACpE,gBAAKzK,MAAO,CAACgT,SAAU,SAAU3K,aAAc,IAAI,UAAC,gBAClDtI,UAAW,sBACXC,MAAO,CACLoI,QAAS,GACTD,WAAY,OACZE,aAAc,EACd7H,MAAO,QACPwP,SAAU,IACVqM,UAAW,OACXrJ,SAAU,QAEZtP,QAAS,SAACN,GACRA,EAAE4R,iBACJ,EAAE,UAGF,iBAAKhV,MAAO,CAAEQ,MAAO,OAAQ0H,OAAQ,QAAS,WAC5C,iBACEnI,UAAW,iBACXC,MAAO,CACLQ,MAAO,OACP0H,OAAQ,GACR9H,QAAS,OACTC,eAAgB,gBAChBC,WAAY,UACZ,WAEF,gBACEP,UAAW,oBACXC,MAAO,CAAE2I,WAAY,IAAK5F,SAAU,IAAK,SAExCZ,EAAMmP,MACHnP,EAAMmP,MACD,OAALnP,QAAK,IAALA,GAAa,QAAR,EAALA,EAAOqH,cAAM,OAEZ,QAFY,EAAb,EAAe2K,QACb,SAAC9B,GAAI,OAAS,OAAJA,QAAI,IAAJA,OAAI,EAAJA,EAAMxQ,OAAQF,EAAAA,EAAAA,IAAY,MAAM,WAC3C,OAAK,QAAL,EAFD,EAEI,UAAE,WAFD,EAAL,EAEQsC,YAEd,gBACEP,QAAS,SAACN,GACRA,EAAE4R,kBACG,OAAL7S,QAAK,IAALA,GAAAA,EAAOsI,SAAQ,kBAAM,CAAK,GAC5B,EACAzK,MAAO,CACLI,QAAS,OACTC,eAAgB,SAChBC,WAAY,SACZwD,OAAQ,UACRsE,QAAS,IACT,UAEF,SAAC,MAAO,UAGZ,SAAC,GAAU,CAAC8D,WAAiB,OAAL/J,QAAK,IAALA,OAAK,EAALA,EAAO+J,cAC/B,SAAC,GAAM,CACLvB,OACExI,EAAMqP,WACFrP,EAAMqP,WACD,OAALrP,QAAK,IAALA,GAAa,QAAR,EAALA,EAAOqH,cAAM,OAEZ,QAFY,EAAb,EAAe2K,QACb,SAAC9B,GAAI,OAAS,OAAJA,QAAI,IAAJA,OAAI,EAAJA,EAAMxQ,OAAQF,EAAAA,EAAAA,IAAY,MAAM,WAC3C,OAAK,QAAL,EAFD,EAEI,UAAE,WAFD,EAAL,EAEQ4G,kBAGhB,SAAC0H,GAAW,CACVhM,SACE9B,EAAMmP,MACFnP,EAAMmP,MACD,OAALnP,QAAK,IAALA,GAAa,QAAR,EAALA,EAAOqH,cAAM,OAEZ,QAFY,EAAb,EAAe2K,QACb,SAAC9B,GAAI,OAAS,OAAJA,QAAI,IAAJA,OAAI,EAAJA,EAAMxQ,OAAQF,EAAAA,EAAAA,IAAY,MAAM,WAC3C,OAAK,QAAL,EAFD,EAEI,UAAE,WAFD,EAAL,EAEQsC,YAIT,OAAL9B,QAAK,IAALA,GAAa,QAAR,EAALA,EAAOqH,cAAM,WAAR,EAAL,EAAejE,SAAU,IAAK,+BAEN,IAApBgY,KACA,SAACrN,GAAW,CAACtO,KAAM,CAAC+N,OAAmB,OAAXgO,SAAW,IAAXA,QAAW,EAAXA,GAAahO,OAAQ3O,YAAwB,OAAX2c,SAAW,IAAXA,QAAW,EAAXA,GAAa3c,YAAa6O,QAAoB,OAAX8N,SAAW,IAAXA,QAAW,EAAXA,GAAa9N,cAIpH,iBACE7P,MAAO,CACLQ,MAAO,OACPJ,QAAS,OACTC,eAAgB,SAChBC,WAAY,SACZsI,IAAK,IACL,WAGY,IAAb2T,KACO,OAALpa,QAAK,IAALA,GAAAA,EAAOmP,SAKF,KAJF,OAAJhQ,SAAI,IAAJA,IAAa,QAAT,EAAJA,GAAMiT,eAAO,WAAT,EAAJ,EAAeW,SACR,OAAL/S,QAAK,IAALA,GAAa,QAAR,EAALA,EAAOqH,cAAM,OAEZ,QAFY,EAAb,EAAe2K,QACb,SAAC9B,GAAI,OAAS,OAAJA,QAAI,IAAJA,OAAI,EAAJA,EAAMxQ,OAAQF,EAAAA,EAAAA,IAAY,MAAM,WAC3C,OAAK,QAAL,EAFD,EAEI,UAAE,WAFD,EAAL,EAEQE,QAER,SAACwD,EAAA,EAAM,CACL3B,QAAS,WAAO,IAAD,MACbgO,GACO,OAALvP,QAAK,IAALA,GAAa,QAAR,EAALA,EAAOqH,cAAM,OAEZ,QAFY,EAAb,EAAe2K,QACb,SAAC9B,GAAI,OAAS,OAAJA,QAAI,IAAJA,OAAI,EAAJA,EAAMxQ,OAAQF,EAAAA,EAAAA,IAAY,MAAM,WAC3C,OAAK,QAAL,EAFD,EAEI,UAAE,WAFD,EAAL,EAEQE,IACRwT,GAEFtT,OAAOC,SAASwT,QAClB,EACA5R,QAAQ,UAAS,0CAMhB,OAALzB,QAAK,IAALA,GAAAA,EAAOmP,SAKD,KAJF,OAAJhQ,SAAI,IAAJA,IAAa,QAAT,EAAJA,GAAMiT,eAAO,WAAT,EAAJ,EAAeW,SACR,OAAL/S,QAAK,IAALA,GAAa,QAAR,EAALA,EAAOqH,cAAM,OAEZ,QAFY,EAAb,EAAe2K,QACb,SAAC9B,GAAI,OAAS,OAAJA,QAAI,IAAJA,OAAI,EAAJA,EAAMxQ,OAAQF,EAAAA,EAAAA,IAAY,MAAM,WAC3C,OAAK,QAAL,EAFD,EAEI,UAAE,WAFD,EAAL,EAEQE,QAER,iCAMQ,KAJO,OAAZub,SAAY,IAAZA,QAAY,EAAZA,GAAclI,SACR,OAAL/S,QAAK,IAALA,GAAa,QAAR,EAALA,EAAOqH,cAAM,OAEZ,QAFY,EAAb,EAAe2K,QACb,SAAC9B,GAAI,OAAS,OAAJA,QAAI,IAAJA,OAAI,EAAJA,EAAMxQ,OAAQF,EAAAA,EAAAA,IAAY,MAAM,WAC3C,OAAK,QAAL,EAFD,EAEI,UAAE,WAFD,EAAL,EAEQE,QAER,iCACE,SAACwD,EAAA,EAAM,CACL4P,UAA+B,KAAhB,OAAL/C,QAAK,IAALA,OAAK,EAALA,EAAOwK,WACjBhZ,QAAS,4BACPsX,GACO,OAAL7Y,QAAK,IAALA,GAAa,QAAR,EAALA,EAAOqH,cAAM,OAEZ,QAFY,EAAb,EAAe2K,QACb,SAAC9B,GAAI,OAAS,OAAJA,QAAI,IAAJA,OAAI,EAAJA,EAAMxQ,OAAQF,EAAAA,EAAAA,IAAY,MAAM,WAC3C,OAAK,QAAL,EAFD,EAEI,UAAE,WAFD,EAAL,EAEQE,IACRwT,EACD,EAEHzR,QAAS,UAAU,UAElB,yDAEH,SAACyB,EAAA,EAAM,CACL4P,UAA+B,KAAhB,OAAL/C,QAAK,IAALA,OAAK,EAALA,EAAOwK,WACjBhZ,QAAS,4BACPuX,GACO,OAAL9Y,QAAK,IAALA,GAAa,QAAR,EAALA,EAAOqH,cAAM,OAEZ,QAFY,EAAb,EAAe2K,QACb,SAAC9B,GAAI,OAAS,OAAJA,QAAI,IAAJA,OAAI,EAAJA,EAAMxQ,OAAQF,EAAAA,EAAAA,IAAY,MAAM,WAC3C,OAAK,QAAL,EAFD,EAEI,UAAE,WAFD,EAAL,EAEQE,IACRwT,EACD,EAEHzR,QAAS,YAAY,UAEpB,0DAIoB,KAAd,OAAZyZ,SAAY,IAAZA,QAAY,EAAZA,GAAcO,WACe,KAAhB,OAAZP,SAAY,IAAZA,QAAY,EAAZA,GAAcX,aACZ,SAACrX,EAAA,EAAM,CACL4P,UAA+B,KAAhB,OAAL/C,QAAK,IAALA,OAAK,EAALA,EAAOwK,WACjBhZ,QAAS,WAAO,IAAD,MACb8Z,IAAoB,kBAAK,CAAK,IAC9BF,GAAgB,CACdM,SAAS,EACTlB,WAAW,IAEb3B,GACO,OAAL5Y,QAAK,IAALA,GAAa,QAAR,EAALA,EAAOqH,cAAM,OAEZ,QAFY,EAAb,EAAe2K,QACb,SAAC9B,GAAI,OAAS,OAAJA,QAAI,IAAJA,OAAI,EAAJA,EAAMxQ,OAAQF,EAAAA,EAAAA,IAAY,MAAM,WAC3C,OAAK,QAAL,EAFD,EAEI,UAAE,WAFD,EAAL,EAEQE,IACRqN,GAEJ,EACAtL,QAAS,YAAY,UAEpB,gEAUD,KAJO,OAAZwZ,SAAY,IAAZA,QAAY,EAAZA,GAAclI,SACR,OAAL/S,QAAK,IAALA,GAAa,QAAR,EAALA,EAAOqH,cAAM,OAEZ,QAFY,EAAb,EAAe2K,QACb,SAAC9B,GAAI,OAAS,OAAJA,QAAI,IAAJA,OAAI,EAAJA,EAAMxQ,OAAQF,EAAAA,EAAAA,IAAY,MAAM,WAC3C,OAAK,QAAL,EAFD,EAEI,UAAE,WAFD,EAAL,EAEQE,QAEkB,KAAd,OAAZwb,SAAY,IAAZA,QAAY,EAAZA,GAAcO,WACZ,iCAGwB,IAApBL,KAA6B,SAAClY,EAAA,EAAM,CACpC4P,UAA+B,KAAhB,OAAL/C,QAAK,IAALA,OAAK,EAALA,EAAOwK,WACjBhZ,QAAS,WACP8Z,IAAoB,kBAAK,CAAI,GAC/B,EACA5Z,QAAS,UAAU,UAElB,4DAImB,IAApB2Z,KAA4B,+BAC1B,iBAAKvd,MAAO,CAACQ,MAAO,QAAQ,WAC5B,gBAAKR,MAAO,CAACQ,MAAO,OAAQsC,aAAc,IAAI,UAC5C,qBAAU+a,WAAS,EAACva,MAAOma,GAAgBta,SAAU,SAACC,GAAC,OAAIsa,GAAkBta,EAAEC,OAAOC,MAAM,EAAEtD,MAAO,CAACQ,MAAO,OAAQuC,SAAU,GAAIqF,QAAS,GAAI0V,OAAQ,OAAQxV,OAAQ,oBAAqB0I,aAAc,UAAWqL,UAAW,IAAKrJ,SAAU,QAAS+K,KAAM,EAAGC,KAAM,OAI1Q,iBAAKje,UAAW,gBAAiBC,MAAO,CAAC4I,IAAK,IAAI,WAClD,SAACvD,EAAA,EAAM,CACT4P,UAA+B,KAAhB,OAAL/C,QAAK,IAALA,OAAK,EAALA,EAAOwK,WACjBhZ,QAAS,WAAO,IAAD,MACb4Z,GAAgB,CACdM,SAAS,EACTlB,WAAW,IAEbzS,GACO,OAAL9H,QAAK,IAALA,GAAa,QAAR,EAALA,EAAOqH,cAAM,OAEZ,QAFY,EAAb,EAAe2K,QACb,SAAC9B,GAAI,OAAS,OAAJA,QAAI,IAAJA,OAAI,EAAJA,EAAMxQ,OAAQF,EAAAA,EAAAA,IAAY,MAAM,WAC3C,OAAK,QAAL,EAFD,EAEI,UAAE,WAFD,EAAL,EAEQE,IACRwT,EAEJ,EACAzR,QAAS,UAAU,UAElB,uDAEH,SAACyB,EAAA,EAAM,CACL4P,UAA+B,KAAhB,OAAL/C,QAAK,IAALA,OAAK,EAALA,EAAOwK,WACjBhZ,QAAS,WACP8Z,IAAoB,kBAAK,CAAK,GAChC,EACA5Z,QAAS,YAAY,UAEpB,+DAaX,OAALzB,QAAK,IAALA,OAAK,EAALA,EAAOmP,SACN,iCACE,gBACEtR,MAAO,CACLQ,MAAO,OACPJ,QAAS,OACTC,eAAgB,SAChBC,WAAY,UACZ,UAEF,SAAC+E,EAAA,EAAM,CACLK,MAAO,UACPhC,QAAS,SAACN,GACRA,EAAE4R,kBACF8H,IAAe,kBAAM,CAAI,GAC3B,EAAE,yCAKN,mBACiB,IAAhBD,KACC,iBACE7c,MAAO,CACLQ,MAAO,OACPJ,QAAS,OACTC,eAAgB,SAChBC,WAAY,SACZ0I,cAAe,SACfJ,IAAK,IACL,WAEF,kBACEtF,MAAOyZ,GACP5Z,SAAU,SAACC,GAAC,OAAK4Z,GAAgB5Z,EAAEC,OAAOC,MAAM,EAChDI,QAAS,SAACN,GAAC,OAAKA,EAAE4R,iBAAiB,EACnC/R,KAAM,OACNjD,MAAO,CACLQ,MAAO,OACP0H,OAAQ,GACRG,aAAc,GACd2I,aAAc,UACd5I,QAAS,IAEXlF,YAAa,+EAEf,mBACA,SAACmC,EAAA,EAAM,CACL3B,QAAS,SAACN,GACRA,EAAE4R,kBACF3K,GAAqB0S,GAAcG,GACrC,EACAxX,MAAO,UAAU,oBAIlBuX,KACC,UAAC,EAAAgB,SAAQ,YACP,SAAC,GAAU,CAAC/R,WAA4B,OAAhB+Q,SAAgB,IAAhBA,QAAgB,EAAhBA,GAAkB/Q,cAC1C,SAAC,GAAM,CAACvB,OAAwB,OAAhBsS,SAAgB,IAAhBA,QAAgB,EAAhBA,GAAkB1U,kBAClC,SAAC0H,GAAW,CAAChM,SAA0B,OAAhBgZ,SAAgB,IAAhBA,QAAgB,EAAhBA,GAAkBhZ,YACzC,gBACEjE,MAAO,CACLQ,MAAO,OACPJ,QAAS,OACTC,eAAgB,SAChBC,WAAY,SACZsI,IAAK,IACL,UAEF,SAACvD,EAAA,EAAM,CACL3B,QAAS,SAACN,GACRA,EAAE4R,kBACF1L,GACO,OAALnH,QAAK,IAALA,OAAK,EAALA,EAAO0H,gBACS,OAAhBoT,SAAgB,IAAhBA,QAAgB,EAAhBA,GAAkBpb,IAClBsb,GAEJ,EACAvZ,QAAQ,UAAS,yCAKrB,SAACsM,GAAW,CAACtO,KAAMqb,MACnB,mBACA,gBACEjd,MAAO,CACLQ,MAAO,OACPJ,QAAS,OACT4I,cAAe,cACf1I,WAAY,SACZsI,IAAK,IACL,UAEF,SAACvD,EAAA,EAAM,CAAC3B,QAAS,WAAO,EAAGE,QAAQ,UAAS,iCAUpD,OAALzB,QAAK,IAALA,OAAK,EAALA,EAAOmP,SACN,iBAAKtR,MAAO,CAAEQ,MAAO,QAAS,WAC5B,gBACER,MAAO,CAAE2I,WAAY,IAAK7F,aAAc,EAAGtC,MAAO,QAAS,uCAI7D,gBACER,MAAO,CAAEQ,MAAO,OAAQ6b,UAAW,IAAKrJ,SAAU,QAAS,SAErD,OAAL7Q,QAAK,IAALA,GAAa,QAAR,EAALA,EAAOqH,cAAM,OACsC,QADtC,EAAb,EACG2K,QAAO,SAAC9B,GAAI,OAAS,OAAJA,QAAI,IAAJA,OAAI,EAAJA,EAAMxQ,QAAa,OAALM,QAAK,IAALA,OAAK,EAALA,EAAOoP,UAAS,WAAC,WAD9C,EAAL,EAEGwB,KAAI,SAACV,EAAMlH,GAAG,OACd,SAAC+S,IAAU,QACTlZ,UAAgB,OAAL7C,QAAK,IAALA,OAAK,EAALA,EAAO+M,UAClBrF,gBAAsB,OAAL1H,QAAK,IAALA,OAAK,EAALA,EAAO0H,gBACxBkL,MAAOpT,EAAAA,EAAAA,IAAY,OACnB4P,UAAgB,OAALpP,QAAK,IAALA,OAAK,EAALA,EAAOoP,UAClBsD,UAAU,EACVC,YAAaA,GAETzC,IADK,OAAJA,QAAI,IAAJA,OAAI,EAAJA,EAAMxQ,MAAOsJ,EAEN,UAMlB,OAALhJ,QAAK,IAALA,OAAK,EAALA,EAAOmP,SACN,iBAAKtR,MAAO,CAAEQ,MAAO,QAAS,WAC5B,gBACER,MAAO,CAAE2I,WAAY,IAAK7F,aAAc,EAAGtC,MAAO,QAAS,uCAI7D,gBACER,MAAO,CAAEQ,MAAO,OAAQ6b,UAAW,IAAKrJ,SAAU,QAAS,SAErD,OAAL7Q,QAAK,IAALA,GAAa,QAAR,EAALA,EAAOqH,cAAM,OACsC,QADtC,EAAb,EACG2K,QAAO,SAAC9B,GAAI,OAAS,OAAJA,QAAI,IAAJA,OAAI,EAAJA,EAAMxQ,QAAa,OAALM,QAAK,IAALA,OAAK,EAALA,EAAOoP,UAAS,WAAC,WAD9C,EAAL,EAEGwB,KAAI,SAACV,EAAMlH,GAAG,OACd,SAAC+S,IAAU,QACTlZ,UAAgB,OAAL7C,QAAK,IAALA,OAAK,EAALA,EAAO+M,UAClBrF,gBAAsB,OAAL1H,QAAK,IAALA,OAAK,EAALA,EAAO0H,gBACxBkL,MAAOpT,EAAAA,EAAAA,IAAY,OACnBkT,UAAU,EACVC,YAAaA,GAETzC,IADK,OAAJA,QAAI,IAAJA,OAAI,EAAJA,EAAMxQ,MAAOsJ,EAEN,UAKlB,OAALhJ,QAAK,IAALA,OAAK,EAALA,EAAOmP,SAAyB,IAAhBwD,IACf,iCACE,mBACA,gBACE/U,UAAW,mBACXC,MAAO,CACLQ,MAAO,OACPJ,QAAS,OACTC,eAAgB,SAChBC,WAAY,UACZ,UAEF,SAAC+E,EAAA,EAAM,CACL3B,QAAS,kBAAMkG,GAAe,OAALzH,QAAK,IAALA,OAAK,EAALA,EAAO0H,gBAAiBqF,GAAU,EAC3DxJ,MAAO,UAAU,6CAYrC,EAEMwY,GAAa,SAAC/b,GAClB,OAAO,SAACqS,IAAmB,UAAKrS,GAClC,EC9yBMgR,GAAM,yCAAE,WAAOgL,EAASha,GAAO,+FAChBjD,EAAAA,EAAAA,IAAM,CACnBC,IAAI,GAAD,OAAKC,EAAAA,GAAU,qCAA6B+c,GAC/C9c,OAAQ,OACRC,KAAM,CACFqI,OAAQhI,EAAAA,EAAAA,IAAY,UAE1B,OANO,OAAHJ,EAAI,EAAD,cAOWA,EAAID,KAAI,OAAhB,OAANE,EAAO,EAAD,uBACL2C,EAAQ3C,IAAO,2CACzB,gBAVW,wCAYZ,MCQM4c,GAAgB,SAACjc,GACrB,OAAqCG,EAAAA,EAAAA,WAAS,iBAAK,EAAE,IAAC,eAA/C8Q,EAAW,KAAEiL,EAAc,KAC5BpL,EAAYG,EAAY7N,OAAS,EACvC,GAA2BjD,EAAAA,EAAAA,WAAS,GAAM,eAAnC0P,EAAM,KAAE9C,EAAS,KACxB,GAAuB5M,EAAAA,EAAAA,YAAU,eAA1BhB,EAAI,KAAE6C,EAAO,KAEpB,OACE,iBAAKpE,UAAW,sBAAuBC,MAAO,CAACQ,OAAwB,KAAZ,OAAL2B,QAAK,IAALA,OAAK,EAALA,EAAOsZ,QAAiB,EAAI,IAAKrT,QAAS,aAAaF,OAAQ,QAASoW,YAAa,qBAAqB,WAC5J,SAACC,GAAS,CAAC9C,OAAa,OAALtZ,QAAK,IAALA,OAAK,EAALA,EAAOsZ,OAAQvM,UAAWA,EAAWkE,YAAaA,EAAaiL,eAAgBA,EAAgBla,QAASA,KAE/F,IAAxBhC,EAAM8P,iBAA0B,SAAC,GAAU,KAIrB,IAAtB9P,EAAMqc,eACN,SAAC,GAAI,CAACtL,qBAAqB,EAAME,YAAaA,EAAapB,OAAQA,EAAQC,eAAgB9P,EAAM8P,eAAgBgB,YAAaA,EAAa3R,KAAMA,MAI7J,EAEMid,GAAW,SAACpc,GAEd,OACI,iBAAKpC,UAAW,qBAAsBC,MAAO,CAACQ,MAAO,OAAQJ,SAA0B,KAAZ,OAAL+B,QAAK,IAALA,OAAK,EAALA,EAAOsZ,QAAkB,OAAS,OAAQpb,eAAgB,SAAUC,WAAY,SAAUL,SAAU,WAAY6C,aAAc,GAAIsF,QAAS,UAAU,WACvN,SAACqW,IAAU,UAAKtc,KAChB,SAACuc,GAAU,KACX,SAACC,GAAc,CAACzP,UAAgB,OAAL/M,QAAK,IAALA,OAAK,EAALA,EAAO+M,cAG9C,EAEMuP,GAAY,SAACtc,GACf,OACI,iBAAKpC,UAAW,sBAAuBC,MAAO,CAACwZ,KAAM,QAAStR,OAAQ,IAAI,WACtE,kBAAOuR,QAAS,SAACrW,GAAC,OAAI+P,GAAO/P,EAAEC,OAAOC,MAAOnB,EAAMgC,QAAQ,EAAEhB,SAAU,SAAAC,GAAC,OAAGjB,EAAMkc,eAAejb,EAAEC,OAAOC,MAAM,EAAEA,MAAOnB,EAAMiR,YAAapT,MAAO,CAACQ,MAAO,OAAQ0H,OAAQ,OAAQC,WAAY,UAAW6I,aAAc,UAAW3I,aAAc,EAAGD,QAAS,aAAclF,YAAa,sBACvR,gBAAKlD,MAAO,CAACI,QAAQ,QAASC,eAAe,UAAWC,WAAY,SAAUL,SAAU,WAAYC,IAAK,MAAOC,KAAM,EAAGsD,UAAW,uBAAwBkN,WAAY,IAAI,UACxK,SAAC,MAAe,QAIhC,EACM+N,GAAY,SAACvc,GACf,OAAuBG,EAAAA,EAAAA,WAAS,kBAAK,CAAK,IAAC,eAApCsS,EAAI,KAAEnK,EAAO,KACpB,OACI,iBAAKc,MAAO,mBAAYxL,UAAW,mBAAmBC,MAAO,CAAC8D,OAAQ,UAAWtD,MAAO,GAAI0H,OAAQ,GAAI9H,QAAS,OAAQC,eAAe,SAAUC,WAAY,SAAUqQ,WAAY,IAAI,WACpL,SAAC,MAAgB,CAAC3Q,MAAO,CAACQ,MAAO,GAAI0H,OAAQ,IAAKxE,QAAS,kBAAK+G,GAAQ,kBAAK,CAAI,GAAC,KACzE,IAARmK,IAAgB,SAAC,GAAe,CAACA,KAAMA,EAAMnK,QAASA,MAGnE,EAEMkU,GAAgB,SAACxc,GACnB,OAAuBG,EAAAA,EAAAA,WAAS,kBAAK,CAAK,IAAC,eAApCsS,EAAI,KAAEnK,EAAO,KACpB,OACI,iBAAKc,MAAO,mBAAYxL,UAAW,wBAAyBC,MAAO,CAAC8D,OAAQ,UAAUtD,MAAO,GAAI0H,OAAQ,GAAI9H,QAAS,OAAQC,eAAgB,SAAUC,WAAY,SAAUqQ,WAAY,IAAI,WAC1L,SAAC,MAAqB,CAAE3Q,MAAO,CAACQ,MAAO,GAAI0H,OAAQ,IAAKxE,QAAS,kBAAK+G,GAAQ,kBAAK,CAAI,GAAC,KAC/E,IAARmK,IAAgB,SAACgK,GAAqB,CAAC1P,UAAgB,OAAL/M,QAAK,IAALA,OAAK,EAALA,EAAO+M,UAAW0F,KAAMA,EAAMnK,QAASA,MAGtG,EAEa2K,GAAiB,SAACjT,GAC3B,OAAqCG,EAAAA,EAAAA,YAAU,eAAxCtB,EAAW,KAAEyB,EAAc,KAClC,GAAuBH,EAAAA,EAAAA,UAAS,CAACuc,OAAQ,IAAG,eAArCvd,EAAI,KAAE6C,EAAO,KACpB,GAA6C7B,EAAAA,EAAAA,YAAU,eAAhDwc,EAAe,KAAEC,EAAkB,KAC1C,OACI,gBAAKhf,UAAW,uBAAwBC,MAAO,CAACQ,MAAO,OAAQ0H,OAAQ,OAAQjI,SAAU,QAASC,IAAK,EAAGC,KAAM,EAAGgI,WAAY,oBAAqB5H,OAAQ,GAAIH,QAAS,OAAQC,eAAgB,SAAUC,WAAY,UAAU,UAC7N,SAAC,UAAmB,CAACyP,eAAgB,kBAAK5N,EAAMsI,SAAS,kBAAK,CAAK,GAAE,EAAC,UAClE,gBAAK1K,UAAW,sBAAuBC,MAAO,CAACoI,QAAS,GAAID,WAAY,OAAQE,aAAc,EAAG7H,MAAO,QAASwP,SAAU,KAAK,UAC5H,iBAAKhQ,MAAO,CAACQ,MAAO,OAAQ0H,OAAQ,QAAQ,WACxC,iBAAKnI,UAAW,iBAAkBC,MAAO,CAACQ,MAAO,OAAQ0H,OAAQ,GAAI9H,QAAS,OAAQC,eAAgB,gBAAiBC,WAAY,UAAU,WACzI,kDACA,gBAAKN,MAAO,CAACI,QAAS,OAAQC,eAAgB,SAAUC,WAAY,SAAUwD,OAAQ,WAAYJ,QAAS,kBAAKvB,EAAMsI,SAAQ,kBAAK,CAAK,GAAC,EAAC,UACtI,SAAC,MAAO,UAIG,KAAX,OAAJnJ,QAAI,IAAJA,OAAI,EAAJA,EAAMud,SAAiB,iCACnB,SAAC,GAAU,CAAC3S,WAAgB,OAAJ5K,QAAI,IAAJA,OAAI,EAAJA,EAAM4K,cAC9B,SAAC,GAAM,CAACvB,OAAY,OAAJrJ,QAAI,IAAJA,OAAI,EAAJA,EAAMiH,kBACtB,SAAC0H,GAAW,CAAChM,SAAc,OAAJ3C,QAAI,IAAJA,OAAI,EAAJA,EAAM2C,YAC7B,gBAAKjE,MAAO,CAACQ,MAAO,OAAQJ,QAAS,OAAQC,eAAgB,SAAUC,WAAY,SAAUsI,IAAK,IAAI,UAE1F,OAAJtH,QAAI,IAAJA,OAAI,EAAJA,EAAMO,OAAQF,EAAAA,EAAAA,IAAY,SAC1B,SAAC0D,EAAA,EAAM,CAAC3B,QAAS,WAAM,EAAGE,QAAQ,YAAW,8BAGrD,SAACsM,GAAW,CAACtO,KAAMN,KACnB,mBACA,iBAAKtB,MAAO,CAACQ,MAAO,OAAQJ,QAAS,OAAQ4I,cAAe,cAAe1I,WAAY,SAAUsI,IAAK,IAAI,WAE9F,OAAJtH,QAAI,IAAJA,OAAI,EAAJA,EAAMO,OAAQF,EAAAA,EAAAA,IAAY,SAC1B,SAAC0D,EAAA,EAAM,CAAC3B,QAAS,kBAAKuG,GAAmC,OAAJ3I,QAAI,IAAJA,OAAI,EAAJA,EAAMO,IAAKkd,EAAmB,EAAEnb,QAAQ,UAAS,gCAG1G,SAACyB,EAAA,EAAM,CAAC3B,QAAS,kBAAKvB,EAAMsI,SAAQ,kBAAK,CAAK,GAAC,EAAE7G,QAAQ,YAAW,8BAGxC,KAAb,OAAfkb,QAAe,IAAfA,OAAe,EAAfA,EAAiBlB,WAAiD,KAAf,OAAfkB,QAAe,IAAfA,OAAe,EAAfA,EAAiBpC,aAAqB,gBAAK1c,MAAO,CAAC+C,SAAU,IAAI,SAAE,kGAG3E,KAAb,OAAf+b,QAAe,IAAfA,OAAe,EAAfA,EAAiBlB,WAAiD,KAAf,OAAfkB,QAAe,IAAfA,OAAe,EAAfA,EAAiBpC,aAAsB,gBAAK1c,MAAO,CAACgf,QAAS,IAAI,SAAE,iEAG3E,KAAb,OAAfF,QAAe,IAAfA,OAAe,EAAfA,EAAiBlB,WAAkD,KAAf,OAAfkB,QAAe,IAAfA,OAAe,EAAfA,EAAiBpC,aAAsB,gBAAK1c,MAAO,CAACif,OAAQ,IAAI,SAAE,sEAKhG,KAAX,OAAJ3d,QAAI,IAAJA,OAAI,EAAJA,EAAMud,SAAkB,+BACpB,gBAAK7e,MAAO,CAAC6D,UAAW,UAAU,yGAItB,KAAZ,OAAJvC,QAAI,IAAJA,OAAI,EAAJA,EAAMud,SAAe,iCACjB,iBAAK9e,UAAW,iBAAkBC,MAAO,CAACQ,MAAO,OAAQ0H,OAAQ,GAAI9H,QAAS,OAAQC,eAAgB,gBAAiBC,WAAY,SAAU0I,cAAe,UAAU,WAClK,gBAAKhJ,MAAO,CAAC8C,aAAc,EAAGtC,MAAO,QAAQ,iEAC7C,kBAAO8C,MAAOtC,EAAamC,SAAU,SAAAC,GAAC,OAAGX,EAAeW,EAAEC,OAAOC,MAAM,EAAEL,KAAK,OAAOjD,MAAO,CAACQ,MAAO,OAAQ0H,OAAQ,GAAIE,QAAS,GAAID,WAAY,UAAWE,aAAc,EAAG2I,aAAc,WAAY9N,YAAa,0CAExN,mBACA,iBAAKlD,MAAO,CAACQ,MAAO,OAAQJ,QAAS,OAAQ4I,cAAe,cAAe1I,WAAY,SAAUsI,IAAK,IAAI,WACtG,SAACvD,EAAA,EAAM,CAAC3B,QAAS,WAAM,IAAD,EAClB,IAAc,OAAX1C,QAAW,IAAXA,GAAmB,QAAR,EAAXA,EAAasE,cAAM,WAAR,EAAX,EAAqBC,SAAU,IAAMvE,EACpC,OAAOwE,IAAK,kBAAa,yFAAqC,SAElE6E,GAAgC,OAAXrJ,QAAW,IAAXA,OAAW,EAAXA,EAAasE,OAAQnB,EAC9C,EAAGP,QAAQ,UAAS,+BACpB,SAACyB,EAAA,EAAM,CAAC3B,QAAS,kBAAKvB,EAAMsI,SAAQ,kBAAK,CAAK,GAAC,EAAE7G,QAAQ,YAAW,oCASxG,EAEMgb,GAAuB,SAACzc,GAE1B,OAA2BG,EAAAA,EAAAA,YAAU,eAAtB0C,GAAF,KAAW,MACxB,GAAuB1C,EAAAA,EAAAA,YAAU,eAA1ByI,EAAG,KAAEmU,EAAQ,KACb5d,GAAOoG,EAAAA,EAAAA,YAAWuH,IAAlB3N,KACP,GAAyBgB,EAAAA,EAAAA,WAAS,iBAAK,EAAE,IAAC,eAAnCgP,EAAK,KAAE6N,EAAQ,KAChBC,IAAWrU,EACX3I,GAAUC,EAAAA,EAAAA,MAChB,GAAqCC,EAAAA,EAAAA,WAAS,iBAAK,EAAE,IAAC,eAA/CoS,EAAW,KAAED,EAAc,MAClC9N,EAAAA,EAAAA,YAAU,WACHrF,GACCmT,GAAe,SAAAzK,GAAI,wBAAQA,GAAI,CAAM,OAAJ1I,QAAI,IAAJA,OAAI,EAAJA,EAAMO,KAAG,GAElD,GAAG,CAACP,IACJ,IAGM+d,EAAI,yCAAE,8FACL3K,EAAYnP,QAAU,GAAC,yCACfC,IAAK,kBAAa,0GAAqD,UAAQ,YAEvF8L,EAAM/L,QAAU,GAAC,yCACTC,IAAK,kBAAa,sEAAgC,UAAQ,UAG/D,OAAHuF,QAAG,IAAHA,IAAAA,EAAKA,IAAG,iCACeoB,GAAkBpB,EAAIA,KAAI,OAAlC,OAARuU,EAAS,EAAD,eACRjO,GAAkBC,EAAOoD,EAAiB,OAAJpT,QAAI,IAAJA,OAAI,EAAJA,EAAMO,IAAKyd,EAAUta,EAAW5C,GAC3EuD,MAAK,kBAAKH,IAAK,kBAAa,oCAAuB,UAAU,IAAC,QAC/DrD,EAAMsI,SAAQ,kBAAK,CAAK,IACnB,OAALtI,QAAK,IAALA,GAAAA,EAAO+M,WAAU,kBAAK,SAAAlF,GAAI,OAAIA,CAAI,KAAC,yCAG7BqH,GAAkBC,EAAOoD,EAAiB,OAAJpT,QAAI,IAAJA,OAAI,EAAJA,EAAMO,IAAK0d,EAAAA,GAAqBva,EAAW5C,GACtFuD,MAAK,kBAAKH,IAAK,kBAAa,oCAAuB,UAAU,IAAC,QAC/DrD,EAAMsI,SAAQ,kBAAK,CAAK,IACnB,OAALtI,QAAK,IAALA,GAAAA,EAAO+M,WAAU,kBAAK,SAAAlF,GAAI,OAAIA,CAAI,KAAC,4CAE1C,kBArBS,mCAsBV,OACI,gBAAKjK,UAAW,uBAAwBC,MAAO,CAACQ,MAAO,OAAQ0H,OAAQ,OAAQjI,SAAU,QAASC,IAAK,EAAGC,KAAM,EAAGgI,WAAY,oBAAqB5H,OAAQ,GAAIH,QAAS,OAAQC,eAAgB,SAAUC,WAAY,UAAU,UAC7N,SAAC,UAAmB,CAACyP,eAAgB,kBAAK5N,EAAMsI,SAAS,kBAAK,CAAK,GAAE,EAAC,UAClE,gBAAK1K,UAAW,sBAAuBC,MAAO,CAACoI,QAAS,GAAID,WAAY,OAAQE,aAAc,EAAG7H,MAAO,QAASwP,SAAU,KAAK,UAC5H,iBAAKhQ,MAAO,CAACQ,MAAO,OAAQ0H,OAAQ,QAAQ,WACxC,iBAAKnI,UAAW,iBAAkBC,MAAO,CAACQ,MAAO,OAAQ0H,OAAQ,GAAI9H,QAAS,OAAQC,eAAgB,gBAAiBC,WAAY,UAAU,WACzI,gFACA,gBAAKN,MAAO,CAACI,QAAS,OAAQC,eAAgB,SAAUC,WAAY,SAAUwD,OAAQ,WAAYJ,QAAS,kBAAKvB,EAAMsI,SAAQ,kBAAK,CAAK,GAAC,EAAC,UACtI,SAAC,MAAO,UAGhB,iBAAK1K,UAAW,oBAAqBC,MAAO,CAACQ,MAAO,OAAQJ,QAAS,OAAQE,WAAY,SAASsI,IAAK,GAAG,WACtG,iBAAK5I,MAAO,CAACI,QAAS,OAAQC,eAAgB,SAAUC,WAAY,SAAUwD,OAAQ,UAAWtD,MAAO,GAAI0H,OAAQ,GAAIjI,SAAU,WAAYqI,OAAQ,oBAAqBD,aAAc,OAAO,WAE3K,IAAb+W,GAAoB,gBAAKrX,IAAQ,OAAHgD,QAAG,IAAHA,OAAG,EAAHA,EAAKL,QAASjC,IAAK,OAAQzI,MAAO,CAACQ,MAAO,OAAQ0H,OAAQ,OAAQM,UAAW,QAASH,aAAc,UAAa,SAAC,MAAY,KAEhK,kBAAOpF,KAAM,OAAQE,SAzC3B,SAACC,GACnB8b,EAAS,CAACnU,IAAK3H,EAAEC,OAAO2H,MAAM,GAAIN,QAASO,IAAIC,gBAAgB9H,EAAEC,OAAO2H,MAAM,IAAKG,IAAK/H,EAAEC,OAAO2H,MAAM,GAAGI,cAC9G,EAuC2EpL,MAAO,CAACQ,MAAO,OAAQ0H,OAAO,QAAShI,IAAI,EAAGC,KAAM,EAAGF,SAAU,WAAYM,OAAQ,GAAIuD,OAAQ,UAAW0H,QAAS,GAAID,MAAO,oEAEnL,gBAAKxL,UAAW,oBAAqBC,MAAO,CAACwZ,KAAM,UAAU,UACzD,kBAAOlW,MAAOgO,EAAOnO,SAAU,SAAAC,GAAC,OAAG+b,EAAS/b,EAAEC,OAAOC,MAAM,EAAEvD,UAAW,qBAAsBkD,KAAK,OAAOjD,MAAO,CAACQ,MAAO,OAAQ0H,OAAQ,GAAI8I,aAAc,WAAY9N,YAAa,mCAG5L,mBACA,iBAAKlD,MAAO,CAACQ,MAAO,QAAQ,WACxB,gBAAKR,MAAO,CAAC8C,aAAc,IAAI,8CAC/B,iBAAK9C,MAAO,CAACQ,MAAO,OAAQP,SAAU,YAAY,WAC9C,kBAAOF,UAAW,4CAA6CmD,YAAa,sEAAmCD,KAAK,OAAOjD,MAAO,CAACQ,MAAO,OAAQ4H,QAAS,YAAaF,OAAQ,GAAIG,aAAc,OAClM,SAAC,MAAe,CAACrI,MAAO,CAACQ,MAAO,GAAI0H,OAAQ,GAAIjI,SAAU,WAAYC,IAAK,MAAOC,KAAM,EAAGsD,UAAW,iCAI9G,SAAC6Q,GAAc,CAACK,WAAW,EAAMF,eAAgBA,EAAgBC,YAAaA,KAE9E,mBACA,iBAAK1U,MAAO,CAACQ,MAAO,OAAQJ,QAAS,OAAQ4I,cAAe,cAAe1I,WAAY,SAAUsI,IAAK,IAAI,WACtG,SAACvD,EAAA,EAAM,CAAC3B,QAAS2b,EAAMzb,QAAS,UAAU,+BAC1C,SAACyB,EAAA,EAAM,CAAC3B,QAAS,kBAAU,OAALvB,QAAK,IAALA,OAAK,EAALA,EAAOsI,SAAQ,kBAAK,CAAI,GAAC,EAAE7G,QAAS,YAAY,iCAOlG,EAEA,IAAekB,EAAAA,EAAAA,MAAKsZ,I,mCC5KdoB,IAAYC,EAAAA,GAAAA,cALH,CACX5J,KAAM,MACN6J,MAAO,QAILC,IAA+BC,EAAAA,GAAAA,mCAE/BC,GAAY,SAAC1d,GACjB,IAAQ2d,EAA4D3d,EAA5D2d,UAAWC,EAAiD5d,EAAjD4d,YAAarT,EAAoCvK,EAApCuK,MAAOsT,EAA6B7d,EAA7B6d,MAAOC,EAAsB9d,EAAtB8d,IAAKC,EAAiB/d,EAAjB+d,MAAOpO,EAAU3P,EAAV2P,MAC1D,GAA0BxP,EAAAA,EAAAA,UAAS,IAAG,eAA/B6d,EAAK,KAAEC,EAAQ,KACtB,GAA0B9d,EAAAA,EAAAA,WAAS,GAAM,eAAlC+d,EAAK,KAAEC,EAAQ,KAEhBC,EAASf,KAEf,EAA0BG,KAAlBa,EAAK,EAALA,MAAOC,EAAM,EAANA,OAgDf,OA9CE9Z,EAAAA,EAAAA,YAAU,WAEV,IAAI+Z,EAAI,yCAAG,WAAOX,GAAW,sEA+BxB,OA9BHQ,EAAOjZ,GAAG,iBAAgB,yCAAE,WAAO1F,EAAM+e,GAAS,4FAC1CJ,EAAOK,UAAUhf,EAAM+e,GAAW,KAAD,EAErB,UAAdA,GACFP,GAAS,SAACS,GACR,MAAM,GAAN,eAAWA,GAAS,CAAEjf,GACxB,IAEgB,UAAd+e,IACa,QAAf,EAAA/e,EAAKkf,kBAAU,OAAf,EAAiBrO,QAClB,2CACF,qDAXyB,IAa1B8N,EAAOjZ,GAAG,oBAAoB,SAAC1F,EAAMqB,GAEZ,IAAD,EAAT,UAATA,IACa,QAAf,EAAArB,EAAKkf,kBAAU,OAAf,EAAiBC,QAEN,UAAT9d,GACFmd,GAAS,SAACS,GACR,OAAOA,EAAU1M,QAAO,SAAC6M,GAAI,OAAKA,EAAKf,MAAQre,EAAKqe,GAAG,GACzD,GAEJ,IAEAM,EAAOjZ,GAAG,aAAa,SAAC1F,GACtBkI,QAAQC,IAAI,UAAWnI,GACvBwe,GAAS,SAACS,GACR,OAAOA,EAAU1M,QAAO,SAAC6M,GAAI,OAAKA,EAAKf,MAAQre,EAAKqe,GAAG,GACzD,GACF,IAAG,SAEGM,EAAOU,KAAKvU,EAAOqT,EAAaC,EAAOC,GAAK,KAAD,MAC7CQ,EAAO,CAAD,+BAAQF,EAAOW,QAAQ,CAACT,EAAO,GAAIA,EAAO,KAAK,KAAD,EACxDH,GAAS,GAAM,2CAChB,gBApCO,sCAsCJE,GAASC,GAEXC,EAAKX,EAET,GAAG,CAACA,EAAaQ,EAAQC,EAAOC,EAAQ/T,EAAOsT,EAAOC,KAGpD,iBAAKlgB,UAAU,0BAA0BC,MAAO,CAACkI,OAAQ,QAASjI,SAAU,YAAY,UACrFogB,GAASI,IAAU,SAACU,GAAM,CAAChB,MAAOA,EAAOM,OAAQA,IACjDD,GAASC,IACR,SAACW,GAAQ,CAACX,OAAQA,EAAQH,SAAUA,EAAUR,UAAWA,EAAWC,YAAaA,EAAaG,MAAOA,EAAOpO,MAAOA,MAI3H,EAEMqP,IAASrc,EAAAA,EAAAA,OAAK,SAAC3C,GACnB,IAAQge,EAAkBhe,EAAlBge,MAAOM,EAAWte,EAAXse,OAEf,OACE,gBAAK1gB,UAAW,aAAcC,MAAO,CAACQ,MAAO,QAAQ,UACnD,iBAAK+G,GAAG,SAASvH,MAAO,CAACQ,MAAO,QAAQ,WAGtC,SAAC,KAAS,WACV,iBAAKT,UAAW,wBAAyBC,MAAO,CAACQ,MAAO,MAAOyW,YAAa,IAAOhX,SAAU,WAAY6K,QAAS,GAAID,MAAO,EAAG7B,cAAe,SAAUZ,QAAS,GAAI7H,OAAQ,IAAI,WAEhL,SAAC,GAAA8gB,iBAAgB,CACfrhB,MAAO,CAAEkI,OAAQ,MAAO1H,MAAO,OAC/BT,UAAU,MACVuhB,WAAYb,EAAO,MAErB,gBAAKzgB,MAAO,CAAC6D,UAAW,SAAU6E,UAAW,EAAGC,WAAY,KAAK,2BAKlEwX,EAAM5a,OAAS,GACd4a,EAAMpN,KAAI,SAACnR,GACT,OAAIA,EAAK0f,YAEL,SAAC,GAAAD,iBAAgB,CACfrhB,MAAO,CAAEkI,OAAQ,MAAO1H,MAAO,OAC/BT,UAAU,MACVuhB,WAAY1f,EAAK0f,YACZ1f,EAAKqe,KAGF,IAChB,KAEO,OAALE,QAAK,IAALA,OAAK,EAALA,EAAO5a,SAAU,IACjB,gBAAKvF,MAAO,CAACkI,OAAQ,MAAO1H,MAAO,MAAO6H,aAAc,GAAIC,OAAQ,oBAAqBpI,IAAK,EAAGC,KAAM,SAOnH,IAEaihB,GAAW,SAACjf,GAEvB,IAAO4E,GAAeW,EAAAA,EAAAA,YAAWd,GAA1BG,YACDwZ,EAASf,KACPiB,EAA2Dte,EAA3Dse,OAAQH,EAAmDne,EAAnDme,SAAUR,EAAyC3d,EAAzC2d,UAAWC,EAA8B5d,EAA9B4d,YAAaG,EAAiB/d,EAAjB+d,MAAOpO,EAAU3P,EAAV2P,MACzD,GAAoCxP,EAAAA,EAAAA,UAAS,CAAE4d,MAAOA,EAAOpO,MAAOA,IAAU,eAAvEyP,EAAU,KAAEC,EAAa,MAEhC7a,EAAAA,EAAAA,YAAU,WACR,OAAO,YACN,uBAAC,mGACM4Z,EAAOkB,QAAQ,KAAD,EACpBlB,EAAOmB,qBAEPjB,EAAO,GAAGkB,QACVlB,EAAO,GAAGkB,QACVrB,GAAS,GACTR,GAAU,GAAO,0CAPlB,EASD,CACF,GAAG,CAACS,EAAQT,EAAWQ,EAAUG,IAEjC,IAAMmB,EAAI,yCAAG,WAAO3e,GAAI,yEACT,UAATA,EAAgB,gCACZwd,EAAO,GAAGoB,YAAYN,EAAWzP,OAAO,KAAD,EAC7C0P,GAAc,SAACM,GACb,OAAO,kBAAKA,GAAE,IAAEhQ,OAAQgQ,EAAGhQ,OAC7B,IAAG,0BACe,UAAT7O,EAAgB,iCACnBwd,EAAO,GAAGoB,YAAYN,EAAWrB,OAAO,KAAD,EAC7CsB,GAAc,SAACM,GACb,OAAO,kBAAKA,GAAE,IAAE5B,OAAQ4B,EAAG5B,OAC7B,IAAG,4CAEN,gBAZS,sCAcJ6B,GAAeC,EAAAA,EAAAA,cAAW,uBAAC,mGACzBzB,EAAOkB,QAAQ,KAAD,EACpBlB,EAAOmB,qBAEPjB,EAAO,GAAGkB,QACVlB,EAAO,GAAGkB,QACVrB,GAAS,GACTR,GAAU,GAAO,2CAChB,CAACS,EAAQT,EAAWQ,EAAUG,IAOjC,OANA9Z,EAAAA,EAAAA,YAAU,WACR5E,OAAOkgB,eAAgB,SAAS7e,GAChC2e,IACAhb,EAAY+B,KAAK,WAAY,CAACC,QAASgX,GACvC,CACF,GAAG,CAACA,EAAahZ,EAAagb,KAE5B,iBAAKhiB,UAAU,WAAU,WACvB,cAAGA,UAAWwhB,EAAWzP,MAAQ,mBAAqB,iBAAkBpO,QAAS,kBAAMke,EAAK,QAAQ,EAAC,SAClGL,EAAWzP,OAAQ,SAAC,MAAa,CAAC9R,MAAO,CAAC8C,aAAc,OAAU,SAAC,MAAiB,CAAC9C,MAAO,CAAC8C,aAAc,SAE9G,cAAG/C,UAAWwhB,EAAWrB,MAAQ,yBAA2B,uBAAwBxc,QAAS,kBAAMke,EAAK,QAAQ,EAAC,SAC9GL,EAAWrB,OAAQ,SAAC,MAAiB,CAAClgB,MAAO,CAAC8C,aAAc,OAAU,SAAC,MAAoB,CAAC9C,MAAO,CAAC8C,aAAc,SAEpH,cAAG/C,UAAW,WAAYC,MAAO,CAACqI,aAAc,IAAK3E,QAAS,WAC7Dqe,IACAhb,EAAY+B,KAAK,WAAY,CAACC,QAASgX,GACzC,EAAE,UACA,SAAC,OAAS,QAIlB,EAEA,GA/O2B,SAAC5d,GACxB,IAAO4d,EAA6B5d,EAA7B4d,YAAajO,EAAgB3P,EAAhB2P,MAAOoO,EAAS/d,EAAT+d,MACrBxT,EAAQ,mCACd,GAAqBpK,EAAAA,EAAAA,UAAS,IAAG,eAA1B2d,EAAG,KAAEiC,EAAM,KACZC,EAAiB,mCACvB,GAAyB7f,EAAAA,EAAAA,UAAS,IAAG,eAA9B0d,EAAK,KAAEoC,EAAQ,KACtB,GAA4B9f,EAAAA,EAAAA,WAAS,GAAK,eAAnC+f,EAAM,KAAEvC,EAAS,KAmCxB,OAlCAnZ,EAAAA,EAAAA,YAAU,YACR,uBAAC,yHAEyBzF,EAAAA,EAAAA,IAAM,CACtBC,IAAKC,EAAAA,GAAY,uBACjBC,OAAQ,MACR8H,QAAS,CACP,cAAiB,UAAWxH,EAAAA,EAAAA,IAAY,gBAG1CyI,OAAQ,CACNsC,MAAAA,EAAOyV,eAAAA,EAAgBG,QAAS3gB,EAAAA,EAAAA,IAAY,UAE9C,OAVQ,OAAJ4gB,EAAK,EAAD,cAWWA,EAAKjhB,KAAI,OACX,OADbkhB,EAAQ,EAAD,KACbN,EAAOM,EAAQvC,KAAI,WACF/e,EAAAA,EAAAA,IAAM,CACnBC,IAAKC,EAAAA,GAAY,sBACjBC,OAAQ,MACR8H,QAAS,CACL,cAAiB,UAAWxH,EAAAA,EAAAA,IAAY,gBAE5CyI,OAAQ,CACNsC,MAAAA,EAAOqT,YAAAA,EAAaoC,eAAAA,EAAgBlC,IAAKuC,EAAQvC,OAErD,QATO,OAAH1e,EAAI,EAAD,eAUWA,EAAID,KAAI,QAAhB,OAANE,EAAO,EAAD,uBACL4gB,EAAS5gB,IAAO,2DAEhBsI,QAAQC,IAAI,KAAMtE,UAAQ,yDA5BzC,EAgCJ,GAAG,CAACsa,KAEA,gBAAKhgB,UAAU,uBAAuBC,MAAO,CAACQ,MAAO,OAAQwP,SAAU,IAAMsO,YAAa,qBAAqB,SAC3G+D,IACE,SAACxC,GAAS,CAACC,UAAWA,EAAWC,YAAaA,EAAarT,MAAOA,EAAOsT,MAAOA,EAAOC,IAAKA,EAAKC,MAAOA,EAAOpO,MAAOA,KAKlI,ECAM2Q,GAAc,WAAO,IAAD,QACxB,GAAwBngB,EAAAA,EAAAA,UAAS,IAAG,eAA7BhB,EAAI,KAAE6C,EAAO,KACZkF,GAAmB0I,EAAAA,EAAAA,MAAnB1I,eAMR,OAJA1C,EAAAA,EAAAA,YAAU,WACRsC,EAAuBI,EAAgBlF,EACzC,GAAG,CAACkF,KAGF,iBACEtJ,UAAW,mBACXC,MAAO,CAAEQ,MAAO,IAAK0H,OAAQ,QAASwa,WAAY,qBAAsB,WAExE,gBACE3iB,UAAW,mBACXC,MAAO,CACLQ,MAAO,OACP0H,OAAQ,GACRqT,aAAc,oBACdnb,QAAS,OACTC,eAAgB,SAChBC,WAAY,SACZyC,SAAU,IACV,oCAQJ,iBAAK/C,MAAO,CAAEkI,OAAQ,qBAAsB8K,SAAU,QAAS,WAC7D,gBAAKhT,MAAO,CAAEoI,QAAS,EAAGrF,SAAU,GAAI4F,WAAY,KAAM,uBAC1D,gBACE3I,MAAO,CACLQ,MAAO,OACPJ,QAAS,OACTE,WAAY,SACZqiB,SAAU,QACV,SAEG,OAAJrhB,QAAI,IAAJA,GAAW,QAAP,EAAJA,EAAMshB,aAAK,OACwC,QADxC,EAAX,EACGzO,QAAO,SAAC9B,GAAI,MAA4B,WAAnB,OAAJA,QAAI,IAAJA,OAAI,EAAJA,EAAM2E,aAAwB,WAAC,WAD/C,EAAJ,EAEGjE,KAAI,SAACV,EAAMlH,GAAG,OACd,gBAAKnL,MAAO,CAAEQ,MAAO,iBAAkB4H,QAAS,GAAI,UAClD,SAAC,KAAI,CAACrE,GAAI,WAAgB,OAAJsO,QAAI,IAAJA,OAAI,EAAJA,EAAMlH,KAAI,UAC9B,gBACEpD,IAAKsK,EAAK5M,QACVzF,MAAO,CAAEQ,MAAO,OAAQyW,YAAa,GACrCxO,IAAI,QALgD0C,EAQpD,OAGZ,gBAAKnL,MAAO,CAAEoI,QAAS,EAAGrF,SAAU,GAAI4F,WAAY,KAAM,kBACrD,OAAJrH,QAAI,IAAJA,GAAW,QAAP,EAAJA,EAAMshB,aAAK,OACuC,QADvC,EAAX,EACGzO,QAAO,SAAC9B,GAAI,MAA4B,UAAnB,OAAJA,QAAI,IAAJA,OAAI,EAAJA,EAAM2E,aAAuB,WAAC,WAD9C,EAAJ,EAEGjE,KAAI,SAACV,EAAMlH,GAAG,OACd,gBAEEnL,MAAO,CACLQ,MAAO,aACP4H,QAAS,EACTF,OAAQ,GACRjI,SAAU,YACV,UAEF,cACEoD,OAAQ,SACRrD,MAAO,CAAEQ,MAAO,OAAQ0H,OAAQ,QAChCjG,KAAMoQ,EAAK5M,QACXyR,IAAI,aAAY,UAEhB,gBACElX,MAAO,CACLC,SAAU,WACVC,IAAK,EACLC,KAAM,EACNK,MAAO,OACP0H,OAAQ,OACRI,OAAQ,oBACRjI,eAAgB,aAChB+H,QAAS,GAEXrI,UAAW,gBAAgB,SAE1BsS,EAAK8E,eA3BLhM,EA8BD,SAKlB,EAEA,GAtJiB,WACf,IAAQ9B,GAAmB0I,EAAAA,EAAAA,MAAnB1I,eACR,GAAwC/G,EAAAA,EAAAA,YAAU,eAA3C2V,EAAY,KAAE4K,EAAe,KACpC,GAA4BvgB,EAAAA,EAAAA,WAAS,GAAM,eAApC0P,EAAM,KAAE9C,EAAS,KACxB,GAA4B5M,EAAAA,EAAAA,WAAS,GAAM,eAApCwgB,EAAM,KAAE9G,EAAS,KACxB,GAA4B1Z,EAAAA,EAAAA,WAAS,GAAM,eAApCmZ,EAAM,KAAEC,EAAS,KACxB,GAA4BpZ,EAAAA,EAAAA,UAAS,IAAG,eAAjC8Y,EAAM,KAAEW,EAAS,KACxB,GAA0BzZ,EAAAA,EAAAA,WAAS,GAAM,eAAlC4d,EAAK,KAAEtE,EAAQ,KACtB,GAA0BtZ,EAAAA,EAAAA,WAAS,GAAM,eAAlCwP,EAAK,KAAE6J,EAAQ,KACd5U,GAAgBW,EAAAA,EAAAA,YAAWd,GAA3BG,YAuBR,OAtBAJ,EAAAA,EAAAA,YAAU,WACRI,EAAY+B,KAAK,yBAA0B,CAAEwJ,OAAQjJ,GACvD,GAAG,CAACtC,EAAasC,KACjB1C,EAAAA,EAAAA,YAAU,WACRyC,EAA6BC,EAAgBwZ,EAC/C,GAAG,CAACxZ,EAAgB2I,KACpBrL,EAAAA,EAAAA,YAAU,WACRI,EAAYO,GAAG,uBAAuB,SAAChG,GACrCoa,GAAU,kBAAM,CAAK,GACvB,GACF,GAAG,CAAC3U,KACJJ,EAAAA,EAAAA,YAAU,WACRI,EAAYO,GAAG,sBAAsB,SAAChG,GACpCya,EAAc,OAAJza,QAAI,IAAJA,OAAI,EAAJA,EAAMyH,SAChB2S,GAAU,kBAAM,CAAI,GACtB,GACF,GAAG,CAAC3U,KACJJ,EAAAA,EAAAA,YAAU,WACRI,EAAYO,GAAG,sBAAsB,SAAChG,GACpCoa,GAAU,kBAAM,CAAK,GACvB,GACF,GAAG,CAAC3U,KAEF,iBAAKhH,UAAW,iBAAkBC,MAAO,CAAEI,QAAS,QAAS,WAC3D,SAAC,GAAa,CAACoe,cAAc,EAAM/C,OAAQA,KAC/B,IAAXA,IACC,SAAC,GAAkB,CAACsE,YAAa3E,EAAQ8E,MAAOA,EAAOpO,MAAOA,KAEhE,SAAC,GAAQ,CACPiK,UAAWA,EACXN,OAAQA,EACRC,UAAWA,EACXM,UAAWA,EACX9M,UAAWA,EACX+I,aAAcA,EACd2D,SAAUA,EACVD,SAAUA,KAEA,IAAXmH,IAAmB,SAACL,GAAW,MAGtC,EC5DMM,GAA2C,yCAAE,WAAO5e,GAAO,+FAC5CjD,EAAAA,EAAAA,IAAM,CACnBC,IAAI,GAAD,OAAKC,EAAAA,GAAU,kEAA0DO,EAAAA,EAAAA,IAAY,QACxFN,OAAQ,MACR8H,QAAS,CACL,cAAiB,UAAWxH,EAAAA,EAAAA,IAAY,kBAE9C,OANO,OAAHJ,EAAI,EAAD,cAOWA,EAAID,KAAI,OAAhB,OAANE,EAAO,EAAD,uBACL2C,EAAQ3C,IAAO,2CACzB,gBAVgD,sCAYjD,MCZMwhB,GAAuC,yCAAG,WAAO7e,GAAO,+FAC3CjD,EAAAA,EAAAA,IAAM,CACrBC,IAAKC,EAAAA,GAAY,iDAAkDO,EAAAA,EAAAA,IAAY,OAC/EN,OAAQ,MACR8H,QAAS,CACL,cAAiB,UAAWxH,EAAAA,EAAAA,IAAY,kBAE5C,OANO,OAAHJ,EAAI,EAAD,cAOWA,EAAID,KAAI,OAAhB,OAANE,EAAO,EAAD,uBACL2C,EAAQ3C,IAAO,2CACvB,gBAV4C,sCAY7C,MCZMyhB,GAAmB,yCAAE,WAAM1b,EAAI2b,GAAO,+FACnBhiB,EAAAA,EAAAA,IAAM,CACnBC,IAAI,GAAD,OAAKC,EAAAA,GAAU,0CAAkCmG,GACpDlG,OAAQ,OACR8H,QAAS,CACL,cAAgB,UAAD,OAAYxH,EAAAA,EAAAA,IAAY,iBAE3CL,KAAM,CACF4hB,QAAAA,KAEN,OATO,OAAH3hB,EAAI,EAAD,cAUWA,EAAID,KAAI,OAAhB,OAANE,EAAO,EAAD,uBACLA,GAAM,2CAChB,gBAboB,wCAezB,MCSM2hB,GAAsB,SAAChhB,GAAU,IAAD,MACpC,GAAuBG,EAAAA,EAAAA,WAAS,iBAAK,EAAE,IAAC,eAAjChB,EAAI,KAAE6C,EAAO,KACpB,GAA2B7B,EAAAA,EAAAA,WAAS,kBAAK,CAAK,IAAC,eAAxC0P,EAAM,KAAE9C,EAAS,KAIxB,OAHAvI,EAAAA,EAAAA,YAAU,WACRoc,GAA4C5e,EAC9C,GAAG,CAAC6N,KAEF,iBAAKjS,UAAW,sBAAuBC,MAAO,CAACoI,QAAS,oBAAoB,WAC1E,SAACgb,GAAK,CAAC7X,MAAO,wEAER,OAAJjK,QAAI,IAAJA,GAAU,QAAN,EAAJA,EAAMA,YAAI,WAAN,EAAJ,EAAYiE,SAAU,IAAK,gBAAKvF,MAAO,CAAC6D,UAAW,UAAU,8EAGzD,OAAJvC,QAAI,IAAJA,GAAU,QAAN,EAAJA,EAAMA,YAAI,WAAN,EAAJ,EAAYiE,QAAS,IAAS,OAAJjE,QAAI,IAAJA,GAAU,QAAN,EAAJA,EAAMA,YAAI,WAAN,EAAJ,EAAYyR,KAAI,SAACV,EAAMlH,GAAG,OAAI,mBAACkY,IAAQ,kBAAKhR,GAAI,IAAElH,IAAKA,EAAK+D,UAAWA,IAAa,OAItH,EAIMoU,GAAsB,SAACnhB,GAAU,IAAD,YACpC,GAAuBG,EAAAA,EAAAA,WAAS,iBAAK,EAAE,IAAC,eAAjChB,EAAI,KAAE6C,EAAO,KACpB,GAA2B7B,EAAAA,EAAAA,WAAS,kBAAK,CAAK,IAAC,eAAxC0P,EAAM,KAAE9C,EAAS,KAOxB,OANAvI,EAAAA,EAAAA,YAAU,WACRsc,GAAoBthB,EAAAA,EAAAA,IAAY,OAAQ,EAC1C,GAAG,KACHgF,EAAAA,EAAAA,YAAU,WACRqc,GAAwC7e,EAC1C,GAAG,CAAC6N,KAEF,iBAAKjS,UAAW,uBAAwBC,MAAO,CAACoI,QAAS,oBAAoB,WAC3E,SAACgb,GAAK,CAAC7X,MAAO,oDAER,OAAJjK,QAAI,IAAJA,GAAU,QAAN,EAAJA,EAAMA,YAAI,OAAc,QAAd,EAAV,EAAY8b,oBAAY,WAApB,EAAJ,EAA0B7X,SAAU,IAAK,gBAAKvF,MAAO,CAAC6D,UAAW,UAAU,8EAGvE,OAAJvC,QAAI,IAAJA,GAAU,QAAN,EAAJA,EAAMA,YAAI,OAAc,QAAd,EAAV,EAAY8b,oBAAY,WAApB,EAAJ,EAA0B7X,QAAS,IAAS,OAAJjE,QAAI,IAAJA,GAAU,QAAN,EAAJA,EAAMA,YAAI,OAAc,QAAd,EAAV,EAAY8b,oBAAY,WAApB,EAAJ,EAA0BrK,KAAI,SAACV,EAAMlH,GAAG,OAAI,mBAACoY,IAAa,kBAAKlR,GAAI,IAAElH,IAAKA,EAAK+D,UAAWA,IAAa,OAIvJ,EAEMkU,GAAO,SAACjhB,GACZ,OACE,gBAAKnC,MAAO,CAACkI,OAAQ,GAAI9H,QAAS,OAAQE,WAAY,SAAUyC,SAAU,GAAI4F,WAAY,KAAK,SAC5FxG,EAAMoJ,OAGb,EAEM8X,GAAU,SAAClhB,GACf,OACE,gBAAKpC,UAAW,wBAAyBC,MAAO,CAAEQ,MAAO,OAAQ4H,QAAS,IAAI,UAC5E,iBAAKrI,UAAW,kBAAmBC,MAAO,CAACQ,MAAO,OAAQ4H,QAAS,GAAID,WAAY,UAAW/H,QAAS,OAAQC,eAAgB,gBAAiBC,WAAY,SAAU+H,aAAc,GAAK,WACvL,iBAAKtI,UAAW,sBAAuBC,MAAO,CAACI,QAAS,OAAQC,eAAgB,SAAUC,WAAY,SAAUsI,IAAK,IAAI,WACvH,gBAAKb,KAAU,OAAL5F,QAAK,IAALA,OAAK,EAALA,EAAOoG,iBAAkB,uFAAwFE,IAAI,GAAGzI,MAAO,CAACQ,MAAO,GAAI0H,OAAQ,GAAIM,UAAW,QAASH,aAAc,UACnM,iBAAKtI,UAAW,sBAAsB,WACpC,gBAAKA,UAAW,kBAAmBC,MAAO,CAAC8C,aAAa,GAAG,SAAO,OAALX,QAAK,IAALA,OAAK,EAALA,EAAO8B,YACpE,gIAIJ,gBAAKlE,UAAW,mBAAoBC,MAAO,CAACI,QAAS,OAAQC,eAAgB,SAAUC,WAAY,UAAU,UAC3G,SAAC+E,EAAA,EAAM,CAAC3B,QAAS,kBAAKqX,GAAwC,OAAL5Y,QAAK,IAALA,OAAK,EAALA,EAAON,IAAU,OAALM,QAAK,IAALA,OAAK,EAALA,EAAO+M,UAAU,EAAExJ,MAAO,UAAW9B,QAAQ,YAAW,4CAKvI,EAEM2f,GAAe,SAACphB,GACpB,OAA6BG,EAAAA,EAAAA,UAAS,IAAG,eAAlCmD,EAAO,KAAEK,EAAU,KAE1B,OACA,gBAAK/F,UAAW,wBAAyBC,MAAO,CAAEQ,MAAO,OAAQ4H,QAAS,IAAI,UAC1E,iBAAKrI,UAAW,kBAAmBC,MAAO,CAACQ,MAAO,OAAQ4H,QAAS,GAAID,WAAY,UAAW/H,QAAS,OAAQC,eAAgB,gBAAiBC,WAAY,SAAU+H,aAAc,GAAK,WACvL,iBAAKtI,UAAW,sBAAuBC,MAAO,CAACI,QAAS,OAAQC,eAAgB,SAAUC,WAAY,SAAUsI,IAAK,IAAI,WACvH,gBAAKb,KAAU,OAAL5F,QAAK,IAALA,OAAK,EAALA,EAAOoG,iBAAkB,uFAAwFE,IAAI,GAAGzI,MAAO,CAACQ,MAAO,GAAI0H,OAAQ,GAAIM,UAAW,QAASH,aAAc,UACnM,iBAAKtI,UAAW,sBAAsB,WACpC,gBAAKA,UAAW,kBAAmBC,MAAO,CAAC8C,aAAa,GAAG,SAAO,OAALX,QAAK,IAALA,OAAK,EAALA,EAAO8B,YACpE,4BAAa,OAAPwB,QAAO,IAAPA,OAAO,EAAPA,EAASF,SAAS,GAAK,kFAAyC,OAAPE,QAAO,IAAPA,OAAO,EAAPA,EAASF,QAAQ,GAAKE,YAIzF,gBAAK1F,UAAW,mBAAoBC,MAAO,CAACI,QAAS,OAAQC,eAAgB,SAAUC,WAAY,SAAUsI,IAAK,IAAI,UAC5G,OAAPnD,QAAO,IAAPA,OAAO,EAAPA,EAASF,SAAS,IACjB,iCACE,SAACF,EAAA,EAAM,CAAC3B,QAAS,kBAAKsX,GAAwB,OAAL7Y,QAAK,IAALA,OAAK,EAALA,EAAON,IAAKiE,EAAW,EAAEJ,MAAO,UAAW9B,QAAQ,UAAS,kCACrG,SAACyB,EAAA,EAAM,CAAC3B,QAAS,kBAAKuX,GAA4B,OAAL9Y,QAAK,IAALA,OAAK,EAALA,EAAON,IAAKiE,EAAW,EAAEJ,MAAO,UAAW9B,QAAQ,YAAW,wCAOzH,EAEA,GAjHmB,SAACzB,GAClB,OACE,iBAAKpC,UAAW,qBAAsBC,MAAO,CAACI,QAAS,QAAQ,WAC7D,SAAC,GAAa,CAAC6R,gBAAgB,KAC/B,gBAAKjS,MAAO,CAACwZ,KAAM,UAAWzZ,UAAW,qBAAqB,UAC5D,UAAC,KAAM,YACL,SAAC,KAAK,CAACyjB,KAAM,IAAKC,SAAS,SAAC,KAAQ,CAACC,SAAS,EAAM3f,GAAI,8BACxD,SAAC,KAAK,CAACyf,KAAM,iBAAkBC,SAAS,SAACN,GAAoB,OAC7D,SAAC,KAAK,CAACK,KAAM,iBAAkBC,SAAS,SAACH,GAAoB,aAKvE,ECYA,GA9BmB,WACjB,OAAqB5b,EAAAA,EAAAA,YAAWuH,IAAzB0U,EAAI,EAAJA,KAAMriB,EAAI,EAAJA,KACb,OACE,gBAAKvB,UAAW,oBAAqBC,MAAO,CAACwZ,KAAM,QAAStR,OAAQ,QAASmU,UAAW,SAAS,UAC/F,UAAC,KAAM,YACL,SAAC,KAAK,CAACmH,KAAM,KAAMC,SAAS,SAAC,KAAQ,CAAC1f,GAAI,IAAK2f,SAAS,OAElD,OAAJpiB,QAAI,IAAJA,OAAI,EAAJA,EAAMsiB,sBACN,+BAEU,IAARD,IAAgB,SAAC,KAAK,CAACH,KAAM,IAAKC,SAAS,SAAC,KAAQ,CAAC1f,GAAI,UAAa,OAAJzC,QAAI,IAAJA,OAAI,EAAJA,EAAMsiB,oBAAoBF,SAAS,UAKlG,OAAJpiB,QAAI,IAAJA,GAAAA,EAAMsiB,sBACP,+BAEU,IAARD,IAAgB,SAAC,KAAK,CAACH,KAAM,IAAKC,SAAS,SAAC,KAAQ,CAAC1f,GAAI,SAAU2f,SAAS,SAIhF,SAAC,KAAK,CAACF,KAAM,wBAAyBC,SAAS,SAAC,GAAQ,OACxD,SAAC,KAAK,CAACD,KAAM,aAAcC,SAAS,SAAC,GAAU,OAC/C,SAAC,KAAK,CAACD,KAAK,IAAIC,SAAS,SAAC,EAAQ,UAI1C,E,YC5BA,GANc,WACV9hB,EAAAA,EAAAA,OAAe,OACfA,EAAAA,EAAAA,OAAe,eACfI,OAAOC,SAASwT,QACpB,ECFMqO,GAAwB,yCAAG,WAAO1f,GAAO,+FAC1BjD,EAAAA,EAAAA,IAAM,CACnBC,IAAKC,EAAAA,GAAY,oCAAqCO,EAAAA,EAAAA,IAAY,OAClEN,OAAQ,MACR8H,QAAS,CACL,cAAiB,UAAWxH,EAAAA,EAAAA,IAAY,kBAE9C,OANO,OAAHJ,EAAI,EAAD,cAOWA,EAAID,KAAI,OAAhB,OAANE,EAAO,EAAD,uBACL2C,EAAQ3C,IAAO,2CACzB,gBAV6B,sCAY9B,MC2DMsiB,GAAY,WAChB,OAAuBxhB,EAAAA,EAAAA,YAAU,eAA1BhB,EAAI,KAAE6C,EAAO,KACd/B,GAAUC,EAAAA,EAAAA,MAKhB,OAJAsE,EAAAA,EAAAA,YAAU,WACRkd,GAAyB1f,EAC3B,GAAG,KAGD,gBAAKnE,MAAO,CAACI,QAAS,OAAQC,eAAgB,SAAUC,WAAY,SAAUE,MAAO,OAAQ4H,QAAS,QAAQ,UAC5G,gBAAK1E,QAAS,kBAAKtB,EAAS,UAAc,OAAJd,QAAI,IAAJA,OAAI,EAAJA,EAAMsiB,qBAAsB,EAAG,EAAErY,MAAO,OAAQvL,MAAO,CAACI,QAAS,OAAQC,eAAgB,SAAUC,WAAY,UAAU,UAC7J,SAAC,MAAa,CAACoF,MAAO,OAAQ1F,MAAO,CAACQ,MAAO,GAAI0H,OAAQ,GAAIxC,MAAO,OAAQ5B,OAAQ,gBAI5F,EAEMigB,GAAc,SAAC5hB,GAAU,IAAD,QACtBC,GAAUC,EAAAA,EAAAA,MAChB,GAA6BC,EAAAA,EAAAA,WAAS,GAAM,eAArC0hB,EAAO,KAAEC,EAAU,KAC1B,OACE,gBAAKjkB,MAAO,CAACI,QAAS,OAAQC,eAAgB,SAAUC,WAAY,SAAUE,MAAO,OAAQ4H,QAAS,QAAQ,UAC5G,iBAAK1E,QAAS,WACZtB,EAAS,YACT6hB,GAAW,kBAAK,CAAI,IACpBhB,GAAoBthB,EAAAA,EAAAA,IAAY,OAAQ,GACnC,OAALQ,QAAK,IAALA,GAAAA,EAAO+hB,iBAAiB,GACnB,OAAL/hB,QAAK,IAALA,GAAAA,EAAOgiB,qBAAqB,GAE9B,EAAG5Y,OAAa,OAALpJ,QAAK,IAALA,GAAwB,QAAnB,EAALA,EAAOiiB,yBAAiB,WAAnB,EAAL,EAA0B7e,SAAU9D,SAAc,OAALU,QAAK,IAALA,OAAK,EAALA,EAAOkiB,gBAAkB,GAAM,EAAC,WAAY,OAALliB,QAAK,IAALA,GAAwB,QAAnB,EAALA,EAAOiiB,yBAAiB,WAAnB,EAAL,EAA0B7e,SAAU9D,SAAc,OAALU,QAAK,IAALA,OAAK,EAALA,EAAOkiB,gBAAkB,GAAE,gBAAkB,UAAWrkB,MAAO,CAACI,QAAS,OAAQC,eAAgB,SAAUC,WAAY,SAAUL,SAAU,YAAY,WACjS,SAAC,KAAa,CAACyF,MAAO,OAAQ1F,MAAO,CAACQ,MAAO,GAAI0H,OAAQ,GAAIxC,MAAO,OAAQ5B,OAAQ,cAEvE,IAAXkgB,IAAoB,8BAEfviB,SAAc,OAALU,QAAK,IAALA,GAAwB,QAAnB,EAALA,EAAOiiB,yBAAiB,WAAnB,EAAL,EAA0B7e,SAAW9D,SAAc,OAALU,QAAK,IAALA,OAAK,EAALA,EAAOkiB,gBAAkB,GAAM,IACvF,gBAAKrkB,MAAO,CAACC,SAAU,WAAYC,IAAK,OAAQ2K,MAAO,OAAQoB,gBAAiB,MAAOzL,MAAO,GAAI0H,OAAQ,GAAIG,aAAc,MAAO3C,MAAO,QAAS3F,UAAW,gBAAgB,UACvK,OAALoC,QAAK,IAALA,GAAwB,QAAnB,EAALA,EAAOiiB,yBAAiB,WAAnB,EAAL,EAA0B7e,SAAU9D,SAAc,OAALU,QAAK,IAALA,OAAK,EAALA,EAAOkiB,gBAAkB,WAQtF,EAEMC,GAAc,SAACniB,GACnB,OACE,gBAAKpC,UAAW,sBAAuBC,MAAO,CAACQ,MAAO,OAAQ0H,OAAQ,OAAQ9H,QAAS,OAAQC,eAAgB,SAAUC,WAAY,SAAUL,SAAU,QAASE,KAAM,EAAGD,IAAK,EAAGiI,WAAY,qBAAsB5H,OAAQ,IAAI,UAC/N,SAAC,UAAmB,CAACwP,eAAgB,kBAAU,OAAL5N,QAAK,IAALA,OAAK,EAALA,EAAOsI,SAAQ,kBAAK,CAAK,GAAC,EAAC,UACnE,iBAAK1K,UAAW,oBAAqBC,MAAO,CAACgQ,SAAU,IAAKxP,MAAO,QAAS2H,WAAY,OAAQC,QAAS,GAAIC,aAAc,IAAI,WAC7H,iBAAKtI,UAAW,iBAAkBC,MAAO,CAACQ,MAAO,OAAQ0H,OAAQ,GAAI9H,QAAS,OAAQC,eAAgB,gBAAiBC,WAAY,UAAU,WACzI,sDACA,gBAAKN,MAAO,CAACI,QAAS,OAAQC,eAAgB,SAAUC,WAAY,SAAUwD,OAAQ,WAAYJ,QAAS,kBAAKvB,EAAMsI,SAAQ,kBAAK,CAAK,GAAC,EAAC,UACxI,SAAC,MAAO,UAGd,gBAAK/G,QAAS,kBAAK6gB,IAAQ,EAAEvkB,MAAO,CAACQ,MAAO,OAAQJ,QAAS,OAAQC,eAAgB,SAAUC,WAAY,SAAUwC,aAAc,GAAG,UACpI,UAACuC,EAAA,EAAM,CAACtF,UAAW,sBAAuB6D,QAAQ,kBAAiB,WAAC,SAAC,OAAQ,CAAC5D,MAAO,CAAC0F,MAAO,aAAc,qCAE7G,gBAAKhC,QAAS,WAAM,EAAG1D,MAAO,CAACQ,MAAO,OAAQJ,QAAS,OAAQC,eAAgB,SAAUC,WAAY,UAAU,UAC7G,UAAC+E,EAAA,EAAM,CAAC3B,QAAS,WACf8B,IAAK,kBAAa,uEAAkC,QACtD,EAAGzF,UAAW,sBAAuB6D,QAAS,iBAAiB,WAAC,SAAC,OAAQ,CAAC5D,MAAO,CAAC0F,MAAO,UAAW,0CAOhH,EAEM8e,GAAW,WAEf,OACE,gBAAKjZ,MAAO,SAAUvL,MAAO,CAACI,QAAS,OAAQC,eAAgB,SAAUC,WAAY,SAAUE,MAAO,OAAQ4H,QAAS,QAAQ,UAC7H,gBAAK1E,QAAS,kBAAK3B,OAAOC,SAASwT,QAAQ,EAAExV,MAAO,CAACI,QAAS,OAAQC,eAAgB,SAAUC,WAAY,UAAU,UACpH,SAAC,MAAU,CAACoF,MAAO,OAAQ1F,MAAO,CAACQ,MAAO,GAAI0H,OAAQ,GAAIxC,MAAO,OAAQ5B,OAAQ,gBAIzF,EAGA,GA1IgB,WACd,OAAuBxB,EAAAA,EAAAA,WAAS,kBAAK,CAAK,IAAC,eAApCsS,EAAI,KAAEnK,EAAO,KACpB,GAAqCnI,EAAAA,EAAAA,WAAS,kBAAK,CAAK,IAAC,eAAlDmiB,EAAW,KAAEC,EAAc,KAC3BpjB,GAAQoG,EAAAA,EAAAA,YAAWuH,IAAnB3N,KACAyF,GAAeW,EAAAA,EAAAA,YAAWd,GAA1BG,YACP,GAAyCzE,EAAAA,EAAAA,UAAa,OAAJhB,QAAI,IAAJA,OAAI,EAAJA,EAAMqjB,aAAY,eAA7DN,EAAa,KAAEH,EAAgB,KACtC,GAAiD5hB,EAAAA,EAAAA,UAAS,IAAG,eAAtD8hB,EAAiB,KAAED,EAAoB,MAC9Cxd,EAAAA,EAAAA,YAAU,WAER,OADA5E,OAAO6iB,iBAAiB,eAAgBC,GACjC,WACL9iB,OAAO+iB,oBAAoB,eAAgBD,EAC7C,CACF,KAEAle,EAAAA,EAAAA,YAAU,WAEG,OAAXI,QAAW,IAAXA,GAAAA,EAAaO,GAAG,sBAAsB,SAAAhG,GACjCK,EAAAA,EAAAA,IAAY,UAAc,OAAJL,QAAI,IAAJA,OAAI,EAAJA,EAAMqb,sBAC7BwH,GAAqB,SAAAna,GAAI,OAAIuJ,KAAAA,IAAM,GAAD,eAAKvJ,GAAI,CAAM,OAAJ1I,QAAI,IAAJA,OAAI,EAAJA,EAAMsb,iBAAgB,GAEvE,GACF,GAAG,CAAC7V,IAEJ,IAAM8d,EAAoB,SAACzhB,GACzBA,EAAE2hB,iBACF9B,GAAoBthB,EAAAA,EAAAA,IAAY,OAAQF,SAAS2iB,EAAkB7e,QAAU8e,EAC/E,EACA,OACE,gBAAKtkB,UAAW,oBAAqBC,MAAO,CAACkI,OAAQ,QAAS1H,MAAO,IAAI,UACvE,iBAAKT,UAAW,mBAAoBC,MAAO,CAACQ,MAAO,OAAQ0H,OAAQ,OAAQC,WAAY,UAAWC,QAAS,SAAUhI,QAAS,OAAQC,eAAgB,gBAAiBC,WAAY,SAAU0I,cAAe,UAAU,WACpN,4BAEE,SAAC,GAAM,CAACyB,QAASA,EAASE,OAAY,OAAJrJ,QAAI,IAAJA,OAAI,EAAJA,EAAMiH,kBAE9B,IAARqM,IACA,SAAC,GAAa,CAACA,KAAMA,EAAMnK,QAASA,KAEtC,SAACqZ,GAAU,KACX,SAACC,GAAY,CAACK,kBAAmBA,EAAmBD,qBAAsBA,EAAsBE,cAAeA,EAAeH,iBAAkBA,KAChJ,SAACM,GAAS,QAEZ,iBAAKxkB,MAAO,CAACI,QAAS,OAAQC,eAAgB,SAAUC,WAAY,UAAU,WAC5E,gBAAKoD,QAAS,kBAAKghB,GAAe,kBAAK,CAAI,GAAC,EAAE1kB,MAAO,CAACI,QAAS,OAAQC,eAAgB,SAAUC,WAAY,SAAUwD,OAAQ,WAAY/D,UAAW,uBAAuB,UAC3K,SAAC,OAAU,CAACC,MAAO,CAAC0F,MAAO,OAAQlF,MAAO,GAAI0H,OAAQ,QAGtDuc,IACA,SAACH,GAAY,CAAC1P,KAAM6P,EAAaha,QAASia,WAMtD,EC9DavJ,IAAatU,EAAAA,EAAAA,iBAiD1B,GAhDa,SAAC1E,GACZ,IAAO4E,GAAcW,EAAAA,EAAAA,YAAWd,GAAzBG,YACP,GAA0BW,EAAAA,EAAAA,YAAWuH,IAA9B3N,EAAI,EAAJA,KAAM4N,EAAS,EAATA,UACb,GAAuC5M,EAAAA,EAAAA,WAAS,GAAM,eAA/C0iB,EAAY,KAAEnc,EAAe,KACpC,GAAmCvG,EAAAA,EAAAA,YAAU,eAAtCwZ,EAAU,KAAEmJ,EAAa,KAChC,GAA2B3iB,EAAAA,EAAAA,YAAU,eAA9B8Y,EAAM,KAAEW,EAAS,KA0BxB,OAzBApV,EAAAA,EAAAA,YAAU,WACG,OAAXI,QAAW,IAAXA,GAAAA,EAAa+B,KAAK,iBAAkB,CAACyH,KAAM5O,EAAAA,EAAAA,IAAY,QACzD,GAAG,CAACoF,KACJJ,EAAAA,EAAAA,YAAU,WACD,OAAJrF,QAAI,IAAJA,GAAAA,EAAMO,MACI,OAAXkF,QAAW,IAAXA,GAAAA,EAAa+B,KAAK,WAAY,CAAClH,KAAMN,IAEzC,GAAG,CAACyF,EAAazF,KACjBqF,EAAAA,EAAAA,YAAU,WACG,OAAXI,QAAW,IAAXA,GAAAA,EAAaO,GAAG,kBAAkB,SAAC4d,IACpB,OAAVA,QAAU,IAAVA,OAAU,EAAVA,EAAYrJ,iBAAoB,OAAJva,QAAI,IAAJA,OAAI,EAAJA,EAAMO,OACnCkF,EAAY+B,KAAK,mBAAoB,CAACC,QAASmc,EAAWnc,UAC1DF,GAAgB,kBAAK,CAAI,IACzBkT,GAAU,kBAAKmJ,EAAWnc,OAAO,IACjCkc,EAAcC,EAAWpJ,YAI7B,GACF,GAAG,CAAC/U,EAAiB,OAAJzF,QAAI,IAAJA,OAAI,EAAJA,EAAMO,OACvB8E,EAAAA,EAAAA,YAAU,WACG,OAAXI,QAAW,IAAXA,GAAAA,EAAaO,GAAG,0BAA0B,SAAChG,GACzC4N,GAAU,SAAAlF,GAAI,OAAIA,CAAI,GACxB,GACJ,GAAG,CAACjD,KAEA,SAACoU,GAAY1T,SAAQ,CAACnE,MAAO,CAACuF,gBAAAA,EAAiBmc,aAAAA,GAAc,UAE3D,iBAAKjlB,UAAW,mBAAoBC,MAAO,CAACQ,MAAO,QAAU,WAC3D,iBAAKT,UAAW,sBAAuBC,MAAO,CAACQ,MAAO,OAAQJ,QAAS,OAAQE,WAAY,UAAU,WACnG,SAAC,GAAO,KACR,SAAC,GAAU,QAGK,IAAhB0kB,IACA,SAAC,GAAY,kBAAKlJ,GAAU,IAAEjT,gBAAiBA,EAAiBE,QAASqS,SAKnF,EC/CA,GARkB,SAAH,GAAoB,IAAftU,EAAQ,EAARA,SAClB,OACE,SAAC,EAAe,UACXA,GAGT,ECMO,SAASqe,KAGd,OAFqBC,EAAAA,EAAAA,MAAbC,SAEQC,WAAW,SAC7B,CACO,IAAMrW,IAAYpI,EAAAA,EAAAA,iBA6DzB,GA5DY,WACV,OAAwBvE,EAAAA,EAAAA,YAAU,eAA3BhB,EAAI,KAAE6C,EAAO,KACpB,GAAwB7B,EAAAA,EAAAA,YAAU,eAA3BqhB,EAAI,KAAE4B,EAAO,KACpB,GAA2BjjB,EAAAA,EAAAA,WAAS,GAAM,eAAnC0P,EAAM,KAAE9C,EAAS,KA2BxB,OA1BAvI,EAAAA,EAAAA,YAAU,YACR,uBAAC,+FACIhF,EAAAA,EAAAA,IAAY,OAAO,CAAD,iCACDT,EAAAA,EAAAA,IAAM,CACtBC,IAAI,GAAD,OAAKC,EAAAA,GAAU,sBAAcO,EAAAA,EAAAA,IAAY,QAC5CwH,QAAS,CACPqc,cAAc,UAAD,OAAY7jB,EAAAA,EAAAA,IAAY,iBAEvCN,OAAQ,MACR+I,OAAQ,CACN7C,GAAI5F,EAAAA,EAAAA,IAAY,UAEjB,KAAD,EATO,OAAHJ,EAAG,gBAUYA,EAAID,KAAK,KAAD,EAK5B,OALKE,EAAM,OACO,MAAfD,EAAIG,OACN6jB,GAAQ,kBAAM,CAAI,IAElBA,GAAQ,kBAAM,CAAK,IACpB,kBACMphB,EAAQ3C,IAAO,QAGtB+jB,GAAQ,kBAAK,CAAK,IAAC,2CArBvB,EAwBF,GAAG,CAACvT,KAGE,SAAC,GAAS,WACR,SAAC/C,GAAWxH,SAAQ,CAACnE,MAAO,CAAChC,KAAAA,EAAMqiB,KAAAA,EAAKxf,QAAAA,EAAS+K,UAAAA,GAAW,UAC1D,UAAC,KAAM,YAEK,IAARyU,IAAgB,iCACd,SAAC,KAAK,CAACH,KAAM,KAAMC,SAAS,SAAC,GAAI,OACjC,SAAC,KAAK,CAACD,KAAM,UAAWC,SAAS,SAAC,KAAQ,CAAC1f,GAAI,SAC/C,SAAC,KAAK,CAACyf,KAAM,SAAUC,SAAS,SAAC,KAAQ,CAAC1f,GAAI,SAC9C,SAAC,KAAK,CAACyf,KAAK,IAAIC,SAAS,SAAC,EAAQ,UAI5B,IAARE,IAAiB,iCACf,SAAC,KAAK,CAACH,KAAM,KAAMC,SAAQ,SAAC,KAAQ,CAAC1f,GAAI,cACzC,SAAC,KAAK,CAACyf,KAAM,UAAWC,SAAS,SAAC,EAAM,OACxC,SAAC,KAAK,CAACD,KAAM,SAAUC,SAAS,SAAC,EAAK,OACtC,SAAC,KAAK,CAACD,KAAM,mBAAoBC,SAAS,SAAC,EAAc,OACzD,SAAC,KAAK,CAACD,KAAK,IAAIC,SAAS,SAAC,EAAQ,eASpD,C","sources":["Component/Background/Background.jsx","webpack://zalo_client_rebuild/./src/Component/Signup/Signup.module.sass?7da6","api/login.jsx","Component/Login/Login.jsx","api/signup.js","api/check_user.js","api/forgot_password.js","api/confirm_code.js","api/reset_password.js","util/validatePassword.js","Component/ForgotPassword/ForgotPassword.jsx","Component/Signup/Signup.jsx","util/validatePhone.js","util/validateEmail.js","util/validateConfirmPassword.js","SocketContainer/SocketContainer.jsx","Component/InComingCall/InComingCall.jsx","Component/NotFound/NotFound.jsx","api/coversation/get_files_conversation.js","api/coversation/get_info_detail_conversation.js","api/coversation/add_member_to_group.js","api/coversation/get_conversation_friends.js","api/coversation/out_group.js","api/friend/send_request_make_friend_by_me.js","api/message/get_message_conversationid.js","api/search_user_by_phone.js","Component/Home/Avatar.jsx","Component/Home/CoverPhoto.jsx","firebase/config.js","api/update_info_user.js","api/user/deaf_user.js","Component/Home/DetailProfile.jsx","api/coversation/delete_member_id.js","api/coversation/make_conversation.js","api/friend/get_list_friend_rebuild.js","api/friend/unfriend.js","api/coversation/get_list_conversation.js","Component/SearchAndList/List.jsx","Component/SearchAndList/ListFriend.jsx","api/message/recall_message.js","api/message/remove_message.js","Component/Chat/CenterSection/CenterSection.jsx","Component/TypingEffect/TypingEffect.jsx","api/message/post_message.js","api/coversation/update_last_conversation_id.js","api/coversation/send_voice.js","Component/Chat/BottomSection/SendVoice.jsx","Component/Chat/BottomSection/ChooseFile.jsx","Component/Chat/BottomSection/TypingText.jsx","api/message/text_to_voice.js","Component/Chat/BottomSection/SendButton.jsx","Component/Chat/BottomSection/BottomSection.jsx","api/friend/request_status.js","api/friend/cancel_request_make_friend_from_me.js","api/friend/accpet_add_friends.js","api/friend/denied_request_friends.js","Component/Chat/MainChat.jsx","api/search.js","Component/SearchAndList/SearchAndList.jsx","Component/VideoCall/VideoCall.jsx","Component/Home/ChatPage.jsx","api/friend/get-list-user-send-request-add-friend-of-me.js","api/friend/get_list_user_request_make_friend_to_me.js","api/update_seen_request.js","Component/Home/FriendPage.jsx","Component/Home/MainScreen.jsx","api/logout.js","api/coversation/get_last_conversation_id.js","Component/Home/Profile.jsx","Component/Home/Home.jsx","Component/Container/Container.jsx","App.js"],"sourcesContent":["import React from 'react'\r\n\r\nconst Background = () => {\r\n  return (\r\n    <div className={\"dmnklsasjadhsjkdans\"} style={{position: \"fixed\", top: 0, left:0, display: \"flex\", justifyContent: 'center' , alignItems: \"center\", zIndex: -1, width: \"100%\"}}>\r\n        <svg\r\n        \r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        preserveAspectRatio=\"xMinYMin slice\"\r\n        viewBox=\"0 0 1440 810\"\r\n        style={{ minHeight: \"100vh\", width: \"100%\" }}\r\n        >\r\n        <path\r\n            fill=\"#aad6ff\"\r\n            d=\"M592.66 0c-15 64.092-30.7 125.285-46.598 183.777C634.056 325.56 748.348 550.932 819.642 809.5h419.672C1184.518 593.727 1083.124 290.064 902.637 0H592.66z\"\r\n        ></path>\r\n        <path\r\n            fill=\"#e8f3ff\"\r\n            d=\"M545.962 183.777c-53.796 196.576-111.592 361.156-163.49 490.74 11.7 44.494 22.8 89.49 33.1 134.883h404.07c-71.294-258.468-185.586-483.84-273.68-625.623z\"\r\n        ></path>\r\n        <path\r\n            fill=\"#cee7ff\"\r\n            d=\"M153.89 0c74.094 180.678 161.088 417.448 228.483 674.517C449.67 506.337 527.063 279.465 592.56 0H153.89z\"\r\n        ></path>\r\n        <path\r\n            fill=\"#e8f3ff\"\r\n            d=\"M153.89 0H0v809.5h415.57C345.477 500.938 240.884 211.874 153.89 0zM1144.22 501.538c52.596-134.583 101.492-290.964 134.09-463.343 1.2-6.1 2.3-12.298 3.4-18.497 0-.2.1-.4.1-.6 1.1-6.3 2.3-12.7 3.4-19.098H902.536c105.293 169.28 183.688 343.158 241.684 501.638v-.1z\"\r\n        ></path>\r\n        <path\r\n            fill=\"#eef4f8\"\r\n            d=\"M1285.31 0a2161.05 2161.05 0 01-6.9 38.195C1321.507 86.39 1379.603 158.98 1440 257.168V0h-154.69z\"\r\n        ></path>\r\n        <path\r\n            fill=\"#e8f3ff\"\r\n            d=\"M1278.31 38.196c-32.5 171.678-81.09 327.36-133.49 461.642v3.8c41 112.286 71.59 216.573 94.29 305.962l200.59.4V256.768c-60.3-97.988-118.29-170.48-161.39-218.573v.001z\"\r\n        ></path>\r\n        </svg>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Background\r\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Signup_container__Sjshi\",\"register\":\"Signup_register__ceZg8\",\"btn\":\"Signup_btn__T6eON\",\"toLogin\":\"Signup_toLogin__xHud6\",\"error\":\"Signup_error__bIDh5\"};","import axios from \"axios\"\r\nimport Cookies from \"js-cookie\"\r\nimport {SERVER_URL } from \"../config/config\"\r\n\r\nconst login= async (phoneNumber, password)=> {\r\n    const res= await axios({\r\n        url: `${SERVER_URL}/user/login`,\r\n        method: \"post\",\r\n        data: {\r\n            phoneNumber, password\r\n        }\r\n    })\r\n    const result= await res.data\r\n    if(parseInt(res.status) === 200 && result?.login === true) {\r\n        Cookies.set(\"uid\", result.user._id)\r\n        Cookies.set(\"accessToken\", result.accessToken)\r\n        window.location.href= window.location.origin\r\n    }\r\n    return result\r\n}\r\n\r\nexport default login","import React, { useState } from \"react\";\r\nimport { AiTwotoneLock } from \"react-icons/ai\";\r\nimport { BsPhoneFill } from \"react-icons/bs\";\r\nimport { BiShowAlt, BiHide } from \"react-icons/bi\"\r\n// import { FaUserAlt } from \"react-icons/fa\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport Background from \"../Background/Background\";\r\nimport styles from \"../Signup/Signup.module.sass\";\r\nimport login from \"../../api/login\";\r\nimport { useSnackbar } from \"notistack\";\r\n\r\nconst Login = (props) => {\r\n  const navigate = useNavigate();\r\n  \r\n \r\n  const [showPassword, setShowPassword]= useState(false)\r\n  const [phoneNumber, setPhoneNumber] = useState(() => \"\");\r\n  const [password, setPassword] = useState(() => \"\");\r\n  // const [data, setData] = useState();\r\n  const {enqueueSnackbar }= useSnackbar()\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <div className={styles.register}>\r\n        {\r\n          <>\r\n            <div className={styles.register_title} style={{ marginBottom: 20, fontSize: 18 }}>\r\n              Đăng nhập tài khoản tin nhắn nhanh <br></br>để kết nối với ứng dụng tin nhắn nhanh\r\n              Chat\r\n            </div>\r\n            <form action=\"#\">\r\n              <div className={styles.register_form_input}>\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Số điện thoại hoặc email\"\r\n                  onChange={(e) => setPhoneNumber(e.target.value)}\r\n                  autoComplete={\"off\"}\r\n                ></input>\r\n                <span>\r\n                  <BsPhoneFill />\r\n                </span>\r\n              </div>\r\n              <div style={{position: \"relative\"}} className={styles.register_form_input}>\r\n                <input\r\n                  type={showPassword=== true ? \"text\" : \"password\"}\r\n                  placeholder=\"Mật khẩu\"\r\n                  required\r\n                  onChange={(e) => setPassword(e.target.value)}\r\n                  autoComplete={\"off\"}\r\n                ></input>\r\n                <span>\r\n                  {\" \"}\r\n                  <AiTwotoneLock />\r\n                </span>\r\n                <span style={{position: \"absolute\", left: \"100%\", top: \"50%\", transform: \"translate(-100%, -50%)\"}}>\r\n                  {\r\n                    showPassword=== false && <BiHide onClick={()=> setShowPassword(true)} />\r\n                  }\r\n                  {\r\n                    showPassword=== true && \r\n                    <BiShowAlt onClick={()=> setShowPassword(false)} />\r\n                  }\r\n\r\n                </span>\r\n              </div>\r\n              <button\r\n                onClick={async () => {\r\n                  const result= await login(phoneNumber, password)\r\n                  if(parseInt(result?.status) === 400 || parseInt(result?.status)=== 500) {\r\n                    enqueueSnackbar (result?.msg, {\r\n                      variant: \"error\"\r\n                    })\r\n                  }\r\n                }}\r\n                className={styles.btn} style={{fontSize: 16}}\r\n              >\r\n                Đăng nhập\r\n              </button>\r\n              <div onClick={()=> navigate(\"/forgot-password\")} style={{ width: \"100%\", textAlign: \"right\", fontSize: 14, cursor: \"pointer\"}}>Quên mật khẩu</div>\r\n              {/* {\r\n                <div style={{fontSize: 14, width: \"100%\", textAlign: \"left\", color: \"#f00 \"}}>{data?.msg}</div>\r\n              } */}\r\n              <div className={styles.toLogin}>\r\n                <Link style={{fontSize: 16}} to=\"/signup\">Đăng ký</Link>\r\n              </div>\r\n            </form>\r\n          </>\r\n        }\r\n      </div>\r\n      <Background />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import axios from \"axios\"\r\nimport {SERVER_URL } from \"../config/config\"\r\n\r\nconst signup= async (username, phoneNumber, password, email, setData)=> {\r\n    const res= await axios({\r\n        url: `${SERVER_URL}/user/register`,\r\n        method: \"post\",\r\n        data: {\r\n            username, phoneNumber, password, email\r\n        }\r\n\r\n    })\r\n    const result= await res.data\r\n    if(res.status=== 200) {\r\n        window.location.href= window.location.origin+\"/login\"\r\n    }\r\n    return setData(result)\r\n}\r\n\r\nexport default signup","import axios from \"axios\"\r\nimport { SERVER_URL } from \"../config/config\"\r\n\r\nconst check_user = async (email, phoneNumber)=> {\r\n    const res= await axios({\r\n        url: SERVER_URL+ \"/api/auth/check-user\",\r\n        method: \"post\", \r\n        data: {\r\n            email, phoneNumber: phoneNumber?.toString()\r\n        }\r\n    })\r\n    const result= await res.data\r\n    return result\r\n}\r\n\r\nexport default check_user ","import axios from \"axios\"\r\nimport { SERVER_URL } from \"../config/config\"\r\n\r\nconst forgot_password= async (email, setData, type)=> {\r\n    const res= await axios({\r\n        url: SERVER_URL+ \"/api/auth/send-sms\",\r\n        method: \"post\",\r\n        data: {\r\n            email,\r\n            type: type || false\r\n        },\r\n\r\n    })\r\n    const result= await res.data\r\n    return setData(result)\r\n}\r\n\r\nexport default forgot_password","import axios from \"axios\"\r\nimport { SERVER_URL } from \"../config/config\"\r\n\r\nconst confirm_code= async (email, code_verify, setStatus)=> {\r\n    const res= await axios({\r\n        url: SERVER_URL+ \"/api/auth/confirm_code\",\r\n        method: \"post\", \r\n        data: {\r\n            email, code_verify: code_verify?.toString()\r\n        }\r\n    })\r\n    const result= await res.data\r\n    return setStatus(result)\r\n}\r\n\r\nexport default confirm_code","import axios from \"axios\"\r\nimport { SERVER_URL } from \"../config/config\"\r\n\r\nconst reset_password= async (email, password, navigate)=> {\r\n    const res= await axios({\r\n        url: SERVER_URL+ \"/api/auth/reset-password\",\r\n        method: \"post\", \r\n        data: {\r\n            email, password: password?.toString()\r\n        }\r\n    })\r\n    const result= await res.data\r\n    return result\r\n}\r\n\r\nexport default reset_password","export default function validatePassword(password) {\r\n    // Khai báo một biến regex kiểm tra mật khẩu\r\n    const passwordRegex = /^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{6,16}$/;\r\n    \r\n    // Sử dụng method test để kiểm tra mật khẩu\r\n    if (passwordRegex.test(password)) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }","import React, { useState } from \"react\";\r\nimport { BsPhoneFill, BsCode } from \"react-icons/bs\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Background from \"../Background/Background\";\r\nimport styles from \"../Signup/Signup.module.sass\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport forgot_password from \"../../api/forgot_password\";\r\nimport \"./style.sass\";\r\nimport confirm_code from \"../../api/confirm_code\";\r\nimport { AiTwotoneLock } from \"react-icons/ai\";\r\nimport reset_password from \"../../api/reset_password\";\r\nimport swal from \"sweetalert\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport validatePassword from \"../../util/validatePassword\";\r\nimport { memo } from \"react\";\r\n\r\nconst ForgotPassword = (props) => {\r\n  // eslint-disable-next-line\r\n  const navigate = useNavigate();\r\n  const {enqueueSnackbar }= useSnackbar()\r\n\r\n  const [result, setResult] = useState();\r\n  const [confirmCode, setConfirmCode] = useState();\r\n\r\n  const [phoneNumber, setPhoneNumber] = useState(() => \"\");\r\n  const [status, setStatus] = useState();\r\n  const [password, setPassword] = useState();\r\n  // eslint-disable-next-line\r\n  const [confirmPassword, setConfirmPassword] = useState();\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <div className={styles.register}>\r\n        {\r\n          <>\r\n            <div\r\n              className={styles.register_title}\r\n              style={{ marginBottom: 20, fontSize: 24 }}\r\n            >\r\n              Quên mật khẩu <br></br>\r\n            </div>\r\n            <form action=\"#\">\r\n              {!result && (\r\n                <>\r\n                  <div className={styles.register_form_input}>\r\n                    <input\r\n                      type=\"email\"\r\n                      placeholder=\"Nhập email của bạn để khôi phục mật khẩu\"\r\n                      onChange={(e) => setPhoneNumber(e.target.value)}\r\n                      autoComplete={\"off\"}\r\n                    ></input>\r\n                    <span>\r\n                      <BsPhoneFill />\r\n                    </span>\r\n                  </div>\r\n                  <div className={\"fjkadjksjksjdasaa\"}>\r\n                    <Button\r\n                      onClick={() => {\r\n                        if(phoneNumber?.trim()?.length <= 0) {\r\n                          return swal(\"Thông báo\", \"Bạn phải điền email để tiếp tục\", \"error\")\r\n                        }\r\n                        forgot_password(phoneNumber, setResult)\r\n                      }}\r\n                    >\r\n                      Gửi\r\n                    </Button>\r\n                  </div>\r\n                </>\r\n              )}\r\n              {result && (\r\n                <div className={\"gjldajfskdjsjsa\"}>\r\n                  <div className={\"jksdjklsdjkasasas\"} style={{ fontSize: 12 }}>\r\n                    {result?.message}\r\n                  </div>\r\n                  <div className={styles.register_form_input}>\r\n                    <input\r\n                      type=\"text\"\r\n                      placeholder=\"Nhập mã xác thực để khôi phục mật khẩu\"\r\n                      onChange={(e) => setConfirmCode(e.target.value)}\r\n                      autoComplete={\"off\"}\r\n                    ></input>\r\n                    <span>\r\n                      <BsCode />\r\n                    </span>\r\n                  </div>\r\n                  <div\r\n                    className={`${styles.register_form_input} fjkadjksjksjdasaa`}\r\n                  >\r\n                    <Button\r\n                      onClick={() =>\r\n                        confirm_code(phoneNumber, confirmCode, setStatus)\r\n                      }\r\n                      color={\"primary\"}\r\n                    >\r\n                      Gửi\r\n                    </Button>\r\n                  </div>\r\n                  {status?.verify === true && (\r\n                    <>\r\n                      <div style={{fontSize: 12, textAlign: \"left\"}}>Mật khẩu phải có ít nhất 8 ký tự gồm có 1 chữ số, 1 chữ viết hoa, 1 chữ viết thường và 1 ký tự đặc biệt</div>\r\n                      <div className={styles.register_form_input}>\r\n                        <input\r\n                          type=\"password\"\r\n                          placeholder=\"Mật khẩu\"\r\n                          required\r\n                          onChange={(e) => setPassword(e.target.value)}\r\n                        ></input>\r\n                        <span>\r\n                          {\" \"}\r\n                          <AiTwotoneLock />\r\n                        </span>\r\n                      </div>\r\n                      <div className={styles.register_form_input}>\r\n                        <input\r\n                          type=\"password\"\r\n                          placeholder=\"Nhập lại mật khẩu\"\r\n                          required\r\n                          onChange={(e) => setConfirmPassword(e.target.value)}\r\n                        ></input>\r\n                        <span>\r\n                          {\" \"}\r\n                          <AiTwotoneLock />\r\n                        </span>\r\n                      </div>\r\n                      <div className={\"fjkadjksjksjdasaa\"}>\r\n                        <Button\r\n                          onClick={async () =>\r\n                            {\r\n                              if(password?.trim()?.length <= 0) {\r\n                                enqueueSnackbar(\"Không được để trống mật khẩu\", {\r\n                                  variant: \"error\"\r\n                                })\r\n                              }\r\n                              else if(password !== confirmPassword) {\r\n                                  enqueueSnackbar(\"Xác thực mật khẩu không khớp\", {\r\n                                    variant: \"error\"\r\n                                  })\r\n                                  return\r\n                              }\r\n                              else if(validatePassword(password?.trim())=== false) {\r\n                                  enqueueSnackbar(\"Mật khẩu quá yếu, mật khẩu phải có ít nhất 8 kí tự, ít nhất một chữ thường, một chữ hoa và một chữ số\", {\r\n                                    variant: \"error\"\r\n                                  })\r\n                                  return \r\n                              }\r\n                              await reset_password(phoneNumber, password, navigate)\r\n                              swal(\"Thông báo\", \"Bạn đã cập nhật mật khẩu thành công\", \"success\")\r\n                              .then(()=> navigate(\"/login\"))\r\n                            }\r\n\r\n                          }\r\n                          className={\"fjkadjksjksjdasaa\"}\r\n                          color={\"primary\"}\r\n                        >\r\n                          Cập nhật\r\n                        </Button>\r\n                      </div>\r\n                    </>\r\n                  )}\r\n                  <WrongCode status={status} />\r\n                </div>\r\n              )}\r\n            </form>\r\n          </>\r\n        }\r\n      </div>\r\n      <Background />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const WrongCode= memo(({status})=> {\r\n  const {enqueueSnackbar }= useSnackbar()\r\n\r\n  return (\r\n    <div style={{display: \"none\"}}>\r\n      {status?.verify === false && enqueueSnackbar(\"Mã xác thực không chính xác\", {\r\n        variant: \"error\"\r\n      })}\r\n    </div>\r\n  )\r\n})\r\n\r\nexport default ForgotPassword;\r\n","import { useState } from \"react\";\r\nimport styles from \"./Signup.module.sass\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { yupResolver } from \"@hookform/resolvers/yup\";\r\nimport { FaUserAlt } from \"react-icons/fa\";\r\nimport { BsPhoneFill } from \"react-icons/bs\";\r\nimport { AiTwotoneLock, AiOutlineMail } from \"react-icons/ai\";\r\n\r\nimport * as yup from \"yup\";\r\nimport Background from \"../Background/Background\";\r\nimport signup from \"../../api/signup\";\r\nimport check_user from \"../../api/check_user\";\r\nimport forgot_password from \"../../api/forgot_password\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport confirm_code from \"../../api/confirm_code\";\r\nimport { useEffect } from \"react\";\r\nimport { WrongCode } from \"../ForgotPassword/ForgotPassword\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport validatePhoneNumber from \"../../util/validatePhone\";\r\nimport validateEmail from \"../../util/validateEmail\";\r\nimport validatePassword from \"../../util/validatePassword\";\r\nimport validateConfirmPassword from \"../../util/validateConfirmPassword\";\r\nimport { BiShowAlt, BiHide } from \"react-icons/bi\"\r\n// eslint-disable-next-line\r\n\r\nconst Signup = () => {\r\n  // eslint-disable-next-line\r\n  // const navigate = useNavigate();\r\n  const { enqueueSnackbar } = useSnackbar();\r\n  const [username, setUsername] = useState(() => \"\");\r\n  const [phoneNumber, setPhoneNumber] = useState(() => \"\");\r\n  const [password, setPassword] = useState(() => \"\");\r\n  const [email, setEmail] = useState(() => \"\");\r\n  // eslint-disable-next-line\r\n  const [confirmPassword, setConfirmPassword] = useState(() => \"\");\r\n  // eslint-disable-next-line\r\n  const [data, setData] = useState();\r\n\r\n  const [message, setMessage] = useState();\r\n  const [checkFinal, setCheckFinal] = useState();\r\n  const [codeVerify, setCodeVerify] = useState();\r\n  const [status, setStatus] = useState();\r\n  const [showPassword, setShowPassword]= useState(false)\r\n  const [showConfirmPassowrd, setShowConfirmPassword]= useState(false)\r\n  const checkUserandSignup = async () => {\r\n    const check = await check_user(email, phoneNumber);\r\n    if (check?.msg === true) {\r\n      setMessage(true);\r\n      forgot_password(email, setCheckFinal, true);\r\n    } else {\r\n      setMessage(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <div className={styles.register}>\r\n        {\r\n          <>\r\n            <div className={styles.register_title} style={{ marginBottom: 20, fontSize: 18 }}>\r\n              Đăng ký tài khoản tin nhắn nhanh <br></br>để kết nối với ứng dụng tin nhắn nhanh\r\n            </div>\r\n            <form action=\"#\">\r\n              {message === true && (\r\n                <>\r\n                  {checkFinal && (\r\n                    <>\r\n                      <div style={{ textAlign: \"center\", fontSize: 12 }}>\r\n                        Chúng tôi đã gửi một mã xác thực gồm 6 chữ số đến email\r\n                        của bạn. Vui lòng nhập vào đây để hoàn tất quá trình\r\n                        đăng ký\r\n                      </div>\r\n                      <input\r\n                        onChange={(e) => setCodeVerify(e.target.value)}\r\n                        type=\"text\"\r\n                        placeholder=\"Nhập mã xác thực\"\r\n                      ></input>\r\n                      <br />\r\n                      <Button\r\n                        color={\"primary\"}\r\n                        onClick={() =>\r\n                          confirm_code(email, codeVerify, setStatus)\r\n                        }\r\n                      >\r\n                        Xác nhận\r\n                      </Button>\r\n                      <WrongCode status={status} />\r\n                      {status?.verify === true && (\r\n                        <AutoSignup\r\n                          username={username}\r\n                          phoneNumber={phoneNumber}\r\n                          password={password}\r\n                          email={email}\r\n                          setData={setData}\r\n                        />\r\n                      )}\r\n                    </>\r\n                  )}\r\n                </>\r\n              )}\r\n              {!message && (\r\n                <>\r\n                  <div className={styles.register_form_input}>\r\n                    <input\r\n                      onChange={(e) => setUsername(e.target.value)}\r\n                      type=\"text\"\r\n                      placeholder=\"Họ và tên\"\r\n                    ></input>\r\n                    <span>\r\n                      {\" \"}\r\n                      <FaUserAlt />\r\n                    </span>\r\n                  </div>\r\n                  <div className={styles.register_form_input}>\r\n                    <input\r\n                      onChange={(e) => setPhoneNumber(e.target.value)}\r\n                      type=\"text\"\r\n                      placeholder=\"Số điện thoại\"\r\n                    ></input>\r\n                    <span>\r\n                      <BsPhoneFill />\r\n                    </span>\r\n                  </div>\r\n                  <div className={styles.register_form_input}>\r\n                    <input\r\n                      onChange={(e) => setEmail(e.target.value)}\r\n                      type=\"email\"\r\n                      placeholder=\"Email\"\r\n                    ></input>\r\n                    <span>\r\n                      <AiOutlineMail />\r\n                    </span>\r\n                  </div>\r\n                  <div style={{fontSize: 12, textAlign: \"left\"}}>Mật khẩu phải có ít nhất 8 ký tự bao gồm ít nhất 1 chữ số, 1 chữ thường, 1 chữ viết hoa và 1 ký tự đặc biệt</div>\r\n                  <div style={{position: \"relative\"}} className={styles.register_form_input}>\r\n                    <input\r\n                      type={showPassword=== true ? \"text\" : \"password\"}\r\n                      placeholder=\"Mật khẩu\"\r\n                      required\r\n                      onChange={(e) => setPassword(e.target.value)}\r\n                    ></input>\r\n                    <span>\r\n                      {\" \"}\r\n                      <AiTwotoneLock />\r\n                    </span>\r\n                    <span style={{position: \"absolute\", left: \"100%\", top: \"50%\", transform: \"translate(-100%, -50%)\"}}>\r\n                  {\r\n                    showPassword=== false && <BiHide onClick={()=> setShowPassword(true)} />\r\n                  }\r\n                  {\r\n                    showPassword=== true && \r\n                    <BiShowAlt onClick={()=> setShowPassword(false)} />\r\n                  }\r\n\r\n                </span>\r\n                  </div>\r\n                  <div className={styles.register_form_input}>\r\n                    <input\r\n                      type={showConfirmPassowrd=== true ? \"text\" : \"password\"}\r\n                      placeholder=\"Nhập lại mật khẩu\"\r\n                      required\r\n                      onChange={(e) => setConfirmPassword(e.target.value)}\r\n                    ></input>\r\n                    <span>\r\n                      {\" \"}\r\n                      <AiTwotoneLock />\r\n                    </span>\r\n                    <span style={{position: \"absolute\", left: \"100%\", top: \"50%\", transform: \"translate(-100%, -50%)\"}}>\r\n                  {\r\n                    showConfirmPassowrd=== false && <BiHide onClick={()=> setShowConfirmPassword(true)} />\r\n                  }\r\n                  {\r\n                    showConfirmPassowrd=== true && \r\n                    <BiShowAlt onClick={()=> setShowConfirmPassword(false)} />\r\n                  }\r\n\r\n                </span>\r\n                  </div>\r\n                  <div>\r\n                    {message === false && (\r\n                      <div style={{ color: \"red\", fontSize: 12 }}>\r\n                        Số điện thoại hoặc gmail đã tồn tại vui lòng thử lại\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                  <button\r\n                    onClick={() => {\r\n                      if (username?.length <= 6) {\r\n                        enqueueSnackbar(\"Họ tên ít nhất phải có 6 ký tự\", {\r\n                          variant: \"error\",\r\n                        });\r\n                      }\r\n                      \r\n                       else if (validatePhoneNumber(phoneNumber) === false) {\r\n                          enqueueSnackbar(\r\n                            \"Số điện thoại không hợp lệ, phải có 10 chữ số\",\r\n                            {\r\n                              variant: \"error\",\r\n                            }\r\n                          );\r\n                      }\r\n                      else if(validateEmail(email) === false ) {\r\n                        enqueueSnackbar(\r\n                            \"Email không hợp lệ\",\r\n                            {\r\n                              variant: \"error\",\r\n                            }\r\n                          );\r\n                      }\r\n                      else if(validatePassword(password) === false ) {\r\n                        enqueueSnackbar(\r\n                            \"Mật khẩu phải có ít nhất 8 kí tự, ít nhất một chữ thường, một chữ hoa và một chữ số\",\r\n                            {\r\n                              variant: \"error\",\r\n                            }\r\n                          );\r\n                      }\r\n                      else if(validateConfirmPassword(password, confirmPassword)=== false ) {\r\n                        enqueueSnackbar(\r\n                            \"Mật khẩu không khớp\",\r\n                            {\r\n                              variant: \"error\",\r\n                            }\r\n                          );\r\n                      }\r\n                      else {\r\n                        checkUserandSignup();\r\n                      }\r\n                    }}\r\n                    className={styles.btn}\r\n                  >\r\n                    Đăng ký\r\n                  </button>\r\n                </>\r\n              )}\r\n\r\n              <div className={styles.toLogin}>\r\n                <Link style={{fontSize: 16}} to=\"/login\">Đăng nhập!</Link>\r\n              </div>\r\n            </form>\r\n          </>\r\n        }\r\n      </div>\r\n      <Background />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Signup;\r\n\r\nconst AutoSignup = (props) => {\r\n  const navigate = useNavigate();\r\n  useEffect(() => {\r\n    if (props) {\r\n      (async () => {\r\n        await signup(\r\n          props?.username,\r\n          props?.phoneNumber,\r\n          props?.password,\r\n          props?.email,\r\n          props?.setData\r\n        );\r\n        navigate(\"/login\");\r\n      })();\r\n    }\r\n  }, [navigate, props]);\r\n  return <></>;\r\n};\r\n","export default function validatePhoneNumber(phoneNumber) {\r\n    // Khai báo biến regex kiểm tra số điện thoại\r\n    const phoneRegex = /^(\\+?\\d{1,3}[- ]?)?\\d{10}$/;\r\n    \r\n    // Sử dụng method test để kiểm tra số điện thoại\r\n    if (phoneRegex.test(phoneNumber)) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }","export default function validateEmail(email) {\r\n    // Khai báo biến regex kiểm tra email\r\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n    \r\n    // Sử dụng method test để kiểm tra email\r\n    if (emailRegex.test(email)) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n  ","export default function validateConfirmPassword(password, confirmPassword) {\r\n    \r\n    // Sử dụng method test để kiểm tra mật khẩu\r\n    if (password === confirmPassword) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }","import React from 'react'\r\nimport { useState } from 'react'\r\nimport { createContext } from 'react'\r\nimport { useEffect } from 'react'\r\nimport { io } from 'socket.io-client' \r\nimport { SERVER_URL } from '../config/config'\r\n\r\nexport const SocketContainerContext= createContext()\r\nconst SocketContainer = ({children}) => {\r\n  const [socketState, setSocketState]= useState()\r\n  const [meSocket, setMeSocket]= useState(\"\")\r\n  useEffect(()=> {\r\n    const socket= io(`${SERVER_URL}`, [{transports: [\"websocket\"]}])\r\n    // socket.emit(\"join_room_self\", {data: Cookies.get(\"uid\")})\r\n    socket.on(\"me\", (id)=> {\r\n      setMeSocket(id)\r\n    })\r\n    setSocketState(socket)\r\n    return ()=> socket.disconnect()\r\n  }, [])\r\n  return (\r\n    <SocketContainerContext.Provider value={{socketState, meSocket}}>\r\n        {children}\r\n    </SocketContainerContext.Provider>\r\n  )\r\n}\r\n\r\nexport default SocketContainer","import React from 'react'\r\nimport { useEffect } from 'react'\r\nimport { useContext } from 'react'\r\nimport {AiOutlineClose} from \"react-icons/ai\"\r\nimport { BsFillCameraVideoFill} from \"react-icons/bs\"\r\nimport { SocketContainerContext } from '../../SocketContainer/SocketContainer'\r\n\r\nconst InComingCall = (props) => {\r\n  const {socketState }= useContext(SocketContainerContext)\r\n  useEffect(()=> {\r\n    const soundInComingCall= document.createElement(\"audio\")\r\n    soundInComingCall.autoplay= true\r\n    soundInComingCall.src= \"https://res.cloudinary.com/cockbook/video/upload/v1673162350/single/Facebook_Messenger_Call_iysnpd.mp3\"\r\n    soundInComingCall.loop= true\r\n    return ()=> {\r\n        soundInComingCall.src= undefined\r\n    }\r\n  }, [])\r\n  return (\r\n    <div className={\"c-flex-center\"} style={{width: '100%', position: \"fixed\", top:0 , left: 0, height: '100%', zIndex: 999, background: \"rgba(0,0 ,0 ,0.3)\"}}>\r\n        <div style={{padding: 16, borderRadius: 10, border: '1px solid #d9d9d9', background: \"#fff\"}}>\r\n            <div style={{width: \"100%\"}} className={\"c-flex-center\"}>\r\n                <img src={props?.profilePicture} style={{width: 60, height: 60, borderRadius: \"50%\", objectFit: \"cover\"}} alt=\"\" />\r\n            </div>\r\n            <div style={{marginTop: 4, textAlign: \"center\", fontSize: 24, fontWeight: 600}}>\r\n                {props?.username}\r\n            </div>\r\n            <div style={{marginTop: 8, textAlign: \"center\", fontSize: 14}}>\r\n                Cuộc gọi sẽ bắt đầu khi bạn chấp nhận\r\n            </div>\r\n            <div style={{marginTop :12, gap: 36}} className={\"c-flex-center\"}>\r\n                {/* decline call */}\r\n                <div onClick={()=> {\r\n                    props?.setInComingCall(()=> false)\r\n                    socketState.emit(\"decline_call\", {call_id: props?.call_id})\r\n\r\n                }} className={\"c-flex-center\"} style={{flexDirection: 'column', cursor: \"pointer\"}}>\r\n                    <div style={{width :40, height: 40, borderRadius: \"50%\", background: '#ff443d'}} className={\"c-flex-center\"}>\r\n                        <AiOutlineClose style={{color: \"#fff\", width: 24, height: 24}} />\r\n                    </div>\r\n                    <div style={{fontSize: 12, marginTop: 8}}>\r\n                        Từ chối\r\n                    </div>\r\n                </div>\r\n                {/* accept call */}\r\n                <div onClick={()=> {\r\n                    props?.setInComingCall(()=> false)\r\n                    socketState.emit(\"accept_call\", {call_id: props?.call_id})\r\n                }} className={\"c-flex-center\"} style={{flexDirection: 'column', cursor: \"pointer\"}}>\r\n                    <div style={{width :40, height: 40, borderRadius: \"50%\", background: \"#31cc46\"}} className={\"c-flex-center\"}>\r\n                        <BsFillCameraVideoFill style={{color: \"#fff\", width: 24, height: 24}} />\r\n                    </div>\r\n                    <div style={{fontSize: 12, marginTop: 8}}>\r\n                        Chấp nhận\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default InComingCall\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst NotFound = () => {\r\n  return (\r\n    <div className=\"not-found\">\r\n      <h1>404 - Không tìm thấy trang</h1>\r\n      <p>Xin lỗi, trang bạn đang tìm kiếm không tồn tại!</p>\r\n      <Link to=\"/\">Quay lại trang chủ</Link>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NotFound;","import axios from \"axios\"\r\nimport Cookies from \"js-cookie\"\r\nimport { SERVER_URL } from \"../../config/config\"\r\n\r\nconst get_files_conversation= async (conversationId, setData)=> {\r\n    const res= await axios({\r\n        url: SERVER_URL+ \"/api/conversations/get-files/\" + conversationId,\r\n        method: \"get\",\r\n        headers: {\r\n            \"authorization\": \"Bearer \"+ Cookies.get(\"accessToken\")\r\n        }\r\n    })\r\n    const result= await res.data\r\n    return setData(result)\r\n}\r\n\r\nexport default get_files_conversation","import axios from \"axios\"\r\nimport Cookies from \"js-cookie\"\r\nimport { SERVER_URL } from \"../../config/config\"\r\n\r\nconst get_info_detail_conversation = async (idConversation, setData) => {\r\n  const res= await axios({\r\n    url: SERVER_URL+ \"/api/conversations/detail/\"+ idConversation,\r\n    method: \"get\",\r\n    headers: {\r\n        \"authorization\": \"Bearer \"+ Cookies.get(\"accessToken\")\r\n    }\r\n  })\r\n  const result= await res.data\r\n  return setData(result)\r\n}\r\n\r\nexport default get_info_detail_conversation\r\n","import axios from \"axios\"\r\nimport Cookies from \"js-cookie\"\r\nimport { SERVER_URL } from \"../../config/config\"\r\n\r\nconst add_member_to_group = async (conversationId, newMember, setData) => {\r\n    const res= await axios({\r\n        url: SERVER_URL+ \"/api/conversations/add-member-group/\"+ conversationId,\r\n        method: \"post\",\r\n        headers: {\r\n            \"authorization\": \"Bearer \"+ Cookies.get(\"accessToken\")\r\n        },\r\n        data: {\r\n            member: newMember\r\n        }\r\n    })\r\n    const result= await res.data\r\n    return setData(result)\r\n}\r\n\r\nexport default add_member_to_group","import axios from \"axios\"\r\nimport Cookies from \"js-cookie\"\r\nimport { SERVER_URL } from \"../../config/config\"\r\n\r\nconst get_conversation_friends = async (friendId, setData) => {\r\n    const res= await axios({\r\n        url: SERVER_URL+ \"/api/conversations/friend/\"+ friendId,\r\n        method: \"post\",\r\n        data: {\r\n            userId: Cookies.get(\"uid\")\r\n        },\r\n        headers: {\r\n            \"authorization\": \"Bearer \"+ Cookies.get(\"accessToken\")\r\n        }\r\n    })\r\n    const result= await res.data\r\n    return setData(result)\r\n}\r\n\r\nexport default get_conversation_friends\r\n","import axios from \"axios\"\r\nimport Cookies from \"js-cookie\"\r\nimport { SERVER_URL } from \"../../config/config\"\r\n\r\nconst out_group= async (id_conversation, setData)=> {\r\n    const res= await axios({\r\n        url: SERVER_URL+ \"/api/conversations/out-group/\"+ id_conversation,\r\n        method: \"post\",\r\n        headers: {\r\n            \"authorization\": \"Bearer \"+ Cookies.get(\"accessToken\")\r\n        },\r\n        data: {\r\n            userId: Cookies.get(\"uid\")\r\n        }\r\n    })\r\n    const result= await res.data\r\n    console.log(result)\r\n    window.location.href= window.location.origin\r\n    return setData(prev=> !prev)\r\n\r\n}\r\n\r\nexport default out_group","import axios from \"axios\"\r\nimport Cookies from \"js-cookie\"\r\nimport { SERVER_URL } from \"../../config/config\"\r\n\r\nconst send_request_make_friend_by_me = async (id, setData) => {\r\n  const res= await axios({\r\n    url: `${SERVER_URL}/api/users/request-add-friend/${id}`,\r\n    method: \"post\",\r\n    headers: {\r\n        \"authorization\": \"Bearer \"+ Cookies.get(\"accessToken\")\r\n    },\r\n    data: {\r\n        userId: Cookies.get(\"uid\")\r\n    }\r\n  })\r\n  const result= await res.data\r\n  return setData(result)\r\n}\r\n\r\nexport default send_request_make_friend_by_me","import axios from \"axios\"\r\nimport Cookies from \"js-cookie\"\r\nimport { SERVER_URL } from \"../../config/config\"\r\n\r\nconst get_message_conversationid = async (conversationId, setData, query) => {\r\n    const res= await axios({\r\n        url: SERVER_URL+ \"/api/messages/\"+ conversationId,\r\n        method: \"get\",\r\n        headers: {\r\n            \"authorization\": \"Bearer \"+ Cookies.get(\"accessToken\")\r\n        },\r\n        params: {\r\n            ...query\r\n        }\r\n    })\r\n\r\n    const result= await res.data\r\n    return setData(result.data)\r\n}\r\n\r\nexport default get_message_conversationid\r\n","import axios from \"axios\"\r\nimport Cookies from \"js-cookie\"\r\nimport { SERVER_URL } from \"../config/config\"\r\nconst search_user_by_phone= async (phoneNumber, setData)=> {\r\n    const res= await axios({\r\n        url: `${SERVER_URL}/api/users/phone/${phoneNumber}`,\r\n        headers: {\r\n            \"authorization\": \"Bearer \"+Cookies.get(\"accessToken\")\r\n        },\r\n        method: \"get\"\r\n    })\r\n    const result= await res.data\r\n    return setData(result)\r\n}\r\n\r\nexport default search_user_by_phone","import React, { memo } from 'react'\r\nimport { useState } from 'react'\r\nimport {AiFillCamera } from \"react-icons/ai\"\r\n\r\nconst Avatar = (props) => {\r\n  const [imgPreview, setImagePreview]= useState()\r\n  const check= imgPreview ? true :  false\r\n  const imgPreviewFunction= (e)=> {\r\n    setImagePreview({img: e.target.files[0], preview: URL.createObjectURL(e.target.files[0]), key: e.target.files[0].lastModified})\r\n    props.setNewProfilePicture(e.target.files[0])\r\n    if(props?.setChangeAvatar) {\r\n      props?.setChangeAvatar(()=> true)\r\n    }\r\n  }\r\n  return (\r\n    <div className={\"sjdkajdkjfadas\"} style={{width: '100%', display: \"flex\", justifyContent: 'center', alignItems: \"center\"}}>\r\n        <div onClick={()=> props.setOpen(prev=> !prev)} className={'sdsjfkjdkaldjas'} style={{width: 60, height: 60, display: \"flex\", justifyContent: \"center\", alignItems: \"center\", borderRadius: \"50%\", background: \"#fff\", position: \"relative\", cursor: \"pointer\"}}>\r\n          {\r\n            check=== true ? <img src={imgPreview.preview || \"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png\"} alt=\"Open\" className={\"dsjkhjfsjkfjkdlas\"} style={{display: \"flex\", justifyContent: \"center\", alignItems: \"center\", objectFit: \"cover\", width: \"100%\", height: \"100%\",position: \"relative\", zIndex: 12, borderRadius: \"50%\"}} />: \r\n            \r\n            <img src={props.avatar || \"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png\"} alt=\"Open\" className={\"dsjkhjfsjkfjkdlas\"} style={{display: \"flex\", justifyContent: \"center\", alignItems: \"center\", objectFit: \"cover\", width: \"100%\", height: \"100%\",position: \"relative\", zIndex: 12, borderRadius: \"50%\"}} />\r\n          }\r\n          {\r\n            props?.is_edit=== true &&\r\n            <div className={\"fkdlksdklsdcvx\"} style={{display: \"flex\", justifyContent: \"center\", alignItems: 'center', position: \"absolute\", right: 0, bottom: 0, zIndex: 13, cursor: \"pointer\",}}>\r\n              <AiFillCamera />\r\n              <input onChange={imgPreviewFunction} type={\"file\"} title={\"Chọn ảnh đại diện của bạn\"} style={{width: \"100%\", height: \"100%\", position: \"absolute\", opacity: 0, zIndex: 14, cursor: \"pointer\"}} />\r\n            </div>\r\n          }\r\n        </div>  \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default memo(Avatar)\r\n","import React from 'react'\r\nimport { useState } from 'react'\r\nimport {AiFillCamera } from \"react-icons/ai\"\r\n\r\nconst CoverPhoto = (props) => {\r\n  const [imgPreview, setImagePreview]= useState()\r\n  const check= imgPreview ? true :  false\r\n  const imgPreviewFunction= (e)=> {\r\n    setImagePreview({img: e.target.files[0], preview: URL.createObjectURL(e.target.files[0]), key: e.target.files[0].lastModified})\r\n    props?.setNewCoverPhoto(e.target.files[0])\r\n    if(props?.setChangeCoverPhoto) {\r\n      props?.setChangeCoverPhoto(true)\r\n    }\r\n    // if(props?.setNewCoverPhoto) {\r\n    //   // props?.setChangeAvatar(()=> true)\r\n    // }\r\n  }\r\n  return (\r\n    <div className={\"fjlkdajsklfjdskass\"} style={{width :'100%', position: \"relative\",height: 120}}>\r\n        {\r\n          check=== true ? <div className={'jfdjfkdjdsklfdjdaklsa'}style={{width: \"100%\", height: 150, backgroundImage: `url(${imgPreview?.preview})`, backgroundRepeat: \"no-repeat\", backgroundSize: \"cover\", backgroundPosition: \"center\", position: \"absolute\", top: 0, left: 0}}>\r\n            \r\n            {\r\n              props?.is_edit=== true && <div className={\"fkdlksdklsdcvx\"} style={{display: \"flex\", justifyContent: \"center\", alignItems: 'center', position: \"absolute\", right: 0, bottom: 0, zIndex: 13, cursor: \"pointer\",}}>\r\n                  <AiFillCamera size={30} style={{padding: 5, backgroundColor: \"#fff\", borderRadius: \"50%\"}} />\r\n                  <input onChange={imgPreviewFunction} type={\"file\"} title={\"Chọn ảnh bìa của bạn\"} style={{width: \"100%\", height: \"100%\", position: \"absolute\", opacity: 0, zIndex: 14, cursor: \"pointer\"}} />\r\n                </div>\r\n            }\r\n            </div> : <div className={'jfdjfkdjdsklfdjdaklsa'}style={{width: \"100%\", height: 150, backgroundImage: `url(${props?.coverPhoto?.length > 0 ? props?.coverPhoto : \"https://cover-talk.zadn.vn/default\"})`, backgroundRepeat: \"no-repeat\", backgroundSize: \"cover\", backgroundPosition: \"center\", position: \"absolute\", top: 0, left: 0}}>\r\n            \r\n            {\r\n              props?.is_edit=== true && <div className={\"fkdlksdklsdcvx\"} style={{display: \"flex\", justifyContent: \"center\", alignItems: 'center', position: \"absolute\", right: 0, bottom: 0, zIndex: 13, cursor: \"pointer\",}}>\r\n                  <AiFillCamera size={30} style={{padding: 5, backgroundColor: \"#fff\", borderRadius: \"50%\"}} />\r\n                  <input onChange={imgPreviewFunction} type={\"file\"} title={\"Chọn ảnh đại bìa của bạn\"} style={{width: \"100%\", height: \"100%\", position: \"absolute\", opacity: 0, zIndex: 14, cursor: \"pointer\"}} />\r\n                </div>\r\n            }\r\n            </div>\r\n        }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CoverPhoto","import { initializeApp } from \"firebase/app\";\r\nimport {\r\n  getStorage,\r\n  ref,\r\n  uploadBytesResumable,\r\n  getDownloadURL,\r\n} from \"firebase/storage\";\r\nimport { v4 } from \"uuid\";\r\n\r\n\r\n// Create the file metadata\r\n/** @type {any} */\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyBsImGL6fuQb715w69ZlSVEkZag07sLu8Y\",\r\n  authDomain: \"quiz-20730.firebaseapp.com\",\r\n  projectId: \"quiz-20730\",\r\n  storageBucket: \"quiz-20730.appspot.com\",\r\n  messagingSenderId: \"402820908137\",\r\n  appId: \"1:402820908137:web:890833413103e61f6c0ef8\",\r\n  measurementId: \"G-D4K2ZRYZ0K\",\r\n};\r\n\r\n// Initialize Firebase\r\nconst app = initializeApp(firebaseConfig);\r\n\r\nexport default app;\r\n\r\nexport const uploadImageClient = async (file) => {\r\n  try {\r\n    \r\n    const storage = getStorage();\r\n    const storageRef = ref(storage, \"images/\" + file.name);\r\n    const uploadTask = uploadBytesResumable(storageRef, file);\r\n    return new Promise((resolve, reject)=> {\r\n      uploadTask.on(\r\n        \"state_changed\",\r\n        (snapshot) => {\r\n          // Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded\r\n          const progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\r\n          console.log(\"Upload is \" + progress + \"% done\");\r\n          switch (snapshot.state) {\r\n            case \"paused\":\r\n              console.log(\"Upload is paused\");\r\n              break;\r\n            case \"running\":\r\n              console.log(\"Upload is running\");\r\n              break;\r\n            default:\r\n              console.log(snapshot);\r\n              break;\r\n          }\r\n        },\r\n        (error) => {\r\n          // A full list of error codes is available at\r\n          // https://firebase.google.com/docs/storage/web/handle-errors\r\n          switch (error.code) {\r\n            case \"storage/unauthorized\":\r\n              // User doesn't have permission to access the object\r\n              break;\r\n            case \"storage/canceled\":\r\n              // User canceled the upload\r\n              break;\r\n    \r\n            // ...\r\n    \r\n            case \"storage/unknown\":\r\n              // Unknown error occurred, inspect error.serverResponse\r\n              break;\r\n            default:\r\n              break;\r\n          }\r\n        },\r\n        () => {\r\n          // Upload completed successfully, now we can get the download URL\r\n          getDownloadURL(uploadTask.snapshot.ref).then((downloadURL) => {\r\n             return resolve(downloadURL)\r\n          });\r\n        }\r\n        );\r\n    })\r\n  } catch (error) {\r\n    return error\r\n  }\r\n  \r\n};\r\n\r\nexport const uploadVoiceClient= async (file)=> {\r\n  const storage = getStorage();\r\n  const storageRef = ref(storage, \"voices/\" + v4());\r\n  \r\n  const metadata = {\r\n    contentType: \"audio/mp3\",\r\n  };\r\n  const uploadTask = uploadBytesResumable(storageRef, file, metadata);\r\n  return new Promise((resolve, reject)=> {\r\n    uploadTask.on(\r\n      \"state_changed\",\r\n      (snapshot) => {\r\n        // Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded\r\n        const progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\r\n        console.log(\"Upload is \" + progress + \"% done\");\r\n        switch (snapshot.state) {\r\n          case \"paused\":\r\n            console.log(\"Upload is paused\");\r\n            break;\r\n          case \"running\":\r\n            console.log(\"Upload is running\");\r\n            break;\r\n          default:\r\n            console.log(snapshot);\r\n            break;\r\n        }\r\n      },\r\n      (error) => {\r\n        // A full list of error codes is available at\r\n        // https://firebase.google.com/docs/storage/web/handle-errors\r\n        switch (error.code) {\r\n          case \"storage/unauthorized\":\r\n            // User doesn't have permission to access the object\r\n            break;\r\n          case \"storage/canceled\":\r\n            // User canceled the upload\r\n            break;\r\n  \r\n          // ...\r\n  \r\n          case \"storage/unknown\":\r\n            // Unknown error occurred, inspect error.serverResponse\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n      },\r\n      () => {\r\n        // Upload completed successfully, now we can get the download URL\r\n        getDownloadURL(uploadTask.snapshot.ref).then((downloadURL) => {\r\n           return resolve(downloadURL)\r\n        });\r\n      }\r\n      );\r\n  })\r\n}\r\n","import axios from \"axios\";\r\nimport { SERVER_URL } from \"../config/config\";\r\nimport { uploadImageClient } from \"../firebase/config\";\r\nimport Cookies from \"js-cookie\";\r\n// import validUrl from \"valid-url\";\r\n\r\nconst update_info_user = async (\r\n  id,\r\n  newUsername,\r\n  newProfilePicture,\r\n  newGender,\r\n  setMessage,\r\n  setData,\r\n  changeAvatar,\r\n  newCoverPhoto,\r\n  changeCoverPhoto,\r\n  newAddress\r\n) => {\r\n\r\n  let finalAvatar= newProfilePicture\r\n  let finalCover= newCoverPhoto;\r\n  if(changeAvatar=== true) {\r\n    const urlAvatar = await uploadImageClient(newProfilePicture);\r\n    finalAvatar= urlAvatar\r\n  }\r\n  if(changeCoverPhoto=== true ){\r\n    const urlCover = await uploadImageClient(newCoverPhoto);\r\n    finalCover= urlCover\r\n\r\n  }\r\n  const res = await axios({\r\n    url: `${SERVER_URL}/api/users/edit-infor/${id}`,\r\n    method: \"post\",\r\n    headers: {\r\n      authorization: `Bearer ${Cookies.get(\"accessToken\")}`,\r\n    },\r\n    data: {\r\n      newUsername: newUsername,\r\n      newProfilePicture: finalAvatar,\r\n      newGender,\r\n      newCoverPhoto: finalCover,\r\n      newAddress\r\n    },\r\n  });\r\n  const result = await res.data;\r\n  setData(result?.user);\r\n  setMessage(result);\r\n  return result\r\n};\r\n\r\nexport default update_info_user;\r\n","import axios from \"axios\"\r\nimport Cookies from \"js-cookie\"\r\nimport { SERVER_URL } from \"../../config/config\"\r\n\r\nconst deaf_user= async (deaf)=> {\r\n    const res= await axios({\r\n        url: SERVER_URL+ \"/api/users/deaf\",\r\n        method: \"post\",\r\n        headers: {\r\n            \"authorization\": \"Bearer \"+ Cookies.get(\"accessToken\")\r\n        },\r\n        data: {\r\n            deaf,\r\n            id_user: Cookies.get(\"uid\")\r\n        }\r\n    })\r\n    const result= await res.data\r\n    return result\r\n}\r\n\r\nexport default deaf_user","import React, { memo } from 'react'\r\nimport OutsideClickHandler from 'react-outside-click-handler'\r\nimport {GrClose } from \"react-icons/gr\"\r\nimport CoverPhoto from './CoverPhoto'\r\nimport Avatar from './Avatar'\r\nimport { useContext } from 'react'\r\nimport { AppContext } from '../../App'\r\nimport { useState } from 'react'\r\nimport { useEffect } from 'react'\r\nimport update_info_user from '../../api/update_info_user'\r\nimport Cookies from 'js-cookie'\r\nimport { Button } from 'react-bootstrap'\r\nimport Toggle from 'react-toggle'\r\nimport \"react-toggle/style.css\"\r\nimport deaf_user from '../../api/user/deaf_user'\r\nimport { useSnackbar } from 'notistack'\r\nimport { SocketContainerContext } from '../../SocketContainer/SocketContainer'\r\n\r\nconst DetailProfile = (props) => {\r\n    const { enqueueSnackbar }= useSnackbar()\r\n    const { socketState}= useContext(SocketContainerContext)\r\n    const {data, setData, setChange }= useContext(AppContext)\r\n    const [updateInfo, setUpdateInfo]= useState(false)\r\n    const [newUsername, setNewUsername]= useState()\r\n    const [changeAvatar, setChangeAvatar]= useState(false)\r\n    const [newProfilePicture, setNewProfilePicture]= useState()\r\n    const [newGender, setNewGender]= useState()\r\n    const [updateData, setUpdateData]= useState()\r\n    const [newAddress, setNewAddress]= useState()\r\n    const [changeCoverPhoto, setChangeCoverPhoto]= useState(false)\r\n    // eslint-disable-next-line\r\n    const [newDateOfBirth, setNewDateOfBirth]= useState(\"\")\r\n    const [newCoverPhoto, setNewCoverPhoto]= useState()\r\n\r\n    useEffect(()=> {\r\n        setNewGender(()=> data?.gender?.toString())\r\n        setNewUsername(()=> data?.username)\r\n        setNewProfilePicture(()=> data?.profilePicture)\r\n        setNewDateOfBirth(()=> data?.dateOfBirth)\r\n        setNewAddress(()=> data?.address)\r\n        setNewCoverPhoto(()=> data?.coverPicture)\r\n    }, [data?.gender, data?.username, data?.profilePicture, data?.dateOfBirth, data?.address, data?.coverPicture])\r\n    useEffect(()=> {\r\n        if(parseInt(updateData?.status)=== 200) {\r\n            enqueueSnackbar(updateData?.msg, {\r\n                variant: \"success\"\r\n            })\r\n        }\r\n        else if(parseInt(updateData?.status)=== 500) {\r\n            enqueueSnackbar(updateData?.msg, {\r\n                variant: \"error\"\r\n            })\r\n        }\r\n    }, [updateData, enqueueSnackbar])\r\n    \r\n  return (\r\n    <div className={\"dsjdkjfkdlfjdmskdgm\"} style={{width: \"100%\", height: \"100%\", display: \"flex\", justifyContent: \"center\", alignItems: \"center\", position: \"fixed\", left: 0, top: 0, background: \"rgba(0, 0, 0, 0.3)\", zIndex: 999}}>\r\n        <OutsideClickHandler onOutsideClick={()=> props.setOpen(()=> false)}>\r\n            {/*  */}\r\n            {\r\n                updateInfo=== false && \r\n                <div className={\"DSkkjfkdjskljfdas\"} style={{maxWidth: 450, width: \"100vw\", background: \"#fff\", padding: 10, borderRadius: 10}}>\r\n                    <div className={\"jdjadkjgkddssa\"} style={{width: '100%', height: 68, display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\"}}>\r\n                        <strong>Thông tin tài khoản</strong>\r\n                        <div style={{display: \"flex\", justifyContent: 'center', alignItems: \"center\", cursor: \"pointer\"}} onClick={()=> props.setOpen(()=> false)}>\r\n                            <GrClose />\r\n                        </div>\r\n                    </div>\r\n                    <CoverPhoto coverPhoto={data?.coverPicture} />\r\n                    <Avatar setChangeAvatar={setChangeAvatar} setOpen={()=> {}} avatar={newProfilePicture} />\r\n                    <NameProfile username={data?.username} />\r\n                    <ProfileInfo user={data} />\r\n                    <AdvancedSettings user={data} />\r\n                    <br />\r\n                    <div className={\"fjldjskdjkslajkalsas\"} style={{width: '100%', display: \"flex\", justifyContent: \"center\", alignItems: \"center\", flexDirection: \"column\"}}>\r\n                        <Button variant={\"primary\"} onClick={()=> setUpdateInfo(()=> true)} className={\"fjlkdjfklsdjdasas\"} style={{display: 'flex', justifyContent:\"center\", alignItems: \"center\", background: \"#2e89ff\", cursor: \"pointer\", color: \"#fff\", fontWeight: 600, border: \"none\", outline: \"none\", borderRadius: 5, padding: \"10px 30px\", width :'100%'}}>\r\n                            Cập nhật thông tin \r\n                        </Button>\r\n                        <br />\r\n                    </div>\r\n                </div> \r\n            }\r\n            {/*  */}\r\n            {\r\n                updateInfo=== true &&\r\n                <div className={\"fjdklsjdksaassajksa\"} style={{maxWidth: 450, width: \"100vw\", background: \"#fff\", padding: 10, borderRadius: 10}}>\r\n                    <div className={\"jdjadkjgkddssa\"} style={{width: '100%', height: 68, display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\"}}>\r\n                        <strong>Cập nhật thông tin tài khoản</strong>\r\n                        <div style={{display: \"flex\", justifyContent: 'center', alignItems: \"center\", cursor: \"pointer\"}} onClick={()=> props.setOpen(()=> false)}>\r\n                            <GrClose />\r\n                        </div>\r\n                    </div>\r\n                    <CoverPhoto setChangeCoverPhoto={setChangeCoverPhoto} newCoverPhoto={newCoverPhoto} setNewCoverPhoto={setNewCoverPhoto} is_edit={true} coverPhoto={data?.coverPicture} />\r\n                    {/*  */}\r\n                    <Avatar setChangeAvatar={setChangeAvatar} setOpen={()=> {}} avatar={newProfilePicture} newProfilePicture={newProfilePicture} setNewProfilePicture={setNewProfilePicture} is_edit={true} />\r\n                   {/*  */}\r\n                    <ChangeUserName newUsername={newUsername} setNewUsername={setNewUsername} username={data?.username} />\r\n                   {/*  */}\r\n                    <UpdateInfo newGender={newGender} setNewGender={setNewGender} newAddress={newAddress} setNewAddress={setNewAddress} />\r\n                    <br />\r\n                    <div className={\"fjldjskdjkslajkalsas\"} style={{width: '100%', display: \"flex\", justifyContent: \"center\", alignItems: \"center\", gap :20}}>\r\n                        {\r\n                            updateData?.msg ? <>\r\n                                <button onClick={()=> props.setOpen(()=> false)} className={\"fjlkdjfklsdjdasas\"} style={{display: 'flex', justifyContent:\"center\", alignItems: \"center\", background: \"#5555\", cursor: \"pointer\", color: \"#000\", fontWeight: 600, border: \"none\", outline: \"none\", borderRadius: 5, padding: \"10px 30px\"}}>\r\n                                    Đóng\r\n                                </button>\r\n\r\n                            </>\r\n                            : \r\n                            <>\r\n                                <button onClick={()=> props.setOpen(()=> false)} className={\"fjlkdjfklsdjdasas\"} style={{display: 'flex', justifyContent:\"center\", alignItems: \"center\", background: \"#5555\", cursor: \"pointer\", color: \"#000\", fontWeight: 600, border: \"none\", outline: \"none\", borderRadius: 5, padding: \"10px 30px\"}}>\r\n                                    Hủy\r\n                                </button>\r\n                                <button onClick={async ()=> {\r\n                                    const result= await update_info_user(Cookies.get(\"uid\"), newUsername, newProfilePicture, newGender, setUpdateData, setData, changeAvatar, newCoverPhoto, changeCoverPhoto, newAddress)\r\n                                    if(result?.status=== 200) {\r\n                                        socketState?.emit(\"update_profile_user\", {meId: Cookies.get(\"uid\")})\r\n                                    }\r\n                                }} className={\"fjlkdjfklsdjdasas\"} style={{display: 'flex', justifyContent:\"center\", alignItems: \"center\", background: \"#2e89ff\", cursor: \"pointer\", color: \"#fff\", fontWeight: 600, border: \"none\", outline: \"none\", borderRadius: 5, padding: \"10px 30px\"}}>\r\n                                    Cập nhật\r\n                                </button>\r\n                            </>\r\n                        }\r\n                    </div>\r\n                </div>\r\n            }\r\n        </OutsideClickHandler>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst AdvancedSettings= (props)=> {\r\n    const [check, setCheck]= useState(false)\r\n    const {setChange }= useContext(AppContext)\r\n    useEffect(()=> {\r\n        setCheck(props?.user?.isDeaf || false)\r\n    }, [props?.user?.isDeaf])\r\n    return (\r\n        <div style={{width: \"100%\", padding: 10}}>\r\n            <div style={{fontSize: 16, fontWeight: 600,marginBottom: 12 }}>Nâng cao</div>\r\n            <div style={{display: \"flex\", alignItems: 'center'}}>\r\n            <Toggle\r\n                id='cheese-status'\r\n                checked={check}\r\n                onChange={()=> {\r\n                    setChange(prev=> !prev)\r\n                    setCheck(prev=> !prev)\r\n                    deaf_user(!check)\r\n                }}     \r\n            />\r\n            <label style={{marginLeft: 8}} htmlFor='cheese-status'>Chế độ giành cho người câm</label>\r\n            </div>  \r\n        </div>\r\n    )\r\n}\r\n\r\nexport const NameProfile= (props)=> {\r\n    return (\r\n        <div className={\"dshjjdkfhjdksldjksdas\"} style={{width: \"100%\",display: \"flex\",justifyContent: \"center\", alignItems: \"center\", padding: 10}}>\r\n            <div className={\"dkldjskldjkasdasa\"} style={{fontWeight: 600, fontSize: 18}}>\r\n                {props.username}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const ProfileInfo= (props)=> {\r\n    return (\r\n        <div className={\"fdlkdjsklfjdklddaas\" } style={{width: '100%', padding: 10}}>\r\n            <div style={{fontWeight: 600, marginBottom: 16}}>Thông tin cá nhân</div>\r\n            <ItemProfileInfo title={\"Điện thoại:\"} info={props?.user?.phoneNumber} />\r\n            <ItemProfileInfo title={\"Giới tính:\"} info={props?.user?.gender=== true? \"Nam\" : \"Nữ\"} />\r\n            <ItemProfileInfo title={\"Địa chỉ:\"} info={props?.user?.address} />\r\n        </div>\r\n    )\r\n}\r\n\r\nconst ItemProfileInfo= (props)=> {\r\n    return (\r\n        <div className={\"fjkdajsfkldjklasas\"} style={{width: '100%', display: \"flex\", alignItems: \"center\", marginBottom: 12}}>\r\n            <div className={\"gjfdajskldjfskdlj\"} style={{width: 100}}>\r\n                {props.title}\r\n            </div>\r\n            <div className={\"cvlkdjsfksjkdljdasdas\"} style={{fontSize: 16}}>\r\n                {props.info}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n// update\r\n\r\nconst ChangeUserName= (props)=> {\r\n    return (\r\n        <div className={\"djklsDjkldjksldaas\"} style={{justifyContent: \"center\", alignItems: \"center\", width: \"100%\", margin: \"12px 0\", padding: \"0 10px\", }}>\r\n            <div className={\"dflksdjkfsjsdsas\"} style={{marginBottom: 8,}}>Tên hiển thị</div>\r\n            <input onChange={(e)=> props.setNewUsername(e.target.value)} value={props.newUsername} type=\"text\" style={{width: \"100%\", height: 40, padding: 10, border: \"1px solid #e7e7e7\", borderRadius: 5, outlineColor: \"#2e89ff\"}} />\r\n            <div className={\"dklsjdklajkasdsas\"} style={{fontSize: 14, marginTop: 4}}>Sử dụng tên thật để bạn bè dễ dàng nhận biết hơn</div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst UpdateInfo= (props)=> {\r\n    return (\r\n        <div className={\"kladksmdlsaskdsaskld\"} style={{marginTop: 40, padding: 10}}>\r\n            <div className={\"kladkfksldsadskljd\"} style={{fontWeight: 600, marginBottom: 12}}>\r\n                Thông tin cá nhân \r\n            </div>\r\n            <UpdateGender {...props} />\r\n            <br />\r\n            <UpdateAddress {...props} />\r\n        </div>\r\n    )\r\n}\r\n\r\nconst UpdateGender= (props)=> {\r\n    return (\r\n        <div className={\"msafkdmsalksjkldjs\"} style={{}}>\r\n            <div className={\"lksadjklasjklasjas\"} style={{marginBottom: 8}}>Giới tính</div>\r\n            <div className={\"fklsaskdsmlaksajksa\"} style={{display: \"flex\", alignItems: 'center', gap: 20}}>\r\n                <div className={\"lksjaklssaasas\"} style={{display: \"flex\", alignItems: 'center', gap: 5}}>\r\n                    <input checked={props.newGender=== \"true\" ? true : false} onChange={(e)=> props.setNewGender(e.target.value)} type=\"radio\" name={\"gender\"} value={true} style={{width: 20, height: 20}} />\r\n                    <div className={\"lkdasdkaSasad\"}>Nam</div>\r\n                </div>\r\n                {/*  */}\r\n                <div className={\"lksjaklssaasas\"} style={{display: \"flex\", alignItems: 'center', gap: 5}}>\r\n                    <input checked={props.newGender=== \"false\" ? true : false} onChange={(e)=> props.setNewGender(e.target.value)} type=\"radio\" name={\"gender\"} value={false} style={{width: 20, height: 20}} />\r\n                    <div className={\"lkdasdkaSasad\"}>Nữ</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst UpdateAddress= (props)=> {\r\n    return (\r\n        <div className={\"msafkdmsalksjkldjs\"} style={{}}>\r\n            <div className={\"lksadjklasjklasjas\"} style={{marginBottom: 8}}>Địa chỉ</div>\r\n            <div className={\"fklsaskdsmlaksajksa\"} style={{display: \"flex\", alignItems: 'center', gap: 20}}>\r\n                <input value={props?.newAddress} onChange={(e)=> props?.setNewAddress(e.target.value)} type=\"text\" style={{width: \"100%\", height: 40, padding: 10, borderRadius: 5, outlineColor: \"#2e89ff\"}} />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst UpdateDateOfBirth= (props)=> {\r\n    return (\r\n        <div className={\"msafkdmsalksjkldjs\"} style={{}}>\r\n            <div className={\"lksadjklasjklasjas\"} style={{marginBottom: 8}}>Ngày sinh</div>\r\n            <div className={\"fklsaskdsmlaksajksa\"} style={{display: \"flex\", alignItems: 'center', gap: 20}}>\r\n                <input value={props?.newDateOfBirth} onChange={(e)=> props?.setNewDateOfBirth(e.target.value)} type=\"text\" style={{width: \"100%\", height: 40, padding: 10, borderRadius: 5, outlineColor: \"#2e89ff\"}} />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default memo(DetailProfile)\r\n","import axios from \"axios\"\r\nimport Cookies from \"js-cookie\"\r\nimport { SERVER_URL } from \"../../config/config\"\r\n\r\nconst delete_member_id = async (memberId, conversationId,setData) => {\r\n    const res= await axios({\r\n        url: SERVER_URL+ \"/api/conversations/delete-member/\"+ memberId,\r\n        method: \"post\",\r\n        headers: {\r\n            \"authorization\": \"Bearer \"+ Cookies.get(\"accessToken\")\r\n        },\r\n        data: {\r\n            userId: Cookies.get(\"uid\"),\r\n            conversationId\r\n        }\r\n    })\r\n    const result= await res.data\r\n    console.log(result)\r\n    return setData(prev=> !prev)\r\n}\r\n\r\nexport default delete_member_id\r\n","import axios from \"axios\"\r\nimport Cookies from \"js-cookie\"\r\nimport { SERVER_URL } from \"../../config/config\"\r\n\r\nconst make_conversation= async (label, member, createdBy, imageGroup,setData, navigate)=> {\r\n    const res= await axios({\r\n        url: `${SERVER_URL}/api/conversations`,\r\n        method: \"post\",\r\n        headers: {\r\n            \"authorization\": \"Bearer \"+Cookies.get(\"accessToken\")\r\n        },\r\n         data: {\r\n            label, member, createdBy, imageGroup\r\n        }\r\n    })\r\n    const result= await res.data\r\n    navigate(\"/chat/\"+ result?._id)\r\n    return setData(result)\r\n\r\n}\r\n\r\nexport default make_conversation","import axios from \"axios\"\r\nimport Cookies from \"js-cookie\"\r\nimport { SERVER_URL } from \"../../config/config\"\r\n\r\nconst get_list_friend_rebuild = async (setData) => {\r\n    const res= await axios({\r\n        url: SERVER_URL+ \"/api/users/friends/\"+ Cookies.get(\"uid\"),\r\n        method: \"get\",\r\n        headers: {\r\n            \"authorization\": \"Bearer \"+ Cookies.get(\"accessToken\")\r\n        }\r\n    })\r\n    const result= await res.data\r\n    return setData(result)\r\n}\r\n\r\nexport default get_list_friend_rebuild\r\n","import axios from \"axios\"\r\nimport Cookies from \"js-cookie\"\r\nimport { SERVER_URL } from \"../../config/config\"\r\n\r\nconst unfriend= async (friendId, setData)=> {\r\n    const res= await axios({\r\n        url: SERVER_URL+ \"/api/users/unfriend/\"+ friendId,\r\n        method: \"post\",\r\n        data: {\r\n            userId: Cookies.get(\"uid\")\r\n        },\r\n        headers: {\r\n            \"authorization\": \"Bearer \"+ Cookies.get(\"accessToken\")\r\n        }\r\n    })\r\n    const result= await res.data\r\n    return setData(result)\r\n}\r\n\r\nexport default unfriend","import axios from \"axios\"\r\nimport Cookies from \"js-cookie\"\r\nimport { SERVER_URL } from \"../../config/config\"\r\n\r\nconst get_list_conversation=async (setData)=> {\r\n    const res=await axios({\r\n        url: `${SERVER_URL}/api/conversations/${Cookies.get(\"uid\")}`,\r\n        method: \"get\",\r\n        headers: {\r\n            \"authorization\": \"Bearer \"+ Cookies.get(\"accessToken\")\r\n        }\r\n    })\r\n    const result= await res.data\r\n    return setData(result)\r\n}\r\n\r\nexport default get_list_conversation","import Cookies from 'js-cookie'\r\nimport React, { memo, useContext } from 'react'\r\nimport { useState } from 'react'\r\nimport { useEffect } from 'react'\r\nimport { NavLink, useParams } from 'react-router-dom'\r\nimport get_list_conversation from '../../api/coversation/get_list_conversation'\r\nimport Fuse from 'fuse.js'\r\nimport { SocketContainerContext } from '../../SocketContainer/SocketContainer'\r\nimport _ from \"lodash\"\r\nimport moment from 'moment'\r\nimport { TransitionGroup, CSSTransition } from 'react-transition-group';\r\n\r\nconst List = (props) => {\r\n    const [audio, setAudio] = useState(new Audio('https://static.xx.fbcdn.net/rsrc.php/yR/r/lvSDckxyoU5.ogg'));\r\n    // const audioRef = useRef(null);\r\n    const {idConversation}= useParams()\r\n    const {socketState }= useContext(SocketContainerContext)\r\n    const [data, setData]= useState([])\r\n    // const audioContext = new AudioContext();\r\n    \r\n    useEffect(()=> {\r\n        get_list_conversation(setData)\r\n    }, [props?.change, props.is_friend_page])\r\n    // useEffect(()=> {\r\n    //     if(data.length > 0) {\r\n    //         socketState.on(\"send_new_message_from_server\", (data2)=> {\r\n                   \r\n    //             const index= data.findIndex(item=> item.id_conversation === data2?.idConversation)\r\n    //             console.log(index)\r\n    //             if(parseInt(index) >= parseInt(0)) {\r\n    //                 console.log(\"done\")\r\n    //                 const audio= document.createElement(\"audio\")\r\n    //                 document.body.appendChild(audio)\r\n    //                 audio.preload= \"auto\"\r\n    //                 audio.volume= 1\r\n    //                 audio.src= \"https://static.xx.fbcdn.net/rsrc.php/yR/r/lvSDckxyoU5.ogg\"\r\n    //                 audio.style= {widht: \"300px\", heihgt: \"200px\"}\r\n    //                 audio.controls= true\r\n    //                 audio.autoplay= true\r\n    //                 // const source = audioContext.createMediaElementSource(audioRef.current);\r\n    //                 // const gainNode = audioContext.createGain();\r\n    //                 // source.connect(gainNode);\r\n    //                 // gainNode.connect(audioContext.destination);\r\n                \r\n    //                 // gainNode.gain.value = 0.5;\r\n                \r\n    //                 // audioRef.current.play()\r\n    //             } \r\n                \r\n    //         })\r\n    //     }\r\n    // }, [socketState, data.length])\r\n    useEffect(()=> {\r\n        if(data.length > 0 ) {\r\n            socketState.on(\"newest_message\", (data2)=> {\r\n                const index= data.findIndex(item=> item.id_conversation === data2?.roomId) \r\n                if(index >= 0) {\r\n                    const updateData= [...data.slice(0, index), {...data[index], lastUpdate: data2?.lastUpdate}, ...data.slice(index + 1)]\r\n                    setData(()=> updateData)\r\n                }\r\n            })\r\n            socketState.on(\"newest_message_sound\", (data2)=> {\r\n                const index= data.findIndex(item=> item.id_conversation === data2?.roomId) \r\n                if(index >= 0) {\r\n                    audio.play();\r\n                }\r\n            })\r\n        }\r\n    }, [socketState, data])\r\n    const options = {\r\n        keys: [\r\n            { name: 'label', getFn: (book) => book.label },\r\n            { name: 'username', getFn: (book) => book.member?.map(item=> item.username) }\r\n          ]\r\n      };\r\n      \r\n      const fuse = new Fuse(data, options);\r\n      // Change the pattern\r\n  return (\r\n    <div className={\"skdjkfjdkdjsdas\"}style={{width:\" 100%\", height: \"calc(100% - 60px)\", overflow: \"auto\"}}>\r\n       {\r\n        <div style={{textAlign: \"center\"}}>\r\n            {props?.isSearching=== true && props?.data?.length <=0 && props?.search_conversation!== true && \"Không tìm thấy kết quả phù hợp\"}\r\n        </div>\r\n       }\r\n       {\r\n        <div style={{textAlign: \"center\"}}>\r\n            {props?.isSearching=== true && props?.data?.length <=0 && props?.search_conversation=== true && fuse.search(props?.searchQuery).length <= 0&& \"Không tìm thấy kết quả phù hợp\"}\r\n        </div>\r\n       }\r\n       {/* search */}\r\n       {\r\n            props?.isSearching=== true && props?.searchQuery?.length > 0 && data?.length > 0 && fuse.search(props?.searchQuery)?.map((item, key)=> <ItemList key={key} {...item.item} />)\r\n       }\r\n       {\r\n        <div style={{textAlign: \"center\"}}>\r\n           { props?.isSearching=== false && data?.length<= 0 && \"Bạn không có cuộc hội thoại nào.\"}\r\n        </div>\r\n       }\r\n       {/* list conversation */}\r\n       {\r\n            props?.isSearching=== false && data?.length> 0 &&\r\n            <TransitionGroup>\r\n                {\r\n                    _.orderBy(data, function(e) {return moment(e.lastUpdate, \"D/M/YYYY, H:mm:ss A\").valueOf()}, \"desc\")?.map((item, key)=> \r\n                        <CSSTransition\r\n                            key={item?.id_conversation}\r\n                            timeout={500}\r\n                            classNames=\"item\"\r\n                        >\r\n\r\n                            <ItemList idConversation={idConversation} socketState={socketState} {...item} />\r\n                        </CSSTransition>\r\n                    \r\n                    )\r\n\r\n                }\r\n            </TransitionGroup>\r\n       }\r\n       {/* <audio ref={audioRef} src=\"https://static.xx.fbcdn.net/rsrc.php/yR/r/lvSDckxyoU5.ogg\"></audio> */}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst ItemList= memo((props)=> {\r\n    const {socketState, idConversation} =props\r\n    const [newMessageSignal, setNewMessageSignal]= useState(false)\r\n\r\n    useEffect(()=> {\r\n        if(idConversation && socketState && props?.id_conversation) {\r\n            if(idConversation!==props?.id_conversation) {\r\n                socketState.on(\"send_new_message_from_server\", (data)=> {\r\n                    \r\n                    if(data?.idConversation === props?.id_conversation && data?.idConversation!== idConversation && idConversation!==props?.id_conversation)  {\r\n                        setNewMessageSignal(()=> true)\r\n                    }\r\n                })\r\n            }\r\n        }\r\n    }, [idConversation, props?.id_conversation])\r\n\r\n    return (\r\n        <NavLink onClick={()=> {\r\n            setNewMessageSignal(()=> false)\r\n        }} style={{textDecoration: \"none\", color: \"#000\"}} className={({isActive})=> isActive ? \"fdsgfsdgfdsdas fhjsdjsfkdjdfklsjdsa\" : \"fdsgfsdgfdsdas dajksdjskldjaksljaklasa\"} to={\"/chat/\"+ props?._id}>\r\n            <div className={`fjsdjljkgjhdlsjhdas ${newMessageSignal=== true ? \"skdsdkldadskaldgsd\" : \"kalaskalsfsasas\"} ${props?.id_conversation=== idConversation ? \"dsjlkdjksdajskfjksa\" : \"agatareasegffsdda\"}`} style={{width: \"100%\", padding: 16, display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", cursor: \"pointer\"}}>\r\n                {/* s1 */}\r\n                <div className={\"jskdjksjkgfddas\"} style={{display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", gap: 10}}>\r\n                    <ImageItemList {...props } />\r\n                    <Name {...props} />\r\n                </div>\r\n                {/* s2 */}\r\n                <div className={\"fjklsjklfjsksajas\"} style={{display: \"flex\", justifyContent: \"center\", alignItems: \"center\"}}>\r\n                    {\r\n                        newMessageSignal=== true && <div style={{width: 10, height: 10, borderRadius: \"50%\", background: \"#2e89ff\"}}></div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        </NavLink>\r\n    )\r\n})\r\n\r\n\r\nexport const ImageItemList= (props)=> {\r\n    return (\r\n        <div className={\"djklsjkdjvsdddasa\"} style={{display: \"flex\", justifyContent: \"center\", alignItems: \"center\"}}>\r\n            <img src={props?.imageGroup ? props?.imageGroup : (props?.member?.filter(item=> item?._id !== Cookies.get(\"uid\"))?.[0]?.profilePicture?.length > 0 ? props?.member?.filter(item=> item?._id !== Cookies.get(\"uid\"))?.[0]?.profilePicture : \"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png\")} alt=\"\" style={{width: 56, height: 56, objectFit: \"cover\", borderRadius: \"50%\"}} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Name= (props)=> {\r\n    return (\r\n        <div className={\"fjklsajkjfksaasafsd\"} style={{display: \"flex\", alignItems: \"center\"}}>\r\n            <div className={\"fldsajkjdfkldjasa\"} style={{fontSize: 18}}>\r\n                {props?.label ? props?.label : (props?.member?.filter(item=> item?._id !== Cookies.get(\"uid\"))?.[0]?.username?.length > 0 ? props?.member?.filter(item=> item?._id !== Cookies.get(\"uid\"))?.[0]?.username : \"Anonymous\") }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default memo(List)\r\n","import Cookies from 'js-cookie'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { Button } from 'react-bootstrap'\r\nimport { GrClose } from 'react-icons/gr'\r\nimport OutsideClickHandler from 'react-outside-click-handler'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport delete_member_id from '../../api/coversation/delete_member_id'\r\nimport get_conversation_friends from '../../api/coversation/get_conversation_friends'\r\nimport make_conversation from '../../api/coversation/make_conversation'\r\nimport get_list_friend_rebuild from '../../api/friend/get_list_friend_rebuild'\r\nimport unfriend from '../../api/friend/unfriend'\r\nimport Avatar from '../Home/Avatar'\r\nimport CoverPhoto from '../Home/CoverPhoto'\r\nimport { NameProfile } from '../Home/DetailProfile'\r\nimport { ImageItemList, Name } from './List'\r\n\r\nconst ListFriend = (props) => {\r\n  return (\r\n    <div className={\"skdjkfjdkdjsdas\"}style={{width:\" 100%\", height: \"calc(100% - 60px)\", overflow: \"auto\"}}>\r\n      <RequestByMe />\r\n      <RequestByUserToMe />\r\n      <ListFriendItem />\r\n    </div>\r\n  )\r\n}\r\n\r\nconst RequestByMe= (props)=> {\r\n  const navigate= useNavigate()\r\n\r\n  return (\r\n    <div onClick={()=> navigate(\"/friends/request/to/me\")} className={\"fvjkldjaklsdjklasjassa fjsdjljkgjhdlsjhdas\"} style={{width: \"100%\", padding: 16, display: \"flex\", alignItems: \"center\", gap: 10, cursor: \"pointer\"}}>\r\n      <img src={\"https://chat.zalo.me/assets/NewFr@2x.820483766abed8ab03205b8e4a8b105b.png\"} alt=\"\" style={{width: 48, height: 48, objectFit: \"cover\", borderRadius: \"50%\"}} />\r\n      <div className={\"fdjfkjkajawas\"} style={{fontSize: 18}}>Danh sách kết bạn</div>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst RequestByUserToMe= (props)=> {\r\n  const navigate= useNavigate()\r\n\r\n  return (\r\n    <div onClick={()=> navigate(\"/friends/request/by/me\")} className={\"fvjkldjaklsdjklasjassa fjsdjljkgjhdlsjhdas\"} style={{width: \"100%\", padding: 16, display: \"flex\", alignItems: \"center\", gap: 10, cursor: \"pointer\"}}>\r\n      <img src={\"https://chat.zalo.me/assets/group@2x.2d184edd797db8782baa0d5c7a786ba0.png\"} alt=\"\" style={{width: 48, height: 48, objectFit: \"cover\", borderRadius: \"50%\"}} />\r\n      <div className={\"fdjfkjkajawas\"} style={{fontSize: 18}}>Danh sách yêu cầu kết bạn</div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport const ListFriendItem= (props)=> {\r\n  const [data, setData]= useState()\r\n  useEffect(()=> {\r\n    get_list_friend_rebuild(setData)\r\n  }, [])\r\n\r\n  return (\r\n    <>\r\n      <div className={\"fvjkldjaklsdjklasjassa fjsdjljkgjhdlsjhdas\"} style={{width: \"100%\", padding: 16, display: \"flex\", alignItems: \"center\", gap: 10, cursor: \"pointer\"}}>\r\n        <div style={{fontSize: 18}}>Danh sách bạn bè</div>\r\n      </div>\r\n      {\r\n        data?.data?.friends?.map((item, key)=> <ListFriendComponent  setArrayMember={props?.setArrayMember} arrayMember={props?.arrayMember} is_invite={props?.is_invite} key={key} {...item} />)\r\n      }\r\n    </>\r\n  )\r\n}\r\n\r\n\r\nexport const ListFriendComponent= (props)=> {\r\n  const [open, setOpen]= useState(()=> false)\r\n  return (\r\n    <div onClick={()=> setOpen(prev=> !prev)} className={\"fjsdjljkgjhdlsjhdas\"} style={{width: \"100%\", padding: 16, display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", cursor: \"pointer\"}}>\r\n        {/* s1 */}\r\n        <div className={\"jskdjksjkgfddas\"} style={{display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", gap: 10}}>\r\n            <ImageItemList {...props } imageGroup={props?.profilePicture?.length > 0 ? props?.profilePicture : \"https://forum.truckersmp.com/uploads/monthly_2022_05/imported-photo-240240.thumb.png.974ffed93b3286f4e60938fb8c7ec38e.png\"} />\r\n            <Name {...props} label={props?.username} />\r\n            {\r\n              props?.is_group=== true && <>\r\n                {\r\n                  props?.isHostGroup=== true && (props?._id === props?.my_id) && <div>(Bạn)</div>\r\n                }\r\n                {\r\n                  props?.isHostGroup=== false && (props?._id === props?.my_id) && <div>(Bạn)</div>\r\n                }\r\n              </>\r\n            }\r\n        </div>\r\n        {/* s2 */}\r\n        <div className={\"fjklsjklfjsksajas\"} style={{display: \"flex\", justifyContent: \"center\", alignItems: \"center\"}}>\r\n            {\r\n              props?.is_invite=== true && <Button onClick={(e)=> {\r\n                e.stopPropagation()\r\n                props?.setArrayMember(prev=> [...prev, props?._id])\r\n              }} disabled={props?.arrayMember?.includes(props?._id) ? true : false} variant={\"primary\"}>{props?.arrayMember?.includes(props?._id) ? \"Đã thêm\" : \"Thêm\"}</Button>\r\n            }\r\n            {\r\n              props?.is_group=== true && props?.isHostGroup=== true  && (props?._id !== props?.my_id) && <>\r\n                <Button onClick={async (e)=> {\r\n                  e.stopPropagation()\r\n                  await delete_member_id(props?._id, props?.id_conversation, props?.setResult)\r\n                  }} color={\"primary\"} style={{whiteSpace: \"nowrap\"}}>Xóa thành viên</Button>\r\n              </>\r\n            }            \r\n        </div>\r\n        {open=== true && <PopupAddFriends open={open} setOpen={setOpen} {...props} />}\r\n    </div> \r\n  )\r\n}\r\n\r\n\r\nexport const PopupAddFriends= (props)=> {\r\n  const [data, setData]= useState()\r\n  // eslint-disable-next-line\r\n  const [data2, setData2]= useState()\r\n  const [newConversation, setNewConversation]= useState()\r\n  const navigate= useNavigate()\r\n  useEffect(()=> {\r\n    if(props._id) {\r\n      get_conversation_friends(props._id, setData)\r\n    }\r\n  }, [props._id])\r\n  \r\n  const unfriend_f= async ()=> {\r\n    await unfriend(props?._id, setData2)\r\n    window.location.reload()\r\n  }\r\n  return (\r\n      <div className={\"fkjldsklkdsslaskdsaa\"} style={{width: \"100%\", height: \"100%\", position: \"fixed\", top: 0, left: 0, background: \"rgba(0 ,0 ,0,0.3)\", zIndex: 12, display: \"flex\", justifyContent: \"center\", alignItems: \"center\"}}>\r\n          <OutsideClickHandler onOutsideClick={()=> props.setOpen((()=> false))}>\r\n              <div className={\"fjlkdsjdkljsdklaskd\"} style={{padding: 16, background: \"#fff\", borderRadius: 5, width: \"100vw\", maxWidth: 450}}>\r\n                  <div style={{width: \"100%\", height: \"100%\"}}>   \r\n                      <div className={\"jdjadkjgkddssa\"} style={{width: '100%', height: 68, display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\"}}>\r\n                        <div className={\"dkldjskldjkasdasa\"} style={{fontWeight: 600, fontSize: 18}}>\r\n                          {props.username}\r\n                        </div>\r\n                        <div onClick={()=> props.setOpen((()=> false))} style={{display: \"flex\", justifyContent: 'center', alignItems: \"center\", cursor: \"pointer\", padding: 10}}>\r\n                          <GrClose onClick={()=> props.setOpen((()=> false))} />\r\n                        </div>\r\n                      </div>\r\n                      <CoverPhoto coverPhoto={props?.coverPhoto} />\r\n                      <Avatar avatar={props?.profilePicture} />\r\n                      <NameProfile username={props?.username} />\r\n                      <div style={{width: \"100%\", display: \"flex\", justifyContent: \"center\", alignItems: \"center\", gap: 16}}>\r\n                        <Button onClick={async ()=> {\r\n                          if(data.id_conversation) {\r\n                            navigate(\"/chat/\"+ data?.id_conversation)\r\n                          }\r\n                          else {\r\n                            await make_conversation(undefined, [props?._id, Cookies.get(\"uid\")], Cookies.get(\"uid\"), undefined, setNewConversation, navigate)\r\n                          }\r\n                        }} variant=\"primary\">Nhắn tin</Button>\r\n                        <Button onClick={unfriend_f} variant=\"secondary\">Hủy kết bạn</Button>\r\n                      </div>\r\n                      <br />\r\n                  </div>\r\n              </div>\r\n          </OutsideClickHandler>\r\n      </div>\r\n  )\r\n}\r\n\r\n\r\nexport default ListFriend","import axios from \"axios\"\r\nimport Cookies from \"js-cookie\"\r\nimport { SERVER_URL } from \"../../config/config\"\r\n\r\nconst recall_message = async(keyId, message) => {\r\n    const res= await axios({\r\n        url: SERVER_URL+ \"/api/messages/recall/message/\"+ keyId,\r\n        method: \"post\", \r\n        headers: {\r\n            \"authorization\": \"Bearer \"+ Cookies.get(\"accessToken\")\r\n        },\r\n        data: {\r\n            message\r\n        }\r\n    })\r\n    const result= await res.data\r\n    return result\r\n}\r\n\r\nexport default recall_message\r\n","import axios from \"axios\"\r\nimport Cookies from \"js-cookie\"\r\nimport { SERVER_URL } from \"../../config/config\"\r\n\r\nconst remove_message = async(keyId, message) => {\r\n    const res= await axios({\r\n        url: SERVER_URL+ \"/api/messages/remove/message/\"+ keyId,\r\n        method: \"post\", \r\n        headers: {\r\n            \"authorization\": \"Bearer \"+ Cookies.get(\"accessToken\")\r\n        },\r\n        data: {\r\n            message\r\n        }\r\n    })\r\n    const result= await res.data\r\n    return result\r\n}\r\n\r\nexport default remove_message\r\n","import \"./style.sass\"\r\nimport Cookies from \"js-cookie\";\r\nimport _ from \"lodash\"\r\nimport moment from \"moment\";\r\nimport {MdDelete} from \"react-icons/md\"\r\nimport {IoIosRemoveCircle} from \"react-icons/io\"\r\nimport { SocketContainerContext } from \"../../../SocketContainer/SocketContainer\";\r\nimport recall_message from \"../../../api/message/recall_message\";\r\nimport remove_message from \"../../../api/message/remove_message\";\r\nimport { useEffect, useContext, memo, useState } from \"react\";\r\nimport ScrollToBottom from \"react-scroll-to-bottom\";\r\nimport {AiFillLike } from \"react-icons/ai\"\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport { useRef } from \"react\";\r\n\r\nconst ContentConversation = (props) => {\r\n    const {idConversation }= useParams()\r\n    const {socketState}= useContext(SocketContainerContext)\r\n    return (\r\n      <div\r\n        className={\"fjkdjskjfksjdaswawsa\"}\r\n        style={{ width: \"100%\", height: \"calc(100% - 60px - 68px\" }}\r\n      >\r\n        <div\r\n          id=\"main-chat-scroll-to-bottom\"\r\n          className={\"fjkdjsijaskldjakjdsk\"}\r\n          style={{ width: \"100%\", height: \"100%\", overflow: \"auto\", padding: 5}}\r\n        >\r\n            <ScrollToBottom className={\"fjkdjsijaskldjakjdsk\"} mode=\"bottom\">\r\n                {\r\n                    _.orderBy(props?.listMessage, o=> moment(o.createdAt).valueOf(), 'asc')?.filter(item=> item.roomId === idConversation)?.map((item)=> <ComponentMessage socketState={socketState} key={item?.key} {...item} keyId={item?.key} idConversation={idConversation} />)\r\n                }\r\n                <div className=\"_3ybTi_as\" name=\"main-chat\" style={{position: \"relative\"}}></div>\r\n            </ScrollToBottom>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  export default memo(ContentConversation)\r\n\r\nconst ComponentMessage= (props)=> {\r\n    const {idConversation }= props\r\n    const [open, setOpen]= useState(false)\r\n    const [reValue, setReValue]= useState(undefined)\r\n    useEffect(()=> {\r\n        props?.socketState?.on(\"recall_message_server\", (data)=> {\r\n            if(props?.keyId === data?.keyId) {\r\n                setReValue(data)\r\n                recall_message(props?.keyId, data?.message)\r\n            }\r\n        })\r\n        props?.socketState?.on(\"remove_message_server\", (data)=> {\r\n            if(props?.keyId === data?.keyId) {\r\n                setReValue(data)\r\n                remove_message(props?.keyId, data?.message)\r\n            }\r\n        })\r\n    }, [props?.keyId])\r\n    \r\n    const recallMessage= ()=> {\r\n        props?.socketState?.emit(\"recall_message\", {idConversation: idConversation, kindof: \"recall\", idMessage: props?._id, keyId: props?.keyId})\r\n        \r\n    }\r\n\r\n    const removeMessage= ()=> {\r\n        props?.socketState?.emit(\"remove_message\", {idConversation: idConversation, kindof: \"remove\", idMessage: props?._id, keyId: props?.keyId})\r\n        props?.socketState?.on(\"remove_message_server\", (data)=> {\r\n            setReValue(data)\r\n            remove_message(props?.keyId, data?.message)\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div onMouseEnter={()=> setOpen(true)} onMouseLeave={()=> setOpen(false)} className={`fjdhsjkfhjdkahsjassa ${props?.sender?._id === Cookies.get(\"uid\") ? \"fjkdjjkdhjfdasdjkhsa\" : \"djskdhjfhsjdahsja\"}`}>\r\n            <div className={\"dfkdsdhsjkfhjkhdadss\"} style={{position: \"relative\"}}>\r\n                <Avatar {...props} />\r\n                <Text {...props} setOpen={setOpen} reValue={reValue} />\r\n                {\r\n                    props?.sender?._id === Cookies.get(\"uid\") && \r\n                    <div style={{position: \"relative\"}}>\r\n                        {open=== true && <OptionComponentMessage recallMessage={recallMessage} removeMessage={removeMessage} sender={props?.sender?._id} me={Cookies.get(\"uid\")} />}\r\n                    </div>\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n   \r\n}\r\n\r\nconst OptionComponentMessage= (props)=> {\r\n    if(props?.sender === props?.me) {\r\n        return (\r\n            <div className={\"fdkdjskjfkgsdA\"} style={{alignSelf: \"center\", background: \"#f2f0f5\", borderRadius: 5, padding: 10,gap: 10, display: \"flex\", justifyContent:\" center\", alignItems: \"center\", position: \"absolute\",right: \"100%\", top: \"50%\", transform: \"translate(-50%, 0)\"}}>\r\n                <div onClick={props?.recallMessage} title={\"Thu hồi\"} style={{display: \"flex\", justifyContent: \"center\", alignItems: \"center\", cursor: \"pointer\"}}>\r\n                    <IoIosRemoveCircle style={{width: 18, height: 18}} />\r\n                </div>\r\n                <div onClick={props?.removeMessage} title={\"Gỡ bỏ\"} style={{display: \"flex\", justifyContent: \"center\", alignItems: \"center\", cursor: \"pointer\"}} >\r\n                    <MdDelete style={{width: 18, height: 18}} />\r\n                </div>\r\n            </div>\r\n        )\r\n\r\n    }\r\n    else {\r\n        return (\r\n            <div className={\"fdkdjskjfkgsdA\"} style={{alignSelf: \"center\", background: \"#f2f0f5\", borderRadius: 5, padding: 10,gap: 10, display: \"flex\", justifyContent:\" center\", alignItems: \"center\", position: \"absolute\",left: \"100%\", top: \"50%\", transform: \"translate(50%, 0)\"}}>\r\n                <div onClick={props?.recallMessage} title={\"Thu hồi\"} style={{display: \"flex\", justifyContent: \"center\", alignItems: \"center\", cursor: \"pointer\"}}>\r\n                    <IoIosRemoveCircle style={{width: 18, height: 18}} />\r\n                </div>\r\n                <div onClick={props?.removeMessage} title={\"Gỡ bỏ\"} style={{display: \"flex\", justifyContent: \"center\", alignItems: \"center\", cursor: \"pointer\"}} >\r\n                    <MdDelete style={{width: 18, height: 18}} />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst Avatar= (props)=> {\r\n    return (\r\n        <div className={\"fdjfskjfdkjdkasjkssa\"} style={{display: \"flex\", justifyContent: \"center\", alignItems: \"center\"}}>\r\n            <img src={props?.sender?.profilePicture || \"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png\"} alt=\"\" style={{width: 48, height: 48, borderRadius: '50%', objectFit: \"cover\"}} />\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Text= (props)=> {\r\n    return (\r\n        <div className={`fjkdjskfhjkdsajkaas ${props?.sender?._id === Cookies.get(\"uid\") ? \"sjfshjkaljsaasasarseas\" : \"ayuehajkshakjfhdasas\"}`}>\r\n            {\r\n                props?.reValue && props?.keyId === props?.reValue?.keyId ? <>\r\n                {\r\n                    <div className={\"fjdkdjskjaskjasasas\"} style={{maxWidth: \"100%\", wordBreak: \"break-word\"}}>{props?.reValue?.message}</div>\r\n                }\r\n                </> \r\n                :\r\n                <>\r\n                {\r\n                    props?.type_message=== \"text\" && <div className={\"fjdkdjskjaskjasasas\"} style={{maxWidth: \"100%\", wordBreak: \"break-word\"}}>{props?.message}</div>\r\n                }\r\n                {\r\n                    props?.type_message=== \"image\" && <Link to={\"/media/\"+ props?.keyId}>\r\n                        <img alt={\"\"} src={props?.message} className={\"fjdkdjskjaskjasasas\"} style={{maxWidth: \"100%\", height: \"auto\", aspectRatio: 16 / 9, borderRadius: 5}} />\r\n                    </Link>\r\n                }\r\n                {\r\n                    props?.type_message=== \"file\" && <a style={{textDecoration: \"none\"}} rel=\"noreferrer\"  target={\"_blank\"} href={props?.message}>\r\n                        <div style={{wordBreak: \"break-all\", color: \"#fff\", textAlign: \"left\", textDecoration: \"underline\"}}>{props?.name_file}</div>\r\n                    </a>\r\n                }\r\n                {\r\n                    props?.type_message=== \"audio\" && <audio src={props?.message} controls={true}></audio>\r\n                }\r\n                {\r\n                    props?.type_message=== \"like\" && <AiFillLike size={100} color={\"#2e89ff\"} />\r\n                }\r\n                {\r\n                    props?.type_message=== \"text_to_voice\" && <CompoentViewTextToVoice {...props} />\r\n                }\r\n            </>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nconst CompoentViewTextToVoice= (props)=> {\r\n    const refAudio= useRef()\r\n    const [autoplay, setAutoplay]= useState(props?.autoplaying)\r\n    useEffect(()=> {\r\n        setAutoplay(()=> props?.autoplaying)\r\n    }, [props?.autoplaying])\r\n\r\n    useEffect(()=> {\r\n        \r\n        if(autoplay=== 0 && props?.sender?._id !== Cookies.get(\"uid\")) {\r\n            const timeout= setTimeout(()=> {\r\n                refAudio.current.play()\r\n            }, 1000)\r\n            const timeout2= setTimeout(()=> {\r\n                setAutoplay(()=> 1)\r\n            }, 1000)\r\n            return ()=> {\r\n                clearTimeout(timeout)\r\n                clearTimeout(timeout2)\r\n            }\r\n        }\r\n\r\n    }, [])\r\n    return (\r\n        <>\r\n            <div onClick={()=> refAudio.current.play()} className={\"yhsihdukhdkshdasas\"} style={{maxWidth: \"100%\", wordBreak: \"break-word\", background: \"#ffb300\", padding: 5, borderRadius: 5, cursor: \"pointer\"}}>{props?.extend_text}</div>\r\n            <audio ref={refAudio} controls={false} src={props?.message} />\r\n        </>\r\n    )\r\n}","import React from 'react'\r\nimport \"./style.sass\"\r\n\r\nconst TypingEffect = (props) => {\r\n  return (\r\n    <div className={\"dksfjkdjfkjdaskss\"} style={{display: \"flex\", alignItems: \"center\", gap: 10., position: \"absolute\", bottom: \"100%\", left: 0, zIndex: 10, padding: 5, background: \"#fff\"}}>\r\n        <div>{props.userTyping} đang nhập</div>\r\n      <div className=\"ticontainer\">\r\n        <div className=\"tiblock\">\r\n            <div className=\"tidot\"></div>\r\n            <div className=\"tidot\"></div>\r\n            <div className=\"tidot\"></div>\r\n        </div>\r\n        </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default TypingEffect\r\n","import axios from \"axios\"\r\nimport Cookies from \"js-cookie\"\r\nimport { SERVER_URL } from \"../../config/config\"\r\n\r\nconst post_message= async (sender, conversation, key, message, roomId, type_message, name_file, extend_text)=> {\r\n    const res= await axios({\r\n        url: SERVER_URL+ \"/api/messages\",\r\n        method: \"post\",\r\n        data: {\r\n            sender, conversation, key, message, roomId, type_message, name_file, extend_text\r\n        },\r\n        headers: {\r\n            \"authorization\": \"Bearer \"+ Cookies.get(\"accessToken\")\r\n        }\r\n    })\r\n    const result= await res.data\r\n    return (result)\r\n\r\n}\r\n\r\nexport default post_message","import axios from \"axios\"\r\nimport Cookies from \"js-cookie\"\r\nimport { SERVER_URL } from \"../../config/config\"\r\n\r\nconst update_last_conversation_id = async (idConversation) => {\r\n    const res= await axios({\r\n        url: SERVER_URL+ \"/api/users/update/last/conversation/\"+ Cookies.get(\"uid\"),\r\n        data: {\r\n            idConversation\r\n        },\r\n        method: \"post\",\r\n        headers: {\r\n            \"authorization\": \"Bearer \"+ Cookies.get(\"accessToken\")\r\n        }\r\n    })\r\n    const result= await res.data\r\n    return result\r\n}\r\n\r\nexport default update_last_conversation_id","import axios from \"axios\"\r\nimport Cookies from \"js-cookie\"\r\nimport { SERVER_URL } from \"../../config/config\"\r\n\r\nconst send_voice= async (data)=> {\r\n    const res= await axios({\r\n        url: SERVER_URL+ \"/api/conversations/upload/voice\",\r\n        method: \"post\",\r\n        headers: {\r\n            \"authorization\": \"Bearer \"+ Cookies.get(\"accessToken\"),\r\n            \"Content-Type\": \"multipart/form-data\"\r\n        },\r\n        data: data\r\n    })\r\n    const result= await res.data\r\n    return result\r\n}\r\n\r\nexport default send_voice","import Cookies from \"js-cookie\";\r\nimport React from \"react\";\r\nimport { AudioRecorder } from \"react-audio-voice-recorder\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport send_voice from \"../../../api/coversation/send_voice\";\r\n// import { uploadVoiceClient } from \"../../../firebase/config\";\r\nimport \"./SendVoice.sass\"\r\n\r\nconst SendVoice = (props) => {\r\n\r\n  const addAudioElement = async (blob) => {\r\n    const formData= new FormData()\r\n    formData.append(\"voice\", blob)\r\n    const {voice}= await send_voice(formData)\r\n    const audio = document.createElement(\"audio\");\r\n    audio.src = voice;\r\n    props?.sendVoiceMessage(voice)\r\n  }\r\n  return (\r\n    <div style={{position: \"relative\"}}>\r\n      <AudioRecorder\r\n        onRecordingComplete={(blob) => addAudioElement(blob)}\r\n        recorderControls={props?.recorderControls}\r\n        classes={\"audio-record\"}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SendVoice;\r\n","import React, { useContext } from 'react'\r\nimport { memo } from 'react'\r\nimport {AiFillFileAdd } from \"react-icons/ai\"\r\nimport {BsCardImage } from \"react-icons/bs\"\r\nimport { useParams } from 'react-router-dom'\r\nimport { v4 } from 'uuid'\r\nimport { AppContext } from '../../../App'\r\nimport { SocketContainerContext } from '../../../SocketContainer/SocketContainer'\r\nimport {uploadImageClient} from \"../../../firebase/config\"\r\nimport post_message from '../../../api/message/post_message'\r\nimport Cookies from 'js-cookie'\r\nimport update_last_conversation_id from '../../../api/coversation/update_last_conversation_id'\r\nimport {MdKeyboardVoice} from \"react-icons/md\"\r\nimport { useAudioRecorder } from 'react-audio-voice-recorder'\r\nimport SendVoice from './SendVoice'\r\n// import { useState } from 'react'\r\n\r\nconst ChooseFile = (props) => {\r\n  const recorderControls = useAudioRecorder();\r\n  const {socketState}= useContext(SocketContainerContext)\r\n  const {data }= useContext(AppContext)\r\n  const {idConversation }= useParams()\r\n  // send image\r\n  const sendImage= async (e)=> {\r\n    const messageImg= await uploadImageClient(e.target.files[0])\r\n    socketState.emit(\"message_from_client\", {message: messageImg, roomId: idConversation, sender: data, type_message: \"image\", key: v4(), createdAt: new Date()})\r\n    post_message(Cookies.get(\"uid\"), idConversation, v4(), messageImg, idConversation, \"image\")\r\n    update_last_conversation_id(idConversation)\r\n  }\r\n  // send file\r\n  const sendFile= async (e)=> {\r\n    const messageImg= await uploadImageClient(e.target.files[0])\r\n    socketState.emit(\"message_from_client\", {message: messageImg, roomId: idConversation, sender: data, type_message: \"file\", key: v4(),name_file: e.target.files[0].name, createdAt: new Date()})\r\n    post_message(Cookies.get(\"uid\"), idConversation, v4(), messageImg, idConversation, \"file\", e.target.files[0].name )\r\n    update_last_conversation_id(idConversation)\r\n  }\r\n  // send voice message\r\n  const sendVoiceMessage= async(url)=>{\r\n    socketState.emit(\"message_from_client\", {message: url, roomId: idConversation, sender: data, type_message: \"audio\", key: v4(), createdAt: new Date()})\r\n    post_message(Cookies.get(\"uid\"), idConversation, v4(), url, idConversation, \"audio\", \"\" )\r\n  \r\n  }\r\n  return (\r\n    <div className={\"jfdskajdfkdfjkdasa\"} style={{display: \"flex\", justifyContent: \"center\", alignItems: 'center', gap: 10, paddingRight: 16}}>\r\n        <div title={\"Chọn ảnh\"} style={{width: 36, height: 36, borderRadius: \"50%\", border: \"1px solid #d7d7d7\", display: \"flex\", justifyContent: \"center\", alignItems: \"center\", position: \"relative\"}}>\r\n          <BsCardImage color={\"#555\"} />\r\n          <input onChange={sendImage} type=\"file\" className={\"dfjfjskfdjdkadfdsd\"} style={{width: \"100%\", height: \"100%\", opacity: 0, position: \"absolute\", top: 0, left: 0, cursor: \"pointer\"}} />\r\n        </div>\r\n        <div title={\"Chọn file\"} style={{width: 36, height: 36, borderRadius: \"50%\", border: \"1px solid #d7d7d7\", display: \"flex\", justifyContent: \"center\", alignItems: \"center\", position: \"relative\"}}>\r\n          <AiFillFileAdd color={\"#555\"} />\r\n          <input onChange={sendFile} type=\"file\" className={\"dfjfjskfdjdkadfdsd\"} style={{width: \"100%\", height: \"100%\", opacity: 0, position: \"absolute\", top: 0, left: 0, cursor: \"pointer\"}} />\r\n        </div>\r\n        <div title={\"Gửi audio\"} style={{width: 36, height: 36, borderRadius: \"50%\", border: \"1px solid #d7d7d7\", display: \"flex\", justifyContent: \"center\", alignItems: \"center\", position: \"relative\"}}>\r\n          <MdKeyboardVoice color={\"#555\"} style={{width: 16, height: 16}} />\r\n          <button onClick={recorderControls.startRecording} type=\"file\" className={\"dfjfjskfdjdkadfdsd\"} style={{width: \"100%\", height: \"100%\", opacity: 0, position: \"absolute\", top: 0, left: 0, cursor: \"pointer\"}}>\r\n          </button>          \r\n          <SendVoice sendVoiceMessage={sendVoiceMessage} recorderControls={recorderControls} />\r\n        </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default memo(ChooseFile)\r\n","import React, { useContext } from 'react'\r\nimport { memo } from 'react'\r\nimport { useParams } from 'react-router-dom'\r\nimport { AppContext } from '../../../App'\r\nimport { SocketContainerContext } from '../../../SocketContainer/SocketContainer'\r\n\r\nconst TypingText = (props) => {\r\n  const {socketState}= useContext(SocketContainerContext)\r\n  const {data }= useContext(AppContext)\r\n  const {idConversation }= useParams()\r\n  const f= (e)=> {\r\n    props.setContentText(e.target.value)\r\n    if(e.target.value?.length === 1) {\r\n      socketState.emit(\"typing_from_client_on\", {roomId: idConversation, data, typing: true})\r\n    }\r\n    else if(e.target.value?.length <= 0) {\r\n      socketState.emit(\"typing_from_client_off\", {roomId: idConversation, data, typing: false})\r\n    }\r\n    \r\n  }\r\n  return (\r\n    <div className={\"fjdkfjkdjdkjskds\"} style={{flex: \"1 1 0\", display: \"flex\", justifyContent:\" center\", alignItems: \"center\"}}>\r\n      <input onKeyUp={(e)=> {\r\n        if(e.key=== \"Enter\") {\r\n          if(e.target.value.trim().length > 0) {\r\n            props?.sendMessage()\r\n          }\r\n        }\r\n      }} onChange={f} value={props.contentText} type=\"text\" style={{width: \"100%\", height: 40, outlineColor: \"#2e89ff\", border: \"1px solid #e7e7e7\", borderRadius: 80, padding: 10}} placeholder={\"Nhập tin nhắn...\"} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default memo(TypingText)\r\n","import axios from \"axios\"\r\nimport { SERVER_URL } from \"../../config/config\"\r\nimport Cookies from \"js-cookie\"\r\n\r\nconst text_to_voice= async (text)=> {\r\n    const res= await axios({\r\n        url: SERVER_URL+ \"/api/conversations/send/text-to-voice\",\r\n        method: \"post\",\r\n        data: {\r\n            text\r\n        },\r\n        headers: {\r\n            \"authorization\": \"Bearer \"+ Cookies.get(\"accessToken\")\r\n        }\r\n    })\r\n    const result= await res.data\r\n    return result?.voice\r\n}\r\n\r\nexport default text_to_voice","import Cookies from 'js-cookie'\r\nimport React from 'react'\r\nimport { useContext } from 'react'\r\nimport { memo } from 'react'\r\nimport { Button } from 'react-bootstrap'\r\nimport { useParams } from 'react-router-dom'\r\nimport { v4 } from 'uuid'\r\nimport update_last_conversation_id from '../../../api/coversation/update_last_conversation_id'\r\nimport post_message from '../../../api/message/post_message'\r\nimport { AppContext } from '../../../App'\r\nimport { SocketContainerContext } from '../../../SocketContainer/SocketContainer'\r\nimport TypingText from './TypingText'\r\nimport {RiVoiceprintLine } from \"react-icons/ri\"\r\nimport text_to_voice from '../../../api/message/text_to_voice'\r\n\r\nconst SendButton = (props) => {\r\n  const {socketState}= useContext(SocketContainerContext)\r\n  const {data }= useContext(AppContext)\r\n  const {idConversation }= useParams()\r\n  const sendMessage= ()=> {\r\n    socketState.emit(\"message_from_client\", {message: props.contentText, roomId: idConversation, sender: data, type_message: \"text\", key: v4(), createdAt: new Date()})\r\n    socketState.emit(\"typing_from_client_off\", {roomId: idConversation, data, typing: false})\r\n    post_message(Cookies.get(\"uid\"), idConversation, v4(), props.contentText, idConversation, \"text\")\r\n    update_last_conversation_id(idConversation)\r\n    props.setContentText(()=> \"\")\r\n    props?.sendNewMessage()\r\n  }\r\n  const sendMessageTextToVoice= async ()=> {\r\n    if(props?.contentText.length > 0) {\r\n      const voiceResult= await text_to_voice(props?.contentText)\r\n      socketState.emit(\"message_from_client\", {message: voiceResult, roomId: idConversation, sender: data, type_message: \"text_to_voice\", key: v4(), createdAt: new Date(), extend_text: props?.contentText, autoplaying: 0})\r\n      socketState.emit(\"typing_from_client_off\", {roomId: idConversation, data: data, typing: false})\r\n      post_message(Cookies.get(\"uid\"), idConversation, v4(), voiceResult, idConversation, \"text_to_voice\", \"\", props?.contentText)\r\n      update_last_conversation_id(idConversation)\r\n      props?.setContentText(()=> \"\")\r\n      props?.sendNewMessage()\r\n    }\r\n}\r\n  return (\r\n    <>\r\n      <TypingText {...props} sendMessage={sendMessage} />\r\n      {\r\n        data?.isDeaf=== true &&\r\n        <div title={\"Send text voice\"} className={\"dfjdkdjskjkdjkgfljdadsas\"}  style={{display: \"flex\", justifyContent: \"center\", alignItems: 'center', gap: 10, paddingLeft: 16}}>\r\n          <Button onClick={()=> {\r\n            sendMessageTextToVoice()\r\n            props?.newestMessage()\r\n          }} variant={\"primary\"}>\r\n            <RiVoiceprintLine />\r\n          </Button>\r\n        </div>\r\n      }\r\n      <div className={\"dfjdkdjskjkdjkgfljdadsas\"}  style={{display: \"flex\", justifyContent: \"center\", alignItems: 'center', gap: 10, paddingLeft: 16}}>\r\n        <Button onClick={()=> {\r\n          sendMessage()\r\n          props?.newestMessage()\r\n        }} disabled={props?.contentText?.length > 0 ? false : true } variant={\"primary\"}>Gửi</Button>\r\n      </div>\r\n\r\n    </>\r\n  )\r\n}\r\n\r\nexport default memo(SendButton)","import { memo, useContext, useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { SocketContainerContext } from \"../../../SocketContainer/SocketContainer\";\r\nimport TypingEffect from \"../../TypingEffect/TypingEffect\";\r\nimport ChooseFile from \"./ChooseFile\";\r\nimport SendButton from \"./SendButton\";\r\n// import TypingText from \"./TypingText\";\r\n\r\nconst BottomSection = memo((props) => {\r\n    const {idConversation }= useParams()\r\n    const [typing, setTyping] = useState(false);\r\n    const [userTyping, setUserTyping] = useState();\r\n    const { socketState } = useContext(SocketContainerContext);\r\n    const [unSeenMessage, setUnSeenMessage]= useState(()=> 0)\r\n    useEffect(() => {\r\n      socketState.on(\"broadcast_to_all_user_in_room_typing\", (data) => {\r\n        setTyping(data.data.typing);\r\n        setUserTyping(data.data.data.username);\r\n      });\r\n    }, [socketState]);\r\n    const sendNewMessage= ()=> {\r\n      setUnSeenMessage(prev=> parseInt(prev) + 1)\r\n      socketState.emit(\"send_new_message\", {roomId: idConversation, idConversation, unSeenMessage: parseInt(unSeenMessage) + 1})\r\n    }\r\n    const newestMessage= ()=> {\r\n      socketState.emit(\"update_newest_message\", {roomId: idConversation, lastUpdate: new Date().toLocaleString(\"en-US\", { timeZone: 'Asia/Ho_Chi_Minh' })})\r\n    }\r\n    return (\r\n      <div\r\n        className={\"fjdkjgjdksdjdksa\"}\r\n        style={{\r\n          width: \"100%\",\r\n          height: 68,\r\n          padding: 16,\r\n          borderTop: \"1px solid #d7d7d7\",\r\n          display: \"flex\",\r\n          justifyContent: \"space-between\",\r\n          alignItems: \"center\",\r\n          position: \"relative\",\r\n        }}\r\n      >\r\n        <ChooseFile {...props} />\r\n        {/* <TypingText {...props} /> */}\r\n        <SendButton newestMessage={newestMessage} sendNewMessage={sendNewMessage} {...props} />\r\n        {typing === true && <TypingEffect userTyping={userTyping} />}\r\n      </div>\r\n    );\r\n  });\r\n\r\n  export default BottomSection","import axios from \"axios\"\r\nimport Cookies from \"js-cookie\"\r\nimport { SERVER_URL } from \"../../config/config\"\r\n\r\nconst get_friend_status= async (idUser)=> {\r\n    const res= await axios({\r\n        url: `${SERVER_URL}/api/users/request/status/`+ idUser,\r\n        method: \"get\",\r\n        params: {\r\n            userId: Cookies.get(\"uid\")\r\n        },\r\n        headers: {\r\n            \"authorization\": \"Bearer \"+ Cookies.get(\"accessToken\")\r\n        }\r\n    })\r\n    const result= await res.data\r\n    return result\r\n}\r\n\r\nexport default get_friend_status","import axios from \"axios\"\r\nimport Cookies from \"js-cookie\"\r\nimport { SERVER_URL } from \"../../config/config\"\r\n\r\nconst cancel_request_make_friend_from_me = async (id, setChange) => {\r\n    const res= await axios({\r\n        url: `${SERVER_URL}/api/users/cancel-add-friend/${id}`,\r\n        method: \"post\",\r\n        headers: {\r\n            \"authorization\": \"Bearer \"+ Cookies.get(\"accessToken\")\r\n        },\r\n        data: {\r\n            userId: Cookies.get(\"uid\")\r\n        }\r\n    })\r\n    const result= await res.data\r\n    return setChange(prev=> !prev)\r\n}\r\n\r\nexport default cancel_request_make_friend_from_me\r\n","import axios from \"axios\"\r\nimport Cookies from \"js-cookie\"\r\nimport { SERVER_URL } from \"../../config/config\"\r\n\r\nconst accpet_add_friends = async (id, setData) => {\r\n    const res =await axios({\r\n        url: SERVER_URL+ \"/api/users/accept-add-friend/\"+ id,\r\n        method: \"post\",\r\n        data: {\r\n            userId: Cookies.get(\"uid\")\r\n        },\r\n        headers: {\r\n            \"authorization\": \"Bearer \"+ Cookies.get(\"accessToken\")\r\n        }\r\n    })\r\n    const result= await res.data\r\n    console.log(result)\r\n    return setData(\"Các bạn hiện đã trở thành bạn bè của nhau\")\r\n}\r\n\r\nexport default accpet_add_friends\r\n","import axios from \"axios\"\r\nimport Cookies from \"js-cookie\"\r\nimport { SERVER_URL } from \"../../config/config\"\r\n\r\nconst denied_request_friends = async (id, setData) => {\r\n    const res =await axios({\r\n        url: SERVER_URL+ \"/api/users/denied-add-friend/\"+ id,\r\n        method: \"post\",\r\n        data: {\r\n            userId: Cookies.get(\"uid\")\r\n        },\r\n        headers: {\r\n            \"authorization\": \"Bearer \"+ Cookies.get(\"accessToken\")\r\n        }\r\n    })\r\n    const result= await res.data\r\n    console.log(result)\r\n    return setData(\"Đã từ chối lời mời kết bạn\")\r\n}\r\n\r\nexport default denied_request_friends\r\n","import Cookies from \"js-cookie\";\r\nimport React, {\r\n  useMemo,\r\n  useState,\r\n  useEffect,\r\n  memo,\r\n  Fragment,\r\n  useContext,\r\n} from \"react\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { GrClose } from \"react-icons/gr\";\r\nimport OutsideClickHandler from \"react-outside-click-handler\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport add_member_to_group from \"../../api/coversation/add_member_to_group\";\r\nimport get_conversation_friends from \"../../api/coversation/get_conversation_friends\";\r\nimport out_group from \"../../api/coversation/out_group\";\r\nimport send_request_make_friend_by_me from \"../../api/friend/send_request_make_friend_by_me\";\r\nimport get_message_conversationid from \"../../api/message/get_message_conversationid\";\r\nimport search_user_by_phone from \"../../api/search_user_by_phone\";\r\nimport { AppContext } from \"../../App\";\r\nimport { SocketContainerContext } from \"../../SocketContainer/SocketContainer\";\r\nimport Avatar from \"../Home/Avatar\";\r\nimport CoverPhoto from \"../Home/CoverPhoto\";\r\nimport { NameProfile, ProfileInfo } from \"../Home/DetailProfile\";\r\nimport { ListFriendComponent } from \"../SearchAndList/ListFriend\";\r\nimport ContentConversation from \"./CenterSection/CenterSection\";\r\nimport { BsFillCameraVideoFill, BsThreeDots } from \"react-icons/bs\";\r\nimport { MdCall, MdCallEnd } from \"react-icons/md\";\r\nimport { v4 } from \"uuid\";\r\nimport { HomeContext } from \"../Home/Home\";\r\nimport { useRef } from \"react\";\r\nimport unfriend from \"../../api/friend/unfriend\";\r\nimport BottomSection from \"./BottomSection/BottomSection\";\r\nimport get_friend_status from \"../../api/friend/request_status\";\r\nimport cancel_request_make_friend_from_me from \"../../api/friend/cancel_request_make_friend_from_me\";\r\nimport accpet_add_friends from \"../../api/friend/accpet_add_friends\";\r\nimport denied_request_friends from \"../../api/friend/denied_request_friends\";\r\n\r\nconst MainChat = (props) => {\r\n  const refScroll = useRef();\r\n  const query = useMemo(\r\n    () => ({\r\n      page: 1,\r\n      limit: 9,\r\n    }),\r\n    []\r\n  );\r\n  const { socketState } = useContext(SocketContainerContext);\r\n  const { idConversation } = useParams();\r\n  // useEffect(() => {\r\n  //   socketState.emit(\"join_room_conversation\", { roomId: idConversation });\r\n  // }, [socketState, idConversation]);\r\n\r\n  const [contentText, setContentText] = useState(() => \"\");\r\n  const [listMessage, setListMessage] = useState(() => []);\r\n  useEffect(() => {\r\n    get_message_conversationid(idConversation, setListMessage, query);\r\n  }, [idConversation, query]);\r\n\r\n  useEffect(() => {\r\n    socketState.on(\"broadcast_to_all_user_in_room\", (data) => {\r\n      setListMessage((prev) => [...prev, data]);\r\n     \r\n    });\r\n  }, [socketState]);\r\n  return (\r\n    <div className={\"jdahdjksdhjashasjfda\"} style={{ flex: \"1 1 0\" }}>\r\n      <div\r\n        className={\"fjskdjkfjdkjadkjsas\"}\r\n        style={{ width: \"100%\", height: \"100%\", maxHeight: \"100vh\" }}\r\n      >\r\n        <TitleMainChat\r\n          setCallId={props?.setCallId}\r\n          setIsCall={props?.setIsCall}\r\n          isCall={props?.isCall}\r\n          setExtend={props?.setExtend}\r\n          setChange={props?.setChange}\r\n          {...props?.conversation}\r\n          avtChat={props?.conversation?.imageGroup}\r\n          name={props?.conversation?.label}\r\n          setVideo={props?.setVideo}\r\n          setAudio={props?.setAudio}\r\n        />\r\n        {/*  */}\r\n        \r\n        <ContentConversation refScroll={refScroll} listMessage={listMessage} />\r\n\r\n        {/*  */}\r\n\r\n        <BottomSection\r\n          refScroll={refScroll}\r\n          contentText={contentText}\r\n          setContentText={setContentText}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const TitleMainChat = memo((props) => {\r\n  const [open, setOpen] = useState(false);\r\n  const { socketState } = useContext(SocketContainerContext);\r\n  const { setInComingCall } = useContext(HomeContext);\r\n  const callId = useMemo(() => v4().replaceAll(\"-\", \"\"), []);\r\n  const { data } = useContext(AppContext);\r\n  useEffect(() => {\r\n    socketState.on(\"end_call_from_sender\", () => {\r\n      setInComingCall(() => false);\r\n    });\r\n  }, [socketState, setInComingCall]);\r\n  return (\r\n    <div\r\n      className={\"fdjdhsdjkvhsjkhaassa\"}\r\n      style={{\r\n        width: \"100%\",\r\n        height: 60,\r\n        borderBottom: \"1px solid #e7e7e7\",\r\n        padding: \"0 16px\",\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"space-between\",\r\n      }}\r\n    >\r\n      <div\r\n        className={\"fkjdjkdjdkjdkssa\"}\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n          gap: 10,\r\n          cursor: \"pointer\",\r\n        }}\r\n        onClick={() => setOpen((prev) => !prev)}\r\n      >\r\n        <img\r\n          src={\r\n            props.imageGroup\r\n              ? props.imageGroup\r\n              : props?.member?.filter(\r\n                  (item) => item?._id !== Cookies.get(\"uid\")\r\n                )?.[0]?.profilePicture?.length > 0\r\n              ? props?.member?.filter(\r\n                  (item) => item?._id !== Cookies.get(\"uid\")\r\n                )?.[0]?.profilePicture\r\n              : \"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png\"\r\n          }\r\n          alt=\"Can't open\"\r\n          style={{\r\n            width: 48,\r\n            height: 48,\r\n            borderRadius: \"50%\",\r\n            objectFit: \"cover\",\r\n            border: \"1px solid #d7d7d7\",\r\n          }}\r\n        />\r\n        <div\r\n          className={\"fjsdhjgjkdksdas\"}\r\n          style={{ fontWeight: 600, fontSize: 18 }}\r\n        >\r\n          {props.label\r\n            ? props.label\r\n            : props?.member?.filter(\r\n                (item) => item?._id !== Cookies.get(\"uid\")\r\n              )?.[0]?.username}\r\n        </div>\r\n        {open === true && (\r\n          <PopupAddFriends\r\n            is_show_info_group={true}\r\n            open={open}\r\n            setOpen={setOpen}\r\n            socketState={socketState}\r\n            {...props}\r\n          />\r\n        )}\r\n      </div>\r\n      {/* call */}\r\n      <div\r\n        className={\"fjskdjskdfjsksd\"}\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n          gap: 30,\r\n        }}\r\n      >\r\n        {/* end call */}\r\n        {props?.isCall === true && (\r\n          <>\r\n            <div\r\n              onClick={() => {\r\n                props?.setIsCall(() => false);\r\n                socketState.emit(\"sender_end_call\", { call_id: callId });\r\n              }}\r\n              title={\"Kết thúc cuộc gọi\"}\r\n              style={{\r\n                display: \"flex\",\r\n                justifyContent: \"center\",\r\n                alignItems: \"center\",\r\n                width: 40,\r\n                height: 40,\r\n                background: \"#f2f0f5\",\r\n                borderRadius: \"50%\",\r\n                cursor: \"pointer\",\r\n              }}\r\n            >\r\n              <MdCallEnd style={{ width: 24, height: 24 }} />\r\n            </div>\r\n          </>\r\n        )}\r\n\r\n        {props?.isCall === false && (\r\n          <>\r\n            <div\r\n              onClick={() => {\r\n                props?.setAudio(() => true);\r\n                props?.setVideo(() => false);\r\n                socketState.emit(\"start_call\", {\r\n                  call_id: callId,\r\n                  user_to_call: props?.member?.filter(\r\n                    (item) => item?._id !== Cookies.get(\"uid\")\r\n                  )?.[0]?._id,\r\n                  senderInfo: {\r\n                    profilePicture: data?.profilePicture,\r\n                    username: data?.username,\r\n                  },\r\n                });\r\n                props?.setIsCall(() => true);\r\n                props?.setCallId(() => callId);\r\n              }}\r\n              title={\"Bắt đầu một cuộc gọi audio\"}\r\n              style={{\r\n                display: \"flex\",\r\n                justifyContent: \"center\",\r\n                alignItems: \"center\",\r\n                width: 40,\r\n                height: 40,\r\n                background: \"#f2f0f5\",\r\n                borderRadius: \"50%\",\r\n                cursor: \"pointer\",\r\n              }}\r\n            >\r\n              <MdCall style={{ width: 24, height: 24 }} />\r\n            </div>\r\n            <div\r\n              onClick={() => {\r\n                props?.setAudio(() => true);\r\n                props?.setVideo(() => true);\r\n                socketState.emit(\"start_call\", {\r\n                  call_id: callId,\r\n                  user_to_call: props?.member?.filter(\r\n                    (item) => item?._id !== Cookies.get(\"uid\")\r\n                  )?.[0]?._id,\r\n                  senderInfo: {\r\n                    profilePicture: data?.profilePicture,\r\n                    username: data?.username,\r\n                  },\r\n                });\r\n                props?.setIsCall(() => true);\r\n                props?.setCallId(() => callId);\r\n              }}\r\n              title={\"Bắt đầu một cuộc gọi video\"}\r\n              style={{\r\n                display: \"flex\",\r\n                justifyContent: \"center\",\r\n                alignItems: \"center\",\r\n                width: 40,\r\n                height: 40,\r\n                background: \"#f2f0f5\",\r\n                borderRadius: \"50%\",\r\n                cursor: \"pointer\",\r\n              }}\r\n            >\r\n              <BsFillCameraVideoFill style={{ width: 24, height: 24 }} />\r\n            </div>\r\n          </>\r\n        )}\r\n        <div\r\n          onClick={() => props?.setExtend((prev) => !prev)}\r\n          title={\"Mở rộng\"}\r\n          style={{\r\n            display: \"flex\",\r\n            justifyContent: \"center\",\r\n            alignItems: \"center\",\r\n            width: 40,\r\n            height: 40,\r\n            background: \"#f2f0f5\",\r\n            borderRadius: \"50%\",\r\n            cursor: \"pointer\",\r\n          }}\r\n        >\r\n          <BsThreeDots style={{ width: 24, height: 24 }} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default MainChat;\r\n\r\nexport const PopupAddFriends = (props) => {\r\n  const [isFriend, setIsFriend] = useState();\r\n  const [isHostGroup, setIsHostGroup] = useState();\r\n  // eslint-disable-next-line\r\n  const [data2, setData2] = useState();\r\n  const { setChange, data } = useContext(AppContext);\r\n  useEffect(() => {\r\n    if (props.createdBy) {\r\n      if (Cookies.get(\"uid\") === props?.createdBy) {\r\n        setIsHostGroup(true);\r\n      } else {\r\n        setIsHostGroup(false);\r\n      }\r\n    }\r\n  }, [props?.createdBy]);\r\n  useEffect(() => {\r\n    if (props._id) {\r\n      get_conversation_friends(props._id, setData2);\r\n    }\r\n  }, [props._id]);\r\n  useEffect(() => {\r\n    if (data2?.duplicate === false) {\r\n      props?.socketState?.emit(\"send_request_friend\", {\r\n        destination_user_id: props?.member?.filter(\r\n          (item) => item?._id !== Cookies.get(\"uid\")\r\n        )?.[0]?._id,\r\n        sender_user_id: Cookies.get(\"uid\"),\r\n      });\r\n    }\r\n  }, [data2?.duplicate, props?.member, props?.socketState]);\r\n  useEffect(() => {\r\n    if (\r\n      data?.friends?.includes(\r\n        props?.member?.filter((item) => item?._id !== Cookies.get(\"uid\"))?.[0]\r\n          ?._id\r\n      ) === true\r\n    ) {\r\n      setIsFriend(() => true);\r\n    } else {\r\n      setIsFriend(() => false);\r\n    }\r\n  }, [data?.friends, props?.member]);\r\n  const [toAddMember, setToAddMember] = useState(false);\r\n  const [searchMember, setSearchMember] = useState(\"\");\r\n  const [dataSearchMember, setDataSearchMember] = useState();\r\n  // eslint-disable-next-line\r\n  // eslint-disable-next-line\r\n  const [resultAddMember, setResultAddMember] = useState();\r\n  // eslint-disable-next-line\r\n  const [friendsQueue, setFriendsQueue] = useState(data?.friendsQueue);\r\n  const [friendStatus, setFriendStatus] = useState();\r\n  const [toggleMakeFriend, setToggleMakeFriend] = useState(false);\r\n  const [messageRequest, setMessageRequest]= useState(\"Xin chào, tôi là \"+ data?.username)\r\n  // eslint-disable-next-line\r\n  const [profileUser, setProfileUser]= useState(props?.member?.filter((item) => item?._id !== Cookies.get(\"uid\"))?.[0])\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      const result = await get_friend_status(\r\n        props?.member?.filter((item) => item?._id !== Cookies.get(\"uid\"))?.[0]\r\n          ?._id\r\n      );\r\n      return setFriendStatus(result);\r\n    })();\r\n  }, [props?.member]);\r\n  return (\r\n    <div\r\n      className={\"fkjldsklkdsslaskdsaa\"}\r\n      style={{\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n        position: \"fixed\",\r\n        top: 0,\r\n        left: 0,\r\n        background: \"rgba(0 ,0 ,0,0.3)\",\r\n        zIndex: 12,\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n      }}\r\n    >\r\n      <OutsideClickHandler onOutsideClick={() => props.setOpen(() => false)}>\r\n        <div style={{overflow: \"hidden\", borderRadius: 10}}><div\r\n          className={\"fjlkdsjdkljsdklaskd\"}\r\n          style={{\r\n            padding: 16,\r\n            background: \"#fff\",\r\n            borderRadius: 5,\r\n            width: \"100vw\",\r\n            maxWidth: 450,\r\n            maxHeight: \"90vh\",\r\n            overflow: \"auto\"\r\n          }}\r\n          onClick={(e) => {\r\n            e.stopPropagation();\r\n          }}\r\n        >\r\n          {/* 1 vs 1 */}\r\n          <div style={{ width: \"100%\", height: \"100%\" }}>\r\n            <div\r\n              className={\"jdjadkjgkddssa\"}\r\n              style={{\r\n                width: \"100%\",\r\n                height: 68,\r\n                display: \"flex\",\r\n                justifyContent: \"space-between\",\r\n                alignItems: \"center\",\r\n              }}\r\n            >\r\n              <div\r\n                className={\"dkldjskldjkasdasa\"}\r\n                style={{ fontWeight: 600, fontSize: 18 }}\r\n              >\r\n                {props.label\r\n                  ? props.label\r\n                  : props?.member?.filter(\r\n                      (item) => item?._id !== Cookies.get(\"uid\")\r\n                    )?.[0]?.username}\r\n              </div>\r\n              <div\r\n                onClick={(e) => {\r\n                  e.stopPropagation();\r\n                  props?.setOpen(() => false);\r\n                }}\r\n                style={{\r\n                  display: \"flex\",\r\n                  justifyContent: \"center\",\r\n                  alignItems: \"center\",\r\n                  cursor: \"pointer\",\r\n                  padding: 10,\r\n                }}\r\n              >\r\n                <GrClose />\r\n              </div>\r\n            </div>\r\n            <CoverPhoto coverPhoto={props?.coverPhoto} />\r\n            <Avatar\r\n              avatar={\r\n                props.imageGroup\r\n                  ? props.imageGroup\r\n                  : props?.member?.filter(\r\n                      (item) => item?._id !== Cookies.get(\"uid\")\r\n                    )?.[0]?.profilePicture\r\n              }\r\n            />\r\n            <NameProfile\r\n              username={\r\n                props.label\r\n                  ? props.label\r\n                  : props?.member?.filter(\r\n                      (item) => item?._id !== Cookies.get(\"uid\")\r\n                    )?.[0]?.username\r\n              }\r\n            />\r\n            {\r\n              props?.member?.length <= 2 && <>\r\n                {\r\n                  toggleMakeFriend=== false && \r\n                  <ProfileInfo user={{gender: profileUser?.gender, phoneNumber: profileUser?.phoneNumber, address: profileUser?.address}} />\r\n                }\r\n              </>\r\n            }\r\n            <div\r\n              style={{\r\n                width: \"100%\",\r\n                display: \"flex\",\r\n                justifyContent: \"center\",\r\n                alignItems: \"center\",\r\n                gap: 16,\r\n              }}\r\n            >\r\n              {/* is friend */}\r\n              {isFriend === true &&\r\n                !props?.label &&\r\n                data?.friends?.includes(\r\n                  props?.member?.filter(\r\n                    (item) => item?._id !== Cookies.get(\"uid\")\r\n                  )?.[0]?._id\r\n                ) === true && (\r\n                  <Button\r\n                    onClick={() => {\r\n                      unfriend(\r\n                        props?.member?.filter(\r\n                          (item) => item?._id !== Cookies.get(\"uid\")\r\n                        )?.[0]?._id,\r\n                        setData2\r\n                      );\r\n                      window.location.reload();\r\n                    }}\r\n                    variant=\"primary\"\r\n                  >\r\n                    Hủy kết bạn\r\n                  </Button>\r\n                )}\r\n              {/* is not friend */}\r\n              {!props?.label &&\r\n                data?.friends?.includes(\r\n                  props?.member?.filter(\r\n                    (item) => item?._id !== Cookies.get(\"uid\")\r\n                  )?.[0]?._id\r\n                ) === false && (\r\n                  <>\r\n                    {/* Receive friend request */}\r\n                    {friendsQueue?.includes(\r\n                      props?.member?.filter(\r\n                        (item) => item?._id !== Cookies.get(\"uid\")\r\n                      )?.[0]?._id\r\n                    ) === true && (\r\n                      <>\r\n                        <Button\r\n                          disabled={data2?.duplicate === true ? true : false}\r\n                          onClick={() =>\r\n                            accpet_add_friends(\r\n                              props?.member?.filter(\r\n                                (item) => item?._id !== Cookies.get(\"uid\")\r\n                              )?.[0]?._id,\r\n                              setData2\r\n                            )\r\n                          }\r\n                          variant={\"primary\"}\r\n                        >\r\n                          {<>Chấp nhận</>}\r\n                        </Button>\r\n                        <Button\r\n                          disabled={data2?.duplicate === true ? true : false}\r\n                          onClick={() =>\r\n                            denied_request_friends(\r\n                              props?.member?.filter(\r\n                                (item) => item?._id !== Cookies.get(\"uid\")\r\n                              )?.[0]?._id,\r\n                              setData2\r\n                            )\r\n                          }\r\n                          variant={\"secondary\"}\r\n                        >\r\n                          {<>Từ chối</>}\r\n                        </Button>\r\n                      </>\r\n                    )}\r\n                    {friendStatus?.request === true &&\r\n                      friendStatus?.duplicate === true  && (\r\n                        <Button\r\n                          disabled={data2?.duplicate === true ? true : false}\r\n                          onClick={() => {\r\n                            setToggleMakeFriend(()=> false)\r\n                            setFriendStatus({\r\n                              request: false,\r\n                              duplicate: false,\r\n                            });\r\n                            cancel_request_make_friend_from_me(\r\n                              props?.member?.filter(\r\n                                (item) => item?._id !== Cookies.get(\"uid\")\r\n                              )?.[0]?._id,\r\n                              setChange\r\n                            );\r\n                          }}\r\n                          variant={\"secondary\"}\r\n                        >\r\n                          {<>Hủy lời mời</>}\r\n                        </Button>\r\n                      )}\r\n\r\n                    {/* are not friend */}\r\n\r\n                    {friendsQueue?.includes(\r\n                      props?.member?.filter(\r\n                        (item) => item?._id !== Cookies.get(\"uid\")\r\n                      )?.[0]?._id\r\n                    ) === false &&\r\n                      friendStatus?.request === false && (\r\n                        <>\r\n\r\n                          {\r\n                            toggleMakeFriend=== false && <Button\r\n                            disabled={data2?.duplicate === true ? true : false}\r\n                            onClick={() => {\r\n                              setToggleMakeFriend(()=> true)\r\n                            }}\r\n                            variant={\"primary\"}\r\n                          >\r\n                            {<>Thêm bạn bè</>}\r\n                          </Button>\r\n                          }\r\n                          {\r\n                            toggleMakeFriend=== true && <>\r\n                              <div style={{width: \"100%\"}}>\r\n                              <div style={{width: \"100%\", marginBottom: 12}}>\r\n                                <textarea autoFocus value={messageRequest} onChange={(e)=> setMessageRequest(e.target.value)} style={{width: \"100%\", fontSize: 16, padding: 10, resize: \"none\", border: \"1px solid #e7e7e7\", outlineColor: \"#2e89ff\", maxHeight: 200, overflow: \"auto\"}} rows={4} cols={4}>\r\n\r\n                                </textarea>\r\n                              </div>\r\n                              <div className={\"c-flex-center\"} style={{gap: 10}}>\r\n                              <Button\r\n                            disabled={data2?.duplicate === true ? true : false}\r\n                            onClick={() => {\r\n                              setFriendStatus({\r\n                                request: true,\r\n                                duplicate: true,\r\n                              });\r\n                              send_request_make_friend_by_me(\r\n                                props?.member?.filter(\r\n                                  (item) => item?._id !== Cookies.get(\"uid\")\r\n                                )?.[0]?._id,\r\n                                setData2\r\n                              );\r\n                            }}\r\n                            variant={\"primary\"}\r\n                          >\r\n                            {<>Kết bạn</>}\r\n                          </Button>\r\n                          <Button\r\n                            disabled={data2?.duplicate === true ? true : false}\r\n                            onClick={() => {\r\n                              setToggleMakeFriend(()=> false)\r\n                            }}\r\n                            variant={\"secondary\"}\r\n                          >\r\n                            {<>Hủy</>}\r\n                          </Button>\r\n                              </div>\r\n                              </div>\r\n                            </>\r\n                          }\r\n                        </>\r\n                      )}\r\n                  </>\r\n                )}\r\n            </div>\r\n\r\n            {/* host class */}\r\n            {props?.label && (\r\n              <>\r\n                <div\r\n                  style={{\r\n                    width: \"100%\",\r\n                    display: \"flex\",\r\n                    justifyContent: \"center\",\r\n                    alignItems: \"center\",\r\n                  }}\r\n                >\r\n                  <Button\r\n                    color={\"primary\"}\r\n                    onClick={(e) => {\r\n                      e.stopPropagation();\r\n                      setToAddMember(() => true);\r\n                    }}\r\n                  >\r\n                    Thêm thành viên\r\n                  </Button>\r\n                </div>\r\n                <br />\r\n                {toAddMember === true && (\r\n                  <div\r\n                    style={{\r\n                      width: \"100%\",\r\n                      display: \"flex\",\r\n                      justifyContent: \"center\",\r\n                      alignItems: \"center\",\r\n                      flexDirection: \"column\",\r\n                      gap: 12,\r\n                    }}\r\n                  >\r\n                    <input\r\n                      value={searchMember}\r\n                      onChange={(e) => setSearchMember(e.target.value)}\r\n                      onClick={(e) => e.stopPropagation()}\r\n                      type={\"text\"}\r\n                      style={{\r\n                        width: \"100%\",\r\n                        height: 40,\r\n                        borderRadius: 80,\r\n                        outlineColor: \"#2e89ff\",\r\n                        padding: 10,\r\n                      }}\r\n                      placeholder={\"Tìm số điện thoại người cần thêm\"}\r\n                    ></input>\r\n                    <br />\r\n                    <Button\r\n                      onClick={(e) => {\r\n                        e.stopPropagation();\r\n                        search_user_by_phone(searchMember, setDataSearchMember);\r\n                      }}\r\n                      color={\"primary\"}\r\n                    >\r\n                      Tìm\r\n                    </Button>\r\n                    {dataSearchMember && (\r\n                      <Fragment>\r\n                        <CoverPhoto coverPhoto={dataSearchMember?.coverPhoto} />\r\n                        <Avatar avatar={dataSearchMember?.profilePicture} />\r\n                        <NameProfile username={dataSearchMember?.username} />\r\n                        <div\r\n                          style={{\r\n                            width: \"100%\",\r\n                            display: \"flex\",\r\n                            justifyContent: \"center\",\r\n                            alignItems: \"center\",\r\n                            gap: 16,\r\n                          }}\r\n                        >\r\n                          <Button\r\n                            onClick={(e) => {\r\n                              e.stopPropagation();\r\n                              add_member_to_group(\r\n                                props?.id_conversation,\r\n                                dataSearchMember?._id,\r\n                                setResultAddMember\r\n                              );\r\n                            }}\r\n                            variant=\"primary\"\r\n                          >\r\n                            Thêm thành viên\r\n                          </Button>\r\n                        </div>\r\n                        <ProfileInfo user={dataSearchMember} />\r\n                        <br />\r\n                        <div\r\n                          style={{\r\n                            width: \"100%\",\r\n                            display: \"flex\",\r\n                            flexDirection: \"row-reverse\",\r\n                            alignItems: \"center\",\r\n                            gap: 16,\r\n                          }}\r\n                        >\r\n                          <Button onClick={() => {}} variant=\"primary\">\r\n                            Thêm\r\n                          </Button>\r\n                        </div>\r\n                      </Fragment>\r\n                    )}\r\n                  </div>\r\n                )}\r\n              </>\r\n            )}\r\n            {props?.label && (\r\n              <div style={{ width: \"100%\" }}>\r\n                <div\r\n                  style={{ fontWeight: 600, marginBottom: 8, width: \"100%\" }}\r\n                >\r\n                  Trưởng nhóm\r\n                </div>\r\n                <div\r\n                  style={{ width: \"100%\", maxHeight: 200, overflow: \"auto\" }}\r\n                >\r\n                  {props?.member\r\n                    ?.filter((item) => item?._id === props?.createdBy)\r\n                    ?.map((item, key) => (\r\n                      <ListMember\r\n                        setResult={props?.setChange}\r\n                        id_conversation={props?.id_conversation}\r\n                        my_id={Cookies.get(\"uid\")}\r\n                        createdBy={props?.createdBy}\r\n                        is_group={true}\r\n                        isHostGroup={isHostGroup}\r\n                        key={item?._id || key}\r\n                        {...item}\r\n                      ></ListMember>\r\n                    ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n            {/* member in class include me */}\r\n            {props?.label && (\r\n              <div style={{ width: \"100%\" }}>\r\n                <div\r\n                  style={{ fontWeight: 600, marginBottom: 8, width: \"100%\" }}\r\n                >\r\n                  Thành viên nhóm\r\n                </div>\r\n                <div\r\n                  style={{ width: \"100%\", maxHeight: 200, overflow: \"auto\" }}\r\n                >\r\n                  {props?.member\r\n                    ?.filter((item) => item?._id !== props?.createdBy)\r\n                    ?.map((item, key) => (\r\n                      <ListMember\r\n                        setResult={props?.setChange}\r\n                        id_conversation={props?.id_conversation}\r\n                        my_id={Cookies.get(\"uid\")}\r\n                        is_group={true}\r\n                        isHostGroup={isHostGroup}\r\n                        key={item?._id || key}\r\n                        {...item}\r\n                      ></ListMember>\r\n                    ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n            {props?.label && isHostGroup === false && (\r\n              <>\r\n                <br />\r\n                <div\r\n                  className={\"fjkladjkljdkldas\"}\r\n                  style={{\r\n                    width: \"100%\",\r\n                    display: \"flex\",\r\n                    justifyContent: \"center\",\r\n                    alignItems: \"center\",\r\n                  }}\r\n                >\r\n                  <Button\r\n                    onClick={() => out_group(props?.id_conversation, setChange)}\r\n                    color={\"primary\"}\r\n                  >\r\n                    Rời nhóm\r\n                  </Button>\r\n                </div>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div></div>\r\n      </OutsideClickHandler>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ListMember = (props) => {\r\n  return <ListFriendComponent {...props} />;\r\n};\r\n","import axios from \"axios\"\r\nimport Cookies from \"js-cookie\"\r\nimport { SERVER_URL } from \"../config/config\"\r\n\r\nconst search= async (keyword, setData)=> {\r\n    const res= await axios({\r\n        url: `${SERVER_URL}/api/conversations/search/${keyword}`,\r\n        method: \"post\", \r\n        data: {\r\n            userId: Cookies.get(\"uid\")\r\n        }\r\n    })\r\n    const result= await res.data\r\n    return setData(result)\r\n}\r\n\r\nexport default search","import Cookies from 'js-cookie'\r\nimport React, { useEffect } from 'react'\r\nimport { memo } from 'react'\r\nimport { useContext } from 'react'\r\nimport { useState } from 'react'\r\nimport { Button } from 'react-bootstrap'\r\nimport {AiOutlineUserAdd, AiOutlineUsergroupAdd,AiOutlineSearch,AiFillCamera } from \"react-icons/ai\"\r\nimport { GrClose } from 'react-icons/gr'\r\nimport OutsideClickHandler from 'react-outside-click-handler'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport swal from 'sweetalert'\r\nimport make_conversation from '../../api/coversation/make_conversation'\r\nimport send_request_make_friend_by_me from '../../api/friend/send_request_make_friend_by_me'\r\nimport search from '../../api/search'\r\nimport search_user_by_phone from '../../api/search_user_by_phone'\r\nimport { AppContext } from '../../App'\r\nimport { IMAGE_GROUP_DEFAULT } from '../../config/config'\r\nimport { uploadImageClient } from '../../firebase/config'\r\nimport Avatar from '../Home/Avatar'\r\nimport CoverPhoto from '../Home/CoverPhoto'\r\nimport { NameProfile, ProfileInfo } from '../Home/DetailProfile'\r\nimport List from './List'\r\nimport ListFriend, { ListFriendItem } from './ListFriend'\r\n\r\nconst SearchAndList = (props) => {\r\n  const [searchQuery, setSearchQuery]= useState(()=> \"\")\r\n  const isSearching=searchQuery.length > 0 ? true : false\r\n  const [change, setChange]= useState(false)\r\n  const [data, setData]= useState()\r\n  \r\n  return (\r\n    <div className={\"fkjlasdjsklsajaksas\"} style={{width: props?.isCall=== true ? 0 : 350, padding: '16px 0 0 0',height: \"100vh\", borderRight: \"1px solid #e7e7e7\"}}>\r\n        <SearchBar isCall={props?.isCall} setChange={setChange} searchQuery={searchQuery} setSearchQuery={setSearchQuery} setData={setData} />\r\n        {\r\n            props.is_friend_page=== true && <ListFriend />\r\n        }\r\n        {/*  */}\r\n        {\r\n            props.is_chat_page=== true &&\r\n            <List search_conversation={true} searchQuery={searchQuery} change={change} is_friend_page={props.is_friend_page} isSearching={isSearching} data={data} />\r\n        }\r\n    </div>\r\n  )\r\n}\r\n\r\nconst SearchBar= (props)=> {\r\n    \r\n    return (\r\n        <div className={\"fmkldjskldjklfsass\"} style={{width: \"100%\", display: props?.isCall=== false ? \"flex\" : \"none\", justifyContent: \"center\", alignItems: \"center\", position: \"relative\", marginBottom: 20, padding: \"0 16px\"}}>\r\n            <MainSearch {...props} />\r\n            <AddFriends />\r\n            <CreateNewGroup setChange={props?.setChange} />\r\n        </div>\r\n    )\r\n}\r\n\r\nconst MainSearch= (props)=> {\r\n    return (\r\n        <div className={\"fjladjkldgjkljdasda\"} style={{flex: \"1 1 0\", height: 40}}>\r\n            <input onKeyUp={(e)=> search(e.target.value, props.setData)} onChange={e=> props.setSearchQuery(e.target.value)} value={props.searchQuery} style={{width: \"100%\", height: \"100%\", background: \"#d9d9d9\", outlineColor: \"#2e89ff\", borderRadius: 5, padding: \"10px 30px\"}} placeholder={\"Tìm kiếm\"} />\r\n            <div style={{display:\" flex\", justifyContent:\" center\", alignItems: \"center\", position: \"absolute\", top: \"50%\", left: 0, transform: \"translate(50%, -50%)\", marginLeft: 16}}>\r\n                <AiOutlineSearch />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nconst AddFriends= (props)=> {\r\n    const [open, setOpen]= useState(()=> false)\r\n    return (\r\n        <div title={\"Thêm bạn\"} className={\"fkjdjkshklsajass\"}style={{cursor: \"pointer\", width: 40, height: 40, display: \"flex\", justifyContent:\"center\", alignItems: \"center\", marginLeft: 16}}>\r\n            <AiOutlineUserAdd style={{width: 32, height: 32}} onClick={()=> setOpen(()=> true)} />\r\n            {open=== true && <PopupAddFriends open={open} setOpen={setOpen} />}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst CreateNewGroup= (props)=> {\r\n    const [open, setOpen]= useState(()=> false)\r\n    return (\r\n        <div title={\"Tạo nhóm\"} className={\"fdlkjsjdaklsjfdkaljsa\"} style={{cursor: \"pointer\",width :40, height: 40, display: \"flex\", justifyContent: \"center\", alignItems: \"center\", marginLeft: 16}}>\r\n            <AiOutlineUsergroupAdd  style={{width: 32, height: 32}} onClick={()=> setOpen(()=> true)} />\r\n            {open=== true && <PopupMakeConversation setChange={props?.setChange} open={open} setOpen={setOpen} />}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const PopupAddFriends= (props)=> {\r\n    const [phoneNumber, setPhoneNumber]= useState()\r\n    const [data, setData]= useState({exist: -1})\r\n    const [dataSendRequest, setDataSendRequest]= useState()\r\n    return (\r\n        <div className={\"fkjldsklkdsslaskdsaa\"} style={{width: \"100%\", height: \"100%\", position: \"fixed\", top: 0, left: 0, background: \"rgba(0 ,0 ,0,0.3)\", zIndex: 12, display: \"flex\", justifyContent: \"center\", alignItems: \"center\"}}>\r\n            <OutsideClickHandler onOutsideClick={()=> props.setOpen((()=> false))}>\r\n                <div className={\"fjlkdsjdkljsdklaskd\"} style={{padding: 16, background: \"#fff\", borderRadius: 5, width: \"100vw\", maxWidth: 450}}>\r\n                    <div style={{width: \"100%\", height: \"100%\"}}>   \r\n                        <div className={\"jdjadkjgkddssa\"} style={{width: '100%', height: 68, display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\"}}>\r\n                            <strong>Thêm bạn</strong>\r\n                            <div style={{display: \"flex\", justifyContent: 'center', alignItems: \"center\", cursor: \"pointer\"}} onClick={()=> props.setOpen(()=> false)}>\r\n                                <GrClose  />\r\n                            </div>\r\n                        </div>\r\n                        {\r\n                            data?.exist=== true && <>\r\n                                <CoverPhoto coverPhoto={data?.coverPhoto} />\r\n                                <Avatar avatar={data?.profilePicture} />\r\n                                <NameProfile username={data?.username} />\r\n                                <div style={{width: \"100%\", display: \"flex\", justifyContent: \"center\", alignItems: \"center\", gap: 16}}>\r\n                                    {\r\n                                        data?._id !== Cookies.get(\"uid\") && \r\n                                        <Button onClick={()=> {}} variant=\"secondary\">Nhắn tin</Button>\r\n                                    }\r\n                                </div>\r\n                                <ProfileInfo user={data} />\r\n                                <br />\r\n                                <div style={{width: \"100%\", display: \"flex\", flexDirection: \"row-reverse\", alignItems: \"center\", gap: 16}}>\r\n                                    {\r\n                                        data?._id !== Cookies.get(\"uid\") && \r\n                                        <Button onClick={()=> send_request_make_friend_by_me(data?._id, setDataSendRequest)} variant=\"primary\">Kết bạn</Button>\r\n                                    }\r\n                                    \r\n                                    <Button onClick={()=> props.setOpen(()=> false)} variant=\"secondary\">Đóng</Button>\r\n                                </div>\r\n                                {\r\n                                    dataSendRequest?.request=== true && dataSendRequest?.duplicate=== true && <div style={{fontSize: 14}}>{\"Bạn đã gửi yêu cầu kêt bạn với người này\"}</div>\r\n                                }\r\n                                {\r\n                                    dataSendRequest?.request=== true && dataSendRequest?.duplicate=== false && <div style={{fontSiz: 14}}>{\"Gửi yêu cầu kết bạn thành công\"}</div>\r\n                                }\r\n                                {\r\n                                    dataSendRequest?.request=== false && dataSendRequest?.duplicate=== false && <div style={{fontSi: 14}}>{\"Có lỗi xảy ra, vui lòng thử lại sau\"}</div>\r\n                                }\r\n                            </>\r\n                        }\r\n                        {\r\n                            data?.exist=== false && <>\r\n                                <div style={{textAlign: \"center\"}}>Không tìm thấy người có số điện thoại này</div>\r\n                            </>\r\n                        }\r\n                        {\r\n                            data?.exist=== -1 && <>\r\n                                <div className={\"jdjadkjgkddssa\"} style={{width: '100%', height: 68, display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", flexDirection: \"column\"}}>\r\n                                    <div style={{marginBottom: 8, width: \"100%\"}}>Tìm bằng số điện thoại</div>\r\n                                    <input value={phoneNumber} onChange={e=> setPhoneNumber(e.target.value)} type=\"text\" style={{width: \"100%\", height: 40, padding: 10, background: \"#d9d9d9\", borderRadius: 5, outlineColor: \"#2e89ff\"}} placeholder={\"Số điện thoại\"} />\r\n                                </div>\r\n                                <br />\r\n                                <div style={{width: \"100%\", display: \"flex\", flexDirection: \"row-reverse\", alignItems: \"center\", gap: 16}}>\r\n                                    <Button onClick={()=> {\r\n                                        if(phoneNumber?.trim()?.length <= 0 || !phoneNumber) {\r\n                                            return swal(\"Thông báo\", \"Không được để trống số điện thoại\", \"error\")\r\n                                        }\r\n                                        search_user_by_phone(phoneNumber?.trim(), setData)\r\n                                    }} variant=\"primary\">Xác nhận</Button>\r\n                                    <Button onClick={()=> props.setOpen(()=> false)} variant=\"secondary\">Hủy</Button>\r\n                                </div>\r\n                            </>\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </OutsideClickHandler>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst PopupMakeConversation= (props)=> {\r\n    // eslint-disable-next-line\r\n    const [result, setResult]= useState()\r\n    const [img, setImage]= useState()\r\n    const {data}= useContext(AppContext)\r\n    const [label, setLabel]= useState(()=> \"\")\r\n    const imgChoose= img ? true : false\r\n    const navigate= useNavigate()\r\n    const [arrayMember, setArrayMember]= useState(()=> [])\r\n    useEffect(()=> {\r\n        if(data) {\r\n            setArrayMember(prev=> ([...prev, data?._id]))\r\n        }\r\n    }, [data])\r\n    const setImgFunction= (e)=> {\r\n        setImage({img: e.target.files[0], preview: URL.createObjectURL(e.target.files[0]), key: e.target.files[0].lastModified})\r\n    }\r\n    const exec= async ()=> {\r\n        if(arrayMember.length <= 1) {\r\n            return swal(\"Thông báo\", \"Số lượng thành viên nhóm phải nhiều hơn một người\", \"error\")\r\n        }\r\n        if(label.length <= 0) {\r\n            return swal(\"Thông báo\", \"Không được để thiếu tên nhóm\", \"error\")\r\n\r\n        }\r\n        if(img?.img) {\r\n            const urlImage= await uploadImageClient(img.img)\r\n            await make_conversation(label, arrayMember, data?._id, urlImage, setResult, navigate)\r\n            .then(()=> swal(\"Thông báo\", \"Tạo nhóm thành công\", \"success\"))\r\n            props.setOpen(()=> false)\r\n            props?.setChange(()=> prev=> !prev)\r\n        }\r\n        else {\r\n            await make_conversation(label, arrayMember, data?._id, IMAGE_GROUP_DEFAULT, setResult, navigate)\r\n            .then(()=> swal(\"Thông báo\", \"Tạo nhóm thành công\", \"success\"))\r\n            props.setOpen(()=> false)\r\n            props?.setChange(()=> prev=> !prev)\r\n        }\r\n    }\r\n    return (\r\n        <div className={\"fkjldsklkdsslaskdsaa\"} style={{width: \"100%\", height: \"100%\", position: \"fixed\", top: 0, left: 0, background: \"rgba(0 ,0 ,0,0.3)\", zIndex: 12, display: \"flex\", justifyContent: \"center\", alignItems: \"center\"}}>\r\n            <OutsideClickHandler onOutsideClick={()=> props.setOpen((()=> false))}>\r\n                <div className={\"fjlkdsjdkljsdklaskd\"} style={{padding: 16, background: \"#fff\", borderRadius: 5, width: \"100vw\", maxWidth: 450}}>\r\n                    <div style={{width: \"100%\", height: \"100%\"}}>   \r\n                        <div className={\"jdjadkjgkddssa\"} style={{width: '100%', height: 68, display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\"}}>\r\n                            <strong>Tạo một cuộc trò chuyện</strong>\r\n                            <div style={{display: \"flex\", justifyContent: 'center', alignItems: \"center\", cursor: \"pointer\"}} onClick={()=> props.setOpen(()=> false)}>\r\n                                <GrClose />\r\n                            </div>\r\n                        </div>\r\n                        <div className={\"fksldjkghjkdskdas\"} style={{width: \"100%\", display: \"flex\", alignItems: \"center\",gap: 8}}>\r\n                            <div style={{display: \"flex\", justifyContent: \"center\", alignItems: \"center\", cursor: \"pointer\", width: 48, height: 48, position: \"relative\", border: \"1px solid #e7e7e7\", borderRadius: \"50%\"}}>\r\n                                {\r\n                                    imgChoose=== true ? <img src={img?.preview} alt={\"open\"} style={{width: \"100%\", height: \"100%\", objectFit: \"cover\", borderRadius: \"50%\"}} /> : <AiFillCamera />\r\n                                }\r\n                                <input type={\"file\"} onChange={setImgFunction} style={{width: \"100%\", height:\" 100%\", top:0, left: 0, position: \"absolute\", zIndex: 12, cursor: \"pointer\", opacity: 0}} title={\"Chọn ảnh đại diện của nhóm\"} />\r\n                            </div>\r\n                            <div className={\"fsjfkjdkfkeakljes\"} style={{flex: \" 1 1 0\"}}>\r\n                                <input value={label} onChange={e=> setLabel(e.target.value)} className={\"gjlkdjslkfjdkaslas\"} type=\"text\" style={{width: \"100%\", height: 48, outlineColor: \"#2e89ff\"}} placeholder={\"Nhập tên nhóm\"} />\r\n                            </div>  \r\n                        </div>\r\n                        <br />\r\n                        <div style={{width: \"100%\"}}>\r\n                            <div style={{marginBottom: 12}}>Thêm bạn vào nhóm</div>\r\n                            <div style={{width: \"100%\", position: \"relative\"}}>\r\n                                <input className={\"fjskldjfdkdjskldas fijldkjlsfjhkldjksldas\"} placeholder={\"Nhập tên, số điện thoại cần tìm\"} type=\"text\" style={{width: \"100%\", padding: \"10px 36px\", height: 48, borderRadius: 80}} />\r\n                                <AiOutlineSearch style={{width: 24, height: 24, position: \"absolute\", top: \"50%\", left: 0, transform: \"translate(50%, -50%)\"}} />\r\n                            </div>\r\n                        </div>  \r\n                        {/*  */}\r\n                        <ListFriendItem is_invite={true} setArrayMember={setArrayMember} arrayMember={arrayMember} />\r\n                        {/*  */}\r\n                        <br />\r\n                        <div style={{width: '100%', display: \"flex\", flexDirection: \"row-reverse\", alignItems: \"center\", gap: 10}}>\r\n                            <Button onClick={exec} variant={\"primary\"}>Tạo nhóm</Button>\r\n                            <Button onClick={()=> props?.setOpen(()=> true)} variant={\"secondary\"}>Hủy</Button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </OutsideClickHandler>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default memo(SearchAndList)","import React, { memo, useEffect, useState } from \"react\";\r\nimport {\r\n  AgoraVideoPlayer,\r\n  createClient,\r\n  createMicrophoneAndCameraTracks,\r\n} from \"agora-rtc-react\";\r\nimport Cookies from \"js-cookie\";\r\nimport \"./style.sass\"\r\nimport axios from \"axios\";\r\nimport { SERVER_URL } from \"../../config/config\";\r\nimport {BsFillMicFill, BsFillMicMuteFill, BsCameraVideoFill, BsCameraVideoOffFill} from \"react-icons/bs\"\r\nimport {MdCallEnd } from \"react-icons/md\"\r\nimport { useContext } from \"react\";\r\nimport { SocketContainerContext } from \"../../SocketContainer/SocketContainer\";\r\nimport { useCallback } from \"react\";\r\nimport Draggable from 'react-draggable';\r\n\r\nconst VideoCallComponent = (props) => {\r\n    const {channelName, audio, video }= props\r\n    const appId = \"019c2968a3da4efab5e709e7886b86c8\"; //ENTER APP ID HERE\r\n    const [uid, setUid]= useState(\"\")\r\n    const appCertificate = \"cfc8747ffd6040ad89bf114dcded44b5\"\r\n    const [token, setToken]= useState(\"\")\r\n    const [inCall, setInCall] = useState(true);\r\n    useEffect(()=> {\r\n      (async()=> {\r\n          try {\r\n              const res1= await axios({\r\n                url: SERVER_URL+ \"/api/live/create/uid\",\r\n                method: \"get\",\r\n                headers: {\r\n                  \"authorization\": \"Bearer \"+ Cookies.get(\"accessToken\")\r\n\r\n                },\r\n                params: {\r\n                  appId, appCertificate, account: Cookies.get(\"uid\")\r\n                }\r\n              })\r\n              const result1= await res1.data\r\n              setUid(result1.uid)\r\n              const res= await axios({\r\n                  url: SERVER_URL+ \"/api/live/get_token\",\r\n                  method: \"get\",\r\n                  headers: {\r\n                      \"authorization\": \"Bearer \"+ Cookies.get(\"accessToken\")\r\n                  },\r\n                  params: {\r\n                    appId, channelName, appCertificate, uid: result1.uid\r\n                  }\r\n              })\r\n              const result= await res.data\r\n              return setToken(result)\r\n          } catch (error) {\r\n              return console.log(error.message)\r\n          }\r\n          \r\n      })()\r\n  }, [channelName])\r\n    return (\r\n      <div className=\"video-call-component\" style={{width: \"100%\", maxWidth: 1000, borderRight: \"1px solid #e7e7e7\"}}>\r\n        { inCall && (\r\n            <VideoCall setInCall={setInCall} channelName={channelName} appId={appId} token={token} uid={uid} video={video} audio={audio} />\r\n          ) \r\n        }\r\n      </div>\r\n    );\r\n}\r\n// {/* (\r\n//   <ChannelForm setInCall={setInCall} />\r\n// )} */}\r\nconst config = {\r\n    mode: \"rtc\",\r\n    codec: \"vp8\"\r\n  };\r\n\r\nconst useClient = createClient(config);\r\nconst useMicrophoneAndCameraTracks = createMicrophoneAndCameraTracks();\r\n\r\nconst VideoCall = (props) => {\r\n  const { setInCall, channelName, appId, token, uid, video, audio } = props;\r\n  const [users, setUsers] = useState([]);\r\n  const [start, setStart] = useState(false);\r\n  // using the hook to get access to the client object\r\n  const client = useClient();\r\n  // ready is a state variable, which returns true when the local tracks are initialized, untill then tracks variable is null\r\n  const { ready, tracks } = useMicrophoneAndCameraTracks();\r\n  \r\n    useEffect(() => {\r\n    // function to initialise the SDK\r\n    let init = async (channelName) => {\r\n      client.on(\"user-published\", async (user, mediaType) => {\r\n        await client.subscribe(user, mediaType);\r\n        // console.log(\"subscribe success\");\r\n        if (mediaType === \"video\") {\r\n          setUsers((prevUsers) => {\r\n            return [...prevUsers, user];\r\n          });\r\n        }\r\n        if (mediaType === \"audio\") {\r\n          user.audioTrack?.play();\r\n        }\r\n      });\r\n\r\n      client.on(\"user-unpublished\", (user, type) => {\r\n        // console.log(\"unpublished\", user, type);\r\n        if (type === \"audio\") {\r\n          user.audioTrack?.stop();\r\n        }\r\n        if (type === \"video\") {\r\n          setUsers((prevUsers) => {\r\n            return prevUsers.filter((User) => User.uid !== user.uid);\r\n          });\r\n        }\r\n      });\r\n\r\n      client.on(\"user-left\", (user) => {\r\n        console.log(\"leaving\", user);\r\n        setUsers((prevUsers) => {\r\n          return prevUsers.filter((User) => User.uid !== user.uid);\r\n        });\r\n      });\r\n\r\n      await client.join(appId, channelName, token, uid);\r\n      if (tracks) await client.publish([tracks[0], tracks[1]]);\r\n      setStart(true);\r\n    };\r\n\r\n    if (ready && tracks) {\r\n    //   console.log(\"init ready\");\r\n      init(channelName);\r\n    }\r\n  }, [channelName, client, ready, tracks, appId, token, uid]);\r\n\r\n  return (\r\n    <div className=\"wrap-video-conversation\" style={{height: \"100vh\", position: \"relative\"}}>\r\n      {start && tracks && <Videos users={users} tracks={tracks} />}\r\n      {ready && tracks && (\r\n        <Controls tracks={tracks} setStart={setStart} setInCall={setInCall} channelName={channelName} video={video} audio={audio} />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Videos = memo((props) => {\r\n  const { users, tracks } = props;\r\n\r\n  return (\r\n    <div className={\"wrap-video\"} style={{width: \"100%\"}}>\r\n      <div id=\"videos\" style={{width: \"100%\"}}>\r\n            \r\n        {/* me */}\r\n        <Draggable>\r\n        <div className={\"wrap-me c-flex-center\"} style={{width: \"25%\", aspectRatio: 3 / 2, position: \"absolute\", bottom: -25, right: 0, flexDirection: \"column\", padding: 10, zIndex: 99}}>\r\n\r\n          <AgoraVideoPlayer\r\n            style={{ height: \"95%\", width: \"95%\" }}\r\n            className=\"vid\"\r\n            videoTrack={tracks[1]}\r\n          />\r\n          <div style={{textAlign: \"center\", marginTop: 8, fontWeight: 600}}>Bạn</div>\r\n        </div>\r\n        </Draggable>\r\n\r\n        {/* another user media */}\r\n        {users.length > 0 &&\r\n          users.map((user) => {\r\n            if (user.videoTrack) {\r\n              return (\r\n                <AgoraVideoPlayer\r\n                  style={{ height: \"95%\", width: \"95%\" }}\r\n                  className=\"vid\"\r\n                  videoTrack={user.videoTrack}\r\n                  key={user.uid}\r\n                />\r\n              );\r\n            } else return null;\r\n          })}\r\n          {\r\n            users?.length <= 0 && \r\n            <div style={{height: \"95%\", width: \"95%\", borderRadius: 10, border: \"1px solid #e7e7e7\", top: 0, left: 0}}>\r\n              \r\n            </div>\r\n          }\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport const Controls = (props) => {\r\n\r\n  const {socketState }= useContext(SocketContainerContext)\r\n  const client = useClient();\r\n  const { tracks, setStart, setInCall, channelName, video, audio } = props;\r\n  const [trackState, setTrackState] = useState({ video: video, audio: audio   });\r\n\r\n  useEffect(()=> {\r\n    return ()=> {\r\n     (async()=> {\r\n      await client.leave();\r\n      client.removeAllListeners();\r\n      // we close the tracks to perform cleanup\r\n      tracks[0].close();\r\n      tracks[1].close();\r\n      setStart(false);\r\n      setInCall(false);\r\n     })()\r\n    }\r\n  }, [client, setInCall, setStart, tracks])\r\n \r\n  const mute = async (type) => {\r\n    if (type === \"audio\") {\r\n      await tracks[0].setEnabled(!trackState.audio);\r\n      setTrackState((ps) => {\r\n        return { ...ps, audio: !ps.audio };\r\n      });\r\n    } else if (type === \"video\") {\r\n      await tracks[1].setEnabled(!trackState.video);\r\n      setTrackState((ps) => {\r\n        return { ...ps, video: !ps.video };\r\n      });\r\n    }\r\n  };\r\n\r\n  const leaveChannel = useCallback(async () => {\r\n    await client.leave();\r\n    client.removeAllListeners();\r\n    // we close the tracks to perform cleanup\r\n    tracks[0].close();\r\n    tracks[1].close();\r\n    setStart(false);\r\n    setInCall(false);\r\n  }, [client, setInCall, setStart, tracks]);\r\n  useEffect(()=> {\r\n    window.onbeforeunload= function(e) {\r\n    leaveChannel()\r\n    socketState.emit(\"end_call\", {call_id: channelName})\r\n    }\r\n  }, [channelName, socketState, leaveChannel])\r\n  return (\r\n    <div className=\"controls\">\r\n      <p className={trackState.audio ? \"on mic-on mic-ui\" : \"mic-off mic-ui\"} onClick={() => mute(\"audio\")}>\r\n        {trackState.audio ? <BsFillMicFill style={{marginBottom: 10}} /> : <BsFillMicMuteFill style={{marginBottom: 10}} />}\r\n      </p>\r\n      <p className={trackState.video ? \"on camera-on camera-ui\" : \"camera-off camera-ui\"} onClick={() => mute(\"video\")}>\r\n        {trackState.video ? <BsCameraVideoFill style={{marginBottom: 10}} /> : <BsCameraVideoOffFill style={{marginBottom: 10}} />}\r\n      </p>\r\n      {<p className={\"end-call\"} style={{borderRadius: 80}} onClick={() => {\r\n        leaveChannel()\r\n        socketState.emit(\"end_call\", {call_id: channelName})\r\n      }}>\r\n        <MdCallEnd  />\r\n      </p>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VideoCallComponent","import React from \"react\";\r\nimport { useContext } from \"react\";\r\nimport { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport get_files_conversation from \"../../api/coversation/get_files_conversation\";\r\nimport get_info_detail_conversation from \"../../api/coversation/get_info_detail_conversation\";\r\nimport { SocketContainerContext } from \"../../SocketContainer/SocketContainer\";\r\nimport MainChat from \"../Chat/MainChat\";\r\nimport SearchAndList from \"../SearchAndList/SearchAndList\";\r\nimport VideoCallComponent from \"../VideoCall/VideoCall\";\r\n// import VideoCallComponent from \"../VideoCall/VideoCall\";\r\n\r\nconst ChatPage = () => {\r\n  const { idConversation } = useParams();\r\n  const [conversation, setConversation] = useState();\r\n  const [change, setChange] = useState(false);\r\n  const [extend, setExtend] = useState(false);\r\n  const [isCall, setIsCall] = useState(false);\r\n  const [callId, setCallId] = useState(\"\");\r\n  const [video, setVideo] = useState(false);\r\n  const [audio, setAudio] = useState(false);\r\n  const { socketState } = useContext(SocketContainerContext);\r\n  useEffect(() => {\r\n    socketState.emit(\"join_room_conversation\", { roomId: idConversation });\r\n  }, [socketState, idConversation]);\r\n  useEffect(() => {\r\n    get_info_detail_conversation(idConversation, setConversation);\r\n  }, [idConversation, change]);\r\n  useEffect(() => {\r\n    socketState.on(\"decline_call_signal\", (data) => {\r\n      setIsCall(() => false);\r\n    });\r\n  }, [socketState]);\r\n  useEffect(() => {\r\n    socketState.on(\"accept_call_signal\", (data) => {\r\n      setCallId(data?.call_id);\r\n      setIsCall(() => true);\r\n    });\r\n  }, [socketState]);\r\n  useEffect(() => {\r\n    socketState.on(\"end_call_from_user\", (data) => {\r\n      setIsCall(() => false);\r\n    });\r\n  }, [socketState]);\r\n  return (\r\n    <div className={\"fkdjkfjkdlsasa\"} style={{ display: \"flex\" }}>\r\n      <SearchAndList is_chat_page={true} isCall={isCall} />\r\n      {isCall === true && (\r\n        <VideoCallComponent channelName={callId} video={video} audio={audio} />\r\n      )}\r\n      <MainChat\r\n        setCallId={setCallId}\r\n        isCall={isCall}\r\n        setIsCall={setIsCall}\r\n        setExtend={setExtend}\r\n        setChange={setChange}\r\n        conversation={conversation}\r\n        setVideo={setVideo}\r\n        setAudio={setAudio}\r\n      />\r\n      {extend === true && <StorageFile />}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst StorageFile = () => {\r\n  const [data, setData] = useState([]);\r\n  const { idConversation } = useParams();\r\n  // const [activePage, setActivePage]= useState(false)\r\n  useEffect(() => {\r\n    get_files_conversation(idConversation, setData);\r\n  }, [idConversation]);\r\n\r\n  return (\r\n    <div\r\n      className={\"dskjdskdjskdsasa\"}\r\n      style={{ width: 300, height: \"100vh\", borderLeft: \"1px solid #e7e7e7\" }}\r\n    >\r\n      <div\r\n        className={\"ssjdkjdskjsakssd\"}\r\n        style={{\r\n          width: \"100%\",\r\n          height: 60,\r\n          borderBottom: \"1px solid #e7e7e7\",\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n          fontSize: 20,\r\n        }}\r\n      >\r\n        Kho lưu trữ\r\n      </div>\r\n      {/* <div style={{width: '100%', padding: \"0\"}} className={\"c-flex-center\"}>\r\n      <div onClick={()=> setActivePage(false)} style={{padding: 16, flex: \"1 1 0\", borderBottom: activePage=== false ? \"3px solid #2e89ff\" : \"3px solid transparent\", background: activePage=== false ? \"#f2f0f5\" : \"#fff\", cursor: \"pointer\"}} className={\"c-flex-center\"}>Ảnh</div>\r\n      <div onClick={()=> setActivePage(true)} style={{padding: 16, flex: \"1 1 0\", borderBottom: activePage=== true ? \"3px solid #2e89ff\" : \"3px solid transparent\", background: activePage=== true ? \"#f2f0f5\" : \"#fff\", cursor: \"pointer\"}} className={\"c-flex-center\"}>File</div>\r\n    </div> */}\r\n      <div style={{ height: \"calc(100vh - 60px)\", overflow: \"auto\" }}>\r\n        <div style={{ padding: 5, fontSize: 18, fontWeight: 600 }}>Ảnh</div>\r\n        <div\r\n          style={{\r\n            width: \"100%\",\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            flexWrap: \"wrap\",\r\n          }}\r\n        >\r\n          {data?.media\r\n            ?.filter((item) => item?.type_message === \"image\")\r\n            ?.map((item, key) => (\r\n              <div style={{ width: \"calc(100% / 3)\", padding: 5 }} key={key}>\r\n                <Link to={\"/media/\" + item?.key}>\r\n                  <img\r\n                    src={item.message}\r\n                    style={{ width: \"100%\", aspectRatio: 1 / 1 }}\r\n                    alt=\"\"\r\n                  />\r\n                </Link>\r\n              </div>\r\n            ))}\r\n        </div>\r\n        <div style={{ padding: 5, fontSize: 18, fontWeight: 600 }}>File</div>\r\n        {data?.media\r\n          ?.filter((item) => item?.type_message === \"file\")\r\n          ?.map((item, key) => (\r\n            <div\r\n              key={key}\r\n              style={{\r\n                width: \"calc(100%)\",\r\n                padding: 5,\r\n                height: 50,\r\n                position: \"relative\",\r\n              }}\r\n            >\r\n              <a\r\n                target={\"_blank\"}\r\n                style={{ width: \"100%\", height: \"100%\" }}\r\n                href={item.message}\r\n                rel=\"noreferrer\"\r\n              >\r\n                <div\r\n                  style={{\r\n                    position: \"absolute\",\r\n                    top: 0,\r\n                    left: 0,\r\n                    width: \"100%\",\r\n                    height: \"100%\",\r\n                    border: \"1px solid #e7e7e7\",\r\n                    justifyContent: \"flex-start\",\r\n                    padding: 5,\r\n                  }}\r\n                  className={\"c-flex-center\"}\r\n                >\r\n                  {item.name_file}\r\n                </div>\r\n              </a>\r\n            </div>\r\n          ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChatPage;\r\n","import axios from \"axios\"\r\nimport Cookies from \"js-cookie\"\r\nimport { SERVER_URL } from \"../../config/config\"\r\n\r\nconst get_list_user_send_request_add_friend_of_me= async (setData)=> {\r\n    const res= await axios({\r\n        url: `${SERVER_URL}/api/users/get-list-user-send-request-add-friend-of-me/${Cookies.get(\"uid\")}`,\r\n        method: \"get\",\r\n        headers: {\r\n            \"authorization\": \"Bearer \"+ Cookies.get(\"accessToken\")\r\n        }\r\n    })\r\n    const result= await res.data\r\n    return setData(result)\r\n}\r\n\r\nexport default get_list_user_send_request_add_friend_of_me","import axios from \"axios\"\r\nimport Cookies from \"js-cookie\"\r\nimport { SERVER_URL } from \"../../config/config\"\r\n\r\nconst get_list_user_request_make_friend_to_me = async (setData) => {\r\n  const res= await axios({\r\n    url: SERVER_URL+ \"/api/users/get/user/request-make-friend/to/me/\"+ Cookies.get(\"uid\"),\r\n    method: \"get\",\r\n    headers: {\r\n        \"authorization\": \"Bearer \"+ Cookies.get(\"accessToken\")\r\n    }\r\n  })\r\n  const result= await res.data\r\n  return setData(result)\r\n}\r\n\r\nexport default get_list_user_request_make_friend_to_me","import axios from \"axios\"\r\nimport { SERVER_URL } from \"../config/config\"\r\nimport Cookies from \"js-cookie\"\r\n\r\nconst update_seen_request= async(id, un_seen)=> {\r\n        const res= await axios({\r\n            url: `${SERVER_URL}/api/users/update_seen_request/${id}`,\r\n            method: \"post\",\r\n            headers: {\r\n                'authorization': `Bearer ${Cookies.get(\"accessToken\")}`\r\n            },\r\n            data: {\r\n                un_seen\r\n            }\r\n        })\r\n        const result= await res.data\r\n        return result\r\n    }\r\n\r\nexport default update_seen_request","import Cookies from 'js-cookie'\r\nimport React, { useEffect } from 'react'\r\nimport { useState } from 'react'\r\nimport { Button } from 'react-bootstrap'\r\nimport { Navigate, Route, Routes } from 'react-router-dom'\r\nimport accpet_add_friends from '../../api/friend/accpet_add_friends'\r\nimport cancel_request_make_friend_from_me from '../../api/friend/cancel_request_make_friend_from_me'\r\nimport denied_request_friends from '../../api/friend/denied_request_friends'\r\nimport get_list_user_send_request_add_friend_of_me from '../../api/friend/get-list-user-send-request-add-friend-of-me'\r\nimport get_list_user_request_make_friend_to_me from '../../api/friend/get_list_user_request_make_friend_to_me'\r\nimport update_seen_request from '../../api/update_seen_request'\r\nimport SearchAndList from '../SearchAndList/SearchAndList'\r\n\r\nconst FriendPage = (props) => {\r\n  return (\r\n    <div className={\"fkjsdkljdsaklasjas\"} style={{display: \"flex\"}}>\r\n      <SearchAndList is_friend_page={true} />\r\n      <div style={{flex: \" 1 1 0\"}} className={\"fnjkdhjsjhdslkjsas\"}>\r\n        <Routes>\r\n          <Route path={\"/\"} element={<Navigate replace={true} to={\"/friends/request/to/me\"} />} />\r\n          <Route path={\"/request/by/me\"} element={<ComponentRequestByMe />} />\r\n          <Route path={\"/request/to/me\"} element={<ComponentRequestToMe />} />\r\n        </Routes>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst ComponentRequestByMe= (props)=> {\r\n  const [data, setData]= useState(()=> [])\r\n  const [change, setChange]= useState(()=> false)\r\n  useEffect(()=> {\r\n    get_list_user_send_request_add_friend_of_me(setData)\r\n  }, [change])\r\n  return (\r\n    <div className={\"fdjkjskljdkalsjasas\"} style={{padding: \"16px 16px 0 16px\"}}>\r\n      <Title title={\"Danh sách yêu cầu được kết bạn\"} />\r\n      {\r\n        data?.data?.length <= 0 && <div style={{textAlign: \"center\"}}>Không có người nào trong danh sách này</div>\r\n      }\r\n      {\r\n        data?.data?.length > 0 && data?.data?.map((item, key)=> <ItemUser {...item} key={key} setChange={setChange} />)\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\n//\r\nconst ComponentRequestToMe= (props)=> {\r\n  const [data, setData]= useState(()=> [])\r\n  const [change, setChange]= useState(()=> false)\r\n  useEffect(()=> {\r\n    update_seen_request(Cookies.get(\"uid\"), 0)\r\n  }, [])\r\n  useEffect(()=> {\r\n    get_list_user_request_make_friend_to_me(setData)\r\n  }, [change])\r\n  return (\r\n    <div className={\"fjsdhukdhjaeshdnasas\"} style={{padding: \"16px 16px 0 16px\"}}>\r\n      <Title title={\"Danh sách yêu cầu kết bạn\"} />\r\n      {\r\n        data?.data?.friendsQueue?.length <= 0 && <div style={{textAlign: \"center\"}}>Không có người nào trong danh sách này</div>\r\n      }\r\n      {\r\n        data?.data?.friendsQueue?.length > 0 && data?.data?.friendsQueue?.map((item, key)=> <ItemUserForme {...item} key={key} setChange={setChange} />)\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nconst Title= (props)=> {\r\n  return (\r\n    <div style={{height: 50, display: \"flex\", alignItems: 'center', fontSize: 20, fontWeight: 600}}> \r\n      {props.title}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst ItemUser= (props)=> {\r\n  return (\r\n    <div className={\"dskjdsakldjskdlasasas\"} style={{ width: '100%', padding: 16}}>\r\n      <div className={\"fjkldjskldjassa\"} style={{width: \"100%\", padding: 10, background: \"#f2f0f5\", display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", borderRadius: 5, }}>\r\n        <div className={\"fsjkdajdkjfkdajsdas\"} style={{display: \"flex\", justifyContent: \"center\", alignItems: 'center', gap: 10}}>\r\n          <img src={props?.profilePicture || \"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png\"} alt=\"\" style={{width: 48, height: 48, objectFit: \"cover\", borderRadius: \"50%\"}} />\r\n          <div className={\"fdjkldjksldjaksdjsf\"}>\r\n            <div className={\"fkjldjskjdasaas\"} style={{marginBottom:8}}>{props?.username}</div>\r\n            <div>Bạn đã gửi lời mời kết bạn cho người này</div>\r\n          </div>\r\n        </div>\r\n        {/*  */}\r\n        <div className={\"fjdakdsjkgfjksdd\"} style={{display: \"flex\", justifyContent: \"center\", alignItems: 'center'}}>\r\n          <Button onClick={()=> cancel_request_make_friend_from_me(props?._id, props?.setChange)} color={\"primary\"} variant=\"secondary\">Hủy yêu cầu</Button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst ItemUserForme= (props)=> {\r\n  const [message, setMessage]= useState(\"\")\r\n\r\n  return (\r\n  <div className={\"dskjdsakldjskdlasasas\"} style={{ width: '100%', padding: 16}}>\r\n      <div className={\"fjkldjskldjassa\"} style={{width: \"100%\", padding: 10, background: \"#f2f0f5\", display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", borderRadius: 5, }}>\r\n        <div className={\"fsjkdajdkjfkdajsdas\"} style={{display: \"flex\", justifyContent: \"center\", alignItems: 'center', gap: 10}}>\r\n          <img src={props?.profilePicture || \"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png\"} alt=\"\" style={{width: 48, height: 48, objectFit: \"cover\", borderRadius: \"50%\"}} />\r\n          <div className={\"fdjkldjksldjaksdjsf\"}>\r\n            <div className={\"fkjldjskjdasaas\"} style={{marginBottom:8}}>{props?.username}</div>\r\n            <div>{message?.length <=0 && \"Đã gửi lời mời kết bạn đến bạn\"}{message?.length >0 && message}</div>\r\n          </div>\r\n        </div>\r\n        {/*  */}\r\n        <div className={\"fjdakdsjkgfjksdd\"} style={{display: \"flex\", justifyContent: \"center\", alignItems: 'center', gap: 16}}>\r\n          {message?.length <=0 && \r\n            <>\r\n              <Button onClick={()=> accpet_add_friends(props?._id, setMessage)} color={\"primary\"} variant=\"primary\">Chấp nhận</Button>\r\n              <Button onClick={()=> denied_request_friends(props?._id, setMessage)} color={\"primary\"} variant=\"secondary\">Từ chối</Button>\r\n            </>\r\n            }\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default FriendPage","import { useContext } from \"react\"\r\nimport { Navigate, Route, Routes } from \"react-router-dom\"\r\nimport { AppContext } from \"../../App\"\r\nimport NotFound from \"../NotFound/NotFound\"\r\nimport ChatPage from \"./ChatPage\"\r\n// import DefaultPage from \"./DefaultPage\"\r\nimport FriendPage from \"./FriendPage\"\r\n\r\nconst MainScreen = () => {\r\n  const {auth, data }= useContext(AppContext)\r\n  return (\r\n    <div className={\"fdjkdaklsklasasas\"} style={{flex: \"1 1 0\", height: \"100vh\", maxHeight: \"100vh\"}}>\r\n      <Routes>\r\n        <Route path={\"/*\"} element={<Navigate to={\"/\"} replace={true} />} />\r\n        {\r\n          data?.lastConversationId &&\r\n          <>\r\n            { \r\n            auth=== true && <Route path={\"/\"} element={<Navigate to={\"/chat/\"+data?.lastConversationId} replace={true} />} />\r\n          }\r\n          </>\r\n        }\r\n        {\r\n          !data?.lastConversationId &&\r\n          <>\r\n            { \r\n            auth=== true && <Route path={\"/\"} element={<Navigate to={\"/chat/\"} replace={true} />} />\r\n          }\r\n          </>\r\n        }\r\n        <Route path={\"/chat/:idConversation\"} element={<ChatPage />} />\r\n        <Route path={\"/friends/*\"} element={<FriendPage />} />\r\n        <Route path=\"*\" element={<NotFound />} />\r\n      </Routes>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MainScreen\r\n","import Cookies from \"js-cookie\"\r\n\r\nconst logout= ()=> {\r\n    Cookies.remove(\"uid\")\r\n    Cookies.remove(\"accessToken\")\r\n    window.location.reload()\r\n}\r\n\r\nexport default logout","import axios from \"axios\"\r\nimport Cookies from \"js-cookie\"\r\nimport { SERVER_URL } from \"../../config/config\"\r\n\r\nconst get_last_conversation_id = async (setData) => {\r\n    const res= await axios({\r\n        url: SERVER_URL+ \"/api/users/get/last/conversation/\"+ Cookies.get(\"uid\"),\r\n        method: \"get\",\r\n        headers: {\r\n            \"authorization\": \"Bearer \"+ Cookies.get(\"accessToken\")\r\n        }\r\n    })\r\n    const result= await res.data\r\n    return setData(result)\r\n}\r\n\r\nexport default get_last_conversation_id","import React, { useEffect, useState } from 'react'\r\nimport { useContext } from 'react'\r\nimport { AppContext } from '../../App'\r\nimport Avatar from './Avatar'\r\nimport DetailProfile from './DetailProfile'\r\nimport {AiFillMessage,AiFillHome } from \"react-icons/ai\"\r\nimport {FaUserFriends } from \"react-icons/fa\"\r\nimport{FiSettings,FiLogOut} from \"react-icons/fi\"\r\nimport { useNavigate } from 'react-router-dom'\r\nimport {GrClose}from \"react-icons/gr\"\r\nimport OutsideClickHandler from 'react-outside-click-handler'\r\nimport { Button } from 'react-bootstrap'\r\nimport logout from '../../api/logout'\r\nimport get_last_conversation_id from '../../api/coversation/get_last_conversation_id'\r\nimport { SocketContainerContext } from '../../SocketContainer/SocketContainer'\r\nimport Cookies from 'js-cookie'\r\nimport _ from 'lodash'\r\nimport update_seen_request from '../../api/update_seen_request'\r\nimport swal from 'sweetalert'\r\n\r\nconst Profile = () => {  \r\n  const [open, setOpen]= useState(()=> false)\r\n  const [openSetting, setOpenSetting]= useState(()=> false)\r\n  const {data }= useContext(AppContext)\r\n  const {socketState }= useContext(SocketContainerContext)\r\n  const [unSeenDefault, setUnSeenDefault]= useState(data?.seenRequest)\r\n  const [newRequestFriends, setNewRequestFriends]= useState([])\r\n  useEffect(()=> {\r\n    window.addEventListener(\"beforeunload\", handleBeforeUnload)\r\n    return ()=> {\r\n      window.removeEventListener(\"beforeunload\", handleBeforeUnload)\r\n    }\r\n  })\r\n\r\n  useEffect(()=> {\r\n    \r\n    socketState?.on(\"new_request_friend\", data=> {\r\n      if(Cookies.get(\"uid\")=== data?.destination_user_id) {\r\n        setNewRequestFriends(prev=> (_.set([...prev, data?.sender_user_id])))\r\n      }\r\n    })\r\n  }, [socketState])\r\n\r\n  const handleBeforeUnload= (e)=> {\r\n    e.preventDefault()\r\n    update_seen_request(Cookies.get(\"uid\"), parseInt(newRequestFriends.length) + unSeenDefault)\r\n  }\r\n  return (\r\n    <div className={\"dkdjakdjskdasadsd\"} style={{height: \"100vh\", width: 80}}>\r\n      <div className={\"dsjkdjaksljkfada\"} style={{width: \"100%\", height: '100%', background: \"#2e89ff\", padding: \"10px 0\", display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", flexDirection: \"column\"}}>\r\n        <div>\r\n          {/* <button onClick={()=> setNewRequestFriends(prev=> prev+ 1)}>Click</button> */}\r\n          <Avatar setOpen={setOpen} avatar={data?.profilePicture} />\r\n          {\r\n            open=== true &&\r\n            <DetailProfile open={open} setOpen={setOpen} />\r\n          }\r\n          <ToChatPage />\r\n          <ToFriendPage newRequestFriends={newRequestFriends} setNewRequestFriends={setNewRequestFriends} unSeenDefault={unSeenDefault} setUnSeenDefault={setUnSeenDefault} />\r\n          <ReloadApp />\r\n        </div>\r\n        <div style={{display: \"flex\", justifyContent: \"center\", alignItems: \"center\"}}>\r\n          <div onClick={()=> setOpenSetting(()=> true)} style={{display: \"flex\", justifyContent: \"center\", alignItems: \"center\", cursor: \"pointer\"}} className={\"fjldjsgjkjdklgjklrsd\"}>\r\n            <FiSettings style={{color: \"#fff\", width: 32, height: 32}} />\r\n          </div>\r\n          {\r\n            openSetting && \r\n            <SettingsPage open={openSetting} setOpen={setOpenSetting} />\r\n          }\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst ToChatPage= ()=> {\r\n  const [data, setData]= useState()\r\n  const navigate= useNavigate()\r\n  useEffect(()=> {\r\n    get_last_conversation_id(setData)\r\n  }, [])\r\n\r\n  return (\r\n    <div style={{display: \"flex\", justifyContent: 'center', alignItems: 'center', width: \"100%\", padding: \"20px\"}}>\r\n      <div onClick={()=> navigate(\"/chat/\"+ data?.lastConversationId || \"\")} title={\"Chat\"} style={{display: \"flex\", justifyContent :\"center\", alignItems: 'center'}}>\r\n        <AiFillMessage color={'#fff'} style={{width: 32, height: 32, color: \"#fff\", cursor: \"pointer\"}} />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst ToFriendPage= (props)=> {\r\n  const navigate= useNavigate()\r\n  const [seenAll, setSeenAll]= useState(false)\r\n  return (\r\n    <div style={{display: \"flex\", justifyContent: 'center', alignItems: 'center', width: \"100%\", padding: \"20px\"}}>\r\n      <div onClick={()=> {\r\n        navigate(\"/friends\")\r\n        setSeenAll(()=> true)\r\n        update_seen_request(Cookies.get(\"uid\"), 0)\r\n        props?.setUnSeenDefault(0)\r\n        props?.setNewRequestFriends([])\r\n\r\n      }} title={(props?.newRequestFriends?.length + (parseInt(props?.unSeenDefault) || 0)) > 0 ? `${(props?.newRequestFriends?.length + (parseInt(props?.unSeenDefault) || 0))} new request` : \"Friends\"} style={{display: \"flex\", justifyContent :\"center\", alignItems: 'center', position: \"relative\"}}>\r\n        <FaUserFriends color={'#fff'} style={{width: 32, height: 32, color: \"#fff\", cursor: \"pointer\"}} />\r\n        {\r\n          seenAll=== false && <>\r\n            {\r\n              (parseInt(props?.newRequestFriends?.length) + (parseInt(props?.unSeenDefault) || 0)) > 0 &&\r\n              <div style={{position: \"absolute\", top: \"-50%\", right: \"-50%\", backgroundColor: \"red\", width: 24, height: 24, borderRadius: \"50%\", color: \"#fff\"}} className={\"c-flex-center\"}>\r\n              {(props?.newRequestFriends?.length + (parseInt(props?.unSeenDefault) || 0))}\r\n            </div>\r\n          }\r\n          </>\r\n        }\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst SettingsPage= (props)=> {\r\n  return (\r\n    <div className={\"dsjdkjfkdlfjdmskdgm\"} style={{width: \"100%\", height: \"100%\", display: \"flex\", justifyContent: \"center\", alignItems: \"center\", position: \"fixed\", left: 0, top: 0, background: \"rgba(0, 0, 0, 0.3)\", zIndex: 10}}>\r\n      <OutsideClickHandler onOutsideClick={()=> props?.setOpen(()=> false)}>\r\n        <div className={\"DSkkjfkdjskljfdas\"} style={{maxWidth: 300, width: \"100vw\", background: \"#fff\", padding: 10, borderRadius: 10}}>\r\n          <div className={\"jdjadkjgkddssa\"} style={{width: '100%', height: 68, display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\"}}>\r\n              <strong>Cài đặt</strong>\r\n              <div style={{display: \"flex\", justifyContent: 'center', alignItems: \"center\", cursor: \"pointer\"}} onClick={()=> props.setOpen(()=> false)}>\r\n                <GrClose />\r\n              </div>\r\n          </div>\r\n          <div onClick={()=> logout()} style={{width: \"100%\", display: \"flex\", justifyContent: \"center\", alignItems: \"center\", marginBottom: 8}}>\r\n            <Button className={\"fjsdhkjhjkdsdsafdda\"} variant=\"outline-primary\"><FiLogOut style={{color: \"#2e89ff\"}} />&nbsp;Đăng xuất</Button>\r\n          </div>\r\n          <div onClick={()=> {}} style={{width: \"100%\", display: \"flex\", justifyContent: \"center\", alignItems: \"center\"}}>\r\n            <Button onClick={()=> {\r\n              swal(\"Thông báo\", \"Chức năng đang được phát triển\", \"error\")\r\n            }} className={\"fjsdhkjhjkdsdsafdda\"} variant={\"outline-danger\"}><FiLogOut style={{color: \"#fff\"}} />&nbsp;Xóa tài khoản</Button>\r\n          </div>\r\n            \r\n        </div>\r\n      </OutsideClickHandler>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst ReloadApp= ()=> {\r\n  \r\n  return (\r\n    <div title={\"reload\"} style={{display: \"flex\", justifyContent: 'center', alignItems: 'center', width: \"100%\", padding: \"20px\"}}>\r\n      <div onClick={()=> window.location.reload()} style={{display: \"flex\", justifyContent :\"center\", alignItems: 'center'}}>\r\n        <AiFillHome color={'#fff'} style={{width: 32, height: 32, color: \"#fff\", cursor: \"pointer\"}} />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default Profile  ","import Cookies from 'js-cookie'\r\nimport React, { createContext } from 'react'\r\nimport { useState } from 'react'\r\nimport { useEffect } from 'react'\r\nimport { useContext } from 'react'\r\nimport { AppContext } from '../../App'\r\nimport { SocketContainerContext } from '../../SocketContainer/SocketContainer'\r\nimport InComingCall from '../InComingCall/InComingCall'\r\nimport MainScreen from './MainScreen'\r\nimport Profile from './Profile'\r\n\r\nexport const HomeContext= createContext()\r\nconst Home = (props) => {\r\n  const {socketState}= useContext(SocketContainerContext)\r\n  const {data, setChange }= useContext(AppContext)\r\n  const [inComingCall, setInComingCall]= useState(false)\r\n  const [senderInfo, setSenderInfo]= useState()\r\n  const [callId, setCallId]= useState()\r\n  useEffect(()=> {\r\n    socketState?.emit(\"join_room_self\", {meId: Cookies.get(\"uid\")})\r\n  }, [socketState])\r\n  useEffect(()=> {\r\n    if(data?._id) {\r\n      socketState?.emit(\"joinUser\", {user: data})\r\n    }\r\n  }, [socketState, data])\r\n  useEffect(()=> {\r\n    socketState?.on(\"signal_to_user\", (dataSocket)=> {\r\n      if(dataSocket?.user_to_call=== data?._id) {\r\n        socketState.emit(\"receiver_to_call\", {call_id: dataSocket.call_id})\r\n        setInComingCall(()=> true)\r\n        setCallId(()=> dataSocket.call_id)\r\n        setSenderInfo(dataSocket.senderInfo)\r\n        \r\n      }\r\n\r\n    })\r\n  }, [socketState, data?._id])\r\n  useEffect(()=> {\r\n    socketState?.on(\"update_profile_user_on\", (data)=> {\r\n      setChange(prev=> !prev)\r\n    })\r\n}, [socketState])\r\n  return (\r\n    <HomeContext.Provider value={{setInComingCall, inComingCall}}>\r\n\r\n      <div className={\"ajdkasjkdjfaesas\"} style={{width: '100%', }}>\r\n        <div className={\"djasjkfjkejamwlawas\"} style={{width: \"100%\", display: \"flex\", alignItems: 'center'}}>\r\n          <Profile />\r\n          <MainScreen />\r\n        </div>\r\n        {\r\n          inComingCall=== true && \r\n          <InComingCall {...senderInfo} setInComingCall={setInComingCall} call_id={callId} />\r\n        }\r\n      </div>\r\n    </HomeContext.Provider>\r\n  )\r\n}\r\n\r\nexport default Home","import React from 'react'\r\nimport SocketContainer from '../../SocketContainer/SocketContainer'\r\n\r\nconst Container = ({children}) => {\r\n  return (\r\n    <SocketContainer>\r\n        {children}\r\n    </SocketContainer>\r\n  )\r\n}\r\n\r\nexport default Container","import axios from \"axios\";\r\nimport React, { useEffect } from \"react\";\r\nimport { Navigate, Route, Routes, useLocation } from \"react-router-dom\";\r\nimport Login from \"./Component/Login/Login\";\r\nimport Signup from \"./Component/Signup/Signup\";\r\nimport { SERVER_URL } from \"./config/config\";\r\nimport Cookies from \"js-cookie\";\r\nimport { useState } from \"react\";\r\nimport { createContext } from \"react\";\r\nimport Home from \"./Component/Home/Home\";\r\nimport ForgotPassword from \"./Component/ForgotPassword/ForgotPassword\";\r\nimport NotFound from \"./Component/NotFound/NotFound\";\r\nimport Container from \"./Component/Container/Container\";\r\n// import KeepAlive from \"react-activation\";\r\n\r\nexport function useIsMediaPath() {\r\n  const { pathname } = useLocation();\r\n\r\n  return pathname.startsWith(\"/media\");\r\n}\r\nexport const AppContext= createContext()\r\nconst App = () => {\r\n  const [data, setData] = useState();\r\n  const [auth, setAuth] = useState();\r\n  const [change, setChange]= useState(false)\r\n  useEffect(() => {\r\n    (async () => {\r\n      if(Cookies.get(\"uid\")) {\r\n        const res = await axios({\r\n          url: `${SERVER_URL}/api/users/${Cookies.get(\"uid\")}`,\r\n          headers: {\r\n            Authorization: `Bearer ${Cookies.get(\"accessToken\")}`,\r\n          },\r\n          method: \"get\",\r\n          params: {\r\n            id: Cookies.get(\"uid\"),\r\n          },\r\n        });\r\n        const result = await res.data;\r\n        if (res.status === 200) {\r\n          setAuth(() => true);\r\n        } else {\r\n          setAuth(() => false);\r\n        }\r\n        return setData(result);\r\n      }\r\n      else {\r\n        setAuth(()=> false)\r\n      }\r\n    })();\r\n  }, [change]);\r\n  return (\r\n      // <KeepAlive id=\"1234567888\" when={()=> false}>\r\n        <Container>\r\n          <AppContext.Provider value={{data, auth,setData, setChange}}>\r\n            <Routes>\r\n              {\r\n                auth=== true && <>\r\n                  <Route path={\"/*\"} element={<Home />} />\r\n                  <Route path={\"/signup\"} element={<Navigate to={\"/\"} />} />\r\n                  <Route path={\"/login\"} element={<Navigate to={\"/\"} />} />\r\n                  <Route path=\"*\" element={<NotFound />} />\r\n                </>\r\n              }\r\n              {\r\n                auth=== false && <>\r\n                  <Route path={\"/*\"} element=<Navigate to={\"/login\"} /> />\r\n                  <Route path={\"/signup\"} element={<Signup />} />\r\n                  <Route path={\"/login\"} element={<Login />} />\r\n                  <Route path={\"/forgot-password\"} element={<ForgotPassword />} />\r\n                  <Route path=\"*\" element={<NotFound />} />\r\n                </>\r\n              }\r\n            </Routes>\r\n          </AppContext.Provider>\r\n        </Container>\r\n      // </KeepAlive>\r\n\r\n  );\r\n};\r\n\r\nexport default App;\r\n"],"names":["className","style","position","top","left","display","justifyContent","alignItems","zIndex","width","xmlns","preserveAspectRatio","viewBox","minHeight","fill","d","login","phoneNumber","password","axios","url","SERVER_URL","method","data","res","result","parseInt","status","Cookies","user","_id","accessToken","window","location","href","origin","props","navigate","useNavigate","useState","showPassword","setShowPassword","setPhoneNumber","setPassword","enqueueSnackbar","useSnackbar","styles","marginBottom","fontSize","action","type","placeholder","onChange","e","target","value","autoComplete","required","transform","onClick","msg","variant","textAlign","cursor","to","signup","username","email","setData","check_user","toString","forgot_password","confirm_code","code_verify","setStatus","reset_password","validatePassword","test","WrongCode","memo","verify","setResult","confirmCode","setConfirmCode","confirmPassword","setConfirmPassword","Button","trim","length","swal","message","color","then","setUsername","setEmail","setMessage","checkFinal","setCheckFinal","codeVerify","setCodeVerify","showConfirmPassowrd","setShowConfirmPassword","checkUserandSignup","check","AutoSignup","validatePhoneNumber","validateEmail","validateConfirmPassword","useEffect","SocketContainerContext","createContext","children","socketState","setSocketState","meSocket","setMeSocket","socket","io","transports","on","id","disconnect","Provider","useContext","soundInComingCall","document","createElement","autoplay","src","loop","undefined","height","background","padding","borderRadius","border","profilePicture","objectFit","alt","marginTop","fontWeight","gap","setInComingCall","emit","call_id","flexDirection","get_files_conversation","conversationId","headers","get_info_detail_conversation","idConversation","add_member_to_group","newMember","member","get_conversation_friends","friendId","userId","out_group","id_conversation","console","log","prev","send_request_make_friend_by_me","get_message_conversationid","query","params","search_user_by_phone","Avatar","imgPreview","setImagePreview","setOpen","preview","avatar","is_edit","right","bottom","img","files","URL","createObjectURL","key","lastModified","setNewProfilePicture","setChangeAvatar","title","opacity","imgPreviewFunction","setNewCoverPhoto","setChangeCoverPhoto","backgroundImage","backgroundRepeat","backgroundSize","backgroundPosition","size","backgroundColor","coverPhoto","uploadImageClient","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","file","storage","getStorage","storageRef","ref","name","uploadTask","uploadBytesResumable","Promise","resolve","reject","snapshot","progress","bytesTransferred","totalBytes","state","error","code","getDownloadURL","downloadURL","update_info_user","newUsername","newProfilePicture","newGender","changeAvatar","newCoverPhoto","changeCoverPhoto","newAddress","finalAvatar","finalCover","urlAvatar","urlCover","authorization","deaf_user","deaf","id_user","DetailProfile","AppContext","setChange","updateInfo","setUpdateInfo","setNewUsername","setNewGender","updateData","setUpdateData","setNewAddress","setNewDateOfBirth","gender","dateOfBirth","address","coverPicture","onOutsideClick","maxWidth","NameProfile","ProfileInfo","AdvancedSettings","outline","ChangeUserName","UpdateInfo","meId","setCheck","isDeaf","checked","marginLeft","htmlFor","ItemProfileInfo","info","margin","outlineColor","UpdateGender","UpdateAddress","delete_member_id","memberId","make_conversation","label","createdBy","imageGroup","get_list_friend_rebuild","unfriend","get_list_conversation","List","Audio","audio","useParams","change","is_friend_page","data2","index","findIndex","item","roomId","slice","lastUpdate","play","fuse","Fuse","keys","getFn","book","map","overflow","isSearching","search_conversation","search","searchQuery","ItemList","TransitionGroup","_","moment","valueOf","CSSTransition","timeout","classNames","newMessageSignal","setNewMessageSignal","textDecoration","isActive","ImageItemList","Name","filter","RequestByMe","RequestByUserToMe","ListFriendItem","friends","ListFriendComponent","setArrayMember","arrayMember","is_invite","open","is_group","isHostGroup","my_id","stopPropagation","disabled","includes","whiteSpace","PopupAddFriends","setData2","setNewConversation","unfriend_f","reload","recall_message","keyId","remove_message","ContentConversation","mode","listMessage","o","createdAt","ComponentMessage","reValue","setReValue","onMouseEnter","onMouseLeave","sender","Text","OptionComponentMessage","recallMessage","kindof","idMessage","removeMessage","me","alignSelf","wordBreak","type_message","aspectRatio","rel","name_file","controls","CompoentViewTextToVoice","refAudio","useRef","autoplaying","setAutoplay","setTimeout","current","timeout2","clearTimeout","extend_text","userTyping","post_message","conversation","update_last_conversation_id","send_voice","addAudioElement","blob","formData","FormData","append","voice","sendVoiceMessage","onRecordingComplete","recorderControls","classes","ChooseFile","useAudioRecorder","sendImage","messageImg","v4","Date","sendFile","paddingRight","startRecording","TypingText","flex","onKeyUp","sendMessage","setContentText","typing","contentText","text_to_voice","text","SendButton","sendNewMessage","sendMessageTextToVoice","voiceResult","paddingLeft","newestMessage","setTyping","setUserTyping","unSeenMessage","setUnSeenMessage","borderTop","toLocaleString","timeZone","get_friend_status","idUser","cancel_request_make_friend_from_me","accpet_add_friends","denied_request_friends","TitleMainChat","HomeContext","callId","useMemo","replaceAll","borderBottom","is_show_info_group","isCall","setIsCall","setAudio","setVideo","user_to_call","senderInfo","setCallId","setExtend","refScroll","page","limit","setListMessage","maxHeight","avtChat","isFriend","setIsFriend","setIsHostGroup","duplicate","destination_user_id","sender_user_id","toAddMember","setToAddMember","searchMember","setSearchMember","dataSearchMember","setDataSearchMember","setResultAddMember","friendsQueue","friendStatus","setFriendStatus","toggleMakeFriend","setToggleMakeFriend","messageRequest","setMessageRequest","profileUser","request","autoFocus","resize","rows","cols","Fragment","ListMember","keyword","SearchAndList","setSearchQuery","borderRight","SearchBar","is_chat_page","MainSearch","AddFriends","CreateNewGroup","PopupMakeConversation","exist","dataSendRequest","setDataSendRequest","fontSiz","fontSi","setImage","setLabel","imgChoose","exec","urlImage","IMAGE_GROUP_DEFAULT","useClient","createClient","codec","useMicrophoneAndCameraTracks","createMicrophoneAndCameraTracks","VideoCall","setInCall","channelName","token","uid","video","users","setUsers","start","setStart","client","ready","tracks","init","mediaType","subscribe","prevUsers","audioTrack","stop","User","join","publish","Videos","Controls","AgoraVideoPlayer","videoTrack","trackState","setTrackState","leave","removeAllListeners","close","mute","setEnabled","ps","leaveChannel","useCallback","onbeforeunload","setUid","appCertificate","setToken","inCall","account","res1","result1","StorageFile","borderLeft","flexWrap","media","setConversation","extend","get_list_user_send_request_add_friend_of_me","get_list_user_request_make_friend_to_me","update_seen_request","un_seen","ComponentRequestByMe","Title","ItemUser","ComponentRequestToMe","ItemUserForme","path","element","replace","auth","lastConversationId","get_last_conversation_id","ToChatPage","ToFriendPage","seenAll","setSeenAll","setUnSeenDefault","setNewRequestFriends","newRequestFriends","unSeenDefault","SettingsPage","logout","ReloadApp","openSetting","setOpenSetting","seenRequest","addEventListener","handleBeforeUnload","removeEventListener","preventDefault","inComingCall","setSenderInfo","dataSocket","useIsMediaPath","useLocation","pathname","startsWith","setAuth","Authorization"],"sourceRoot":""}